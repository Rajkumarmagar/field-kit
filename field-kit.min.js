(function(){function t(e,r){for(var n=[],i=e.split("/"),o,s,a=0;s=i[a++];)".."==s?n.pop():"."!=s&&n.push(s);n=n.join("/"),a=t,s=a.m[r||0],o=s[n+".js"]||s[n+"/index.js"]||s[n];if(s=o.c)o=a.m[r=s][e=o.m];return o.exports||o(o,o.exports={},function(t){return a("."!=t.charAt(0)?t:e+"/../"+t,r)}),o.exports}t.m=[];t.m[0]={"adaptive_card_formatter.js":function(t,e,r){(function(){var e,n,i,o,s,a;i=r("./amex_card_formatter");o=r("./default_card_formatter");a=r("./card_utils"),s=a.determineCardType,e=a.AMEX;n=function(){function t(){this.amexCardFormatter=new i;this.defaultCardFormatter=new o;this.formatter=this.defaultCardFormatter}t.prototype.format=function(t){return this._formatterForPan(t).format(t)};t.prototype.parse=function(t,e){return this.formatter.parse(t,e)};t.prototype.isChangeValid=function(t){this.formatter=this._formatterForPan(t.proposed.text);return this.formatter.isChangeValid(t)};t.prototype._formatterForPan=function(t){if(s(t.replace(/[^\d]+/g,""))===e){return this.amexCardFormatter}else{return this.defaultCardFormatter}};return t}();t.exports=n}).call(this)},"amex_card_formatter.js":function(t,e,r){(function(){var e,n,i={}.hasOwnProperty,o=function(t,e){for(var r in e){if(i.call(e,r))t[r]=e[r]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t};n=r("./default_card_formatter");e=function(t){o(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.maximumLength=15+2;e.prototype.hasDelimiterAtIndex=function(t){return t===4||t===11};return e}(n);t.exports=e}).call(this)},"card_text_field.js":function(t,e,r){(function(){var e,n,i,o,s,a={}.hasOwnProperty,l=function(t,e){for(var r in e){if(a.call(e,r))t[r]=e[r]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t};o=r("./text_field");e=r("./adaptive_card_formatter");s=r("./card_utils").determineCardType;n={None:"None",DoneEditing:"DoneEditing"};i=function(t){l(r,t);function r(t){r.__super__.constructor.call(this,t,new e);this.setCardMaskStrategy(n.None)}r.prototype.cardType=function(){return s(this.value())};r.prototype.cardMaskStrategy=function(){return this._cardMaskStrategy};r.prototype.setCardMaskStrategy=function(t){if(t!==this._cardMaskStrategy){this._cardMaskStrategy=t}return null};r.prototype._masked=false;r.prototype.text=function(){if(this._masked){return this._unmaskedText}else{return r.__super__.text.call(this)}};r.prototype.setText=function(t){if(this._masked){this._unmaskedText=t;t=this.cardMask()}return r.__super__.setText.call(this,t)};r.prototype.textFieldDidEndEditing=function(){if(this.cardMaskStrategy()===n.DoneEditing){return this._enableMasking()}};r.prototype.textFieldDidBeginEditing=function(){if(this.cardMaskStrategy()===n.DoneEditing){return this._disableMasking()}};r.prototype._enableMasking=function(){if(!this._masked){this._unmaskedText=this.text();this._masked=true;return this.setText(this._unmaskedText)}};r.prototype._disableMasking=function(){if(this._masked){this._masked=false;this.setText(this._unmaskedText);return this._unmaskedText=null}};r.prototype.cardMask=function(){var t,e,r;e=this.text();r=e.slice(0,-4);t=e.slice(-4);return r.replace(/\d/g,"â€¢")+t};return r}(o);i.CardMaskStrategy=n;t.exports=i}).call(this)},"card_utils.js":function(t,e,r){(function(){var e,r,n,i,o,s,a;e="amex";r="discover";n="mastercard";i="visa";o=function(t){var o,s,a;if(t==null){return null}t=t.toString();o=parseInt(t.slice(0,2),10);a=parseInt(t.slice(0,6),10);s=parseInt(t.slice(0,3),10);if(t[0]==="4"){return i}else if(t.slice(0,4)==="6011"||o===65||s>=664&&s<=649||a>=622126&&a<=622925){return r}else if(o>=51&&o<=55){return n}else if(o===34||o===37){return e}};s=function(t){var e,r,n,i,o,s;i=0;r=true;for(n=o=s=t.length-1;s<=0?o<=0:o>=0;n=s<=0?++o:--o){if(!(t.charAt(n)!==" ")){continue}e=parseInt(t.charAt(n),10);i+=(r=!r)?Math.floor(e*2/10)+Math.floor(e*2%10):e}return i%10===0};a=function(t){var s;switch(o(t)){case i:return(s=t.length)===13||s===16;case r:case n:return t.length===16;case e:return t.length===15;default:return false}};t.exports={determineCardType:o,luhnCheck:s,validCardLength:a,AMEX:e,DISCOVER:r,MASTERCARD:n,VISA:i}}).call(this)},"default_card_formatter.js":function(t,e,r){(function(){var e,n,i,o,s,a={}.hasOwnProperty,l=function(t,e){for(var r in e){if(a.call(e,r))t[r]=e[r]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t};n=r("./delimited_text_formatter");s=r("./card_utils"),o=s.validCardLength,i=s.luhnCheck;e=function(t){l(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.delimiter=" ";e.prototype.maximumLength=16+3;e.prototype.hasDelimiterAtIndex=function(t){return t===4||t===9||t===14};e.prototype.parse=function(t,r){var n;n=this._valueFromText(t);if(!o(n)){if(typeof r==="function"){r("card-formatter.number-too-short")}}if(!i(n)){if(typeof r==="function"){r("card-formatter.invalid-number")}}return e.__super__.parse.call(this,t,r)};e.prototype._valueFromText=function(t){return e.__super__._valueFromText.call(this,(t!=null?t:"").replace(/[^\d]/g,""))};return e}(n);t.exports=e}).call(this)},"delimited_text_formatter.js":function(t,e,r){(function(){var e,n,i={}.hasOwnProperty,o=function(t,e){for(var r in e){if(i.call(e,r))t[r]=e[r]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t},s=[].slice;n=r("./formatter");e=function(t){o(e,t);e.prototype.delimiter=null;e.prototype.delimiterAt=function(t){if(!this.hasDelimiterAtIndex(t)){return null}return this.delimiter};e.prototype.isDelimiter=function(t){return t===this.delimiter};function e(t){var e;if(t==null){t=this.delimiter}this.delimiter=t;if(((e=this.delimiter)!=null?e.length:void 0)!==1){throw new Error("delimiter must have just one character")}}e.prototype.format=function(t){return this._textFromValue(t)};e.prototype._textFromValue=function(t){var e,r,n,i,o;if(!t){return""}n="";for(i=0,o=t.length;i<o;i++){e=t[i];while(r=this.delimiterAt(n.length)){n+=r}n+=e;while(r=this.delimiterAt(n.length)){n+=r}}return n};e.prototype.parse=function(t,e){return this._valueFromText(t)};e.prototype._valueFromText=function(t){var e;if(!t){return""}return function(){var r,n,i;i=[];for(r=0,n=t.length;r<n;r++){e=t[r];if(!this.isDelimiter(e)){i.push(e)}}return i}.call(this).join("")};e.prototype.isChangeValid=function(t,r){var n,i,o,a,l,u,h,c,d,f,p,g;if(!e.__super__.isChangeValid.call(this,t,r)){return false}h=t.proposed.text;c=t.proposed.selectedRange;a=c.length!==0;d=c.start<t.current.selectedRange.start;p=c.start>t.current.selectedRange.start;n=c.start+c.length<t.current.selectedRange.start+t.current.selectedRange.length;o=c.start+c.length>t.current.selectedRange.start+t.current.selectedRange.length;f=d&&this.hasDelimiterAtIndex(c.start)||p&&this.hasDelimiterAtIndex(c.start-1);i=n&&this.hasDelimiterAtIndex(c.start+c.length)||o&&this.hasDelimiterAtIndex(c.start+c.length-1);if(this.isDelimiter(t.deleted.text)){u=t.deleted.start-1;while(this.isDelimiter(h.charAt(u))){h=h.substring(0,u)+h.substring(u+1);u--}h=h.substring(0,u)+h.substring(u+1)}if(d&&f){while(this.delimiterAt(c.start-1)){c.start--;c.length++}c.start--;c.length++}if(p){while(this.delimiterAt(c.start)){c.start++;c.length--}if(f){c.start++;c.length--;while(this.delimiterAt(c.start)){c.start++;c.length--}}}if(a){if(i){if(n){while(this.delimiterAt(c.start+c.length-1)){c.length--}c.length--}if(o){while(this.delimiterAt(c.start+c.length)){c.length++}c.length++}}while(this.hasDelimiterAtIndex(c.start+c.length-1)){if(d||n){c.length--}else{c.length++}}while(this.hasDelimiterAtIndex(c.start)){if(p||o){c.start++;c.length--}else{c.start--;c.length++}}}else{c.length=0}l=true;g=this._valueFromText(h,function(){var t;t=1<=arguments.length?s.call(arguments,0):[];l=false;return r.apply(null,t)});if(l){t.proposed.text=this._textFromValue(g)}return l};return e}(n);t.exports=e}).call(this)},"expiry_date_formatter.js":function(t,e,r){(function(){var e,n,i,o={}.hasOwnProperty,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t};e=r("./delimited_text_formatter");i=function(t){var e;e=""+t;while(e.length<2){e="0"+e}return e};n=function(t){s(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.delimiter="/";e.prototype.maximumLength=5;e.prototype.hasDelimiterAtIndex=function(t){return t===2};e.prototype.format=function(t){var r,n;if(!t){return""}r=t.month,n=t.year;n=n%100;return e.__super__.format.call(this,i(r)+i(n))};e.prototype.parse=function(t,r){var n;t=e.__super__.parse.call(this,t);if(n=t.match(/^(0?[1-9]|1\d)(\d\d)$/)){return{month:Number(n[1]),year:Number(n[2])}}else{r("expiry-date-formatter.invalid-date");return null}};e.prototype.isChangeValid=function(t,e){var r,n,i;r=t.proposed.text.length<t.current.text.length;i=t.proposed.text;if(r){if(t.deleted.text===this.delimiter){i=i[0]}if(i==="0"){i=""}}else if(t.inserted.text===this.delimiter&&t.current.text==="1"){i="01"+this.delimiter}else if(t.inserted.text.length>0&&!/^\d$/.test(t.inserted.text)){e("expiry-date-formatter.only-digits-allowed");return false}else{if(/^[2-9]$/.test(i)){i="0"+i}if(/^1[3-9]$/.test(i)){e("expiry-date-formatter.invalid-month");return false}if(i==="00"){e("expiry-date-formatter.invalid-month");return false}if(/^(0[1-9]|1[0-2])$/.test(i)){i+=this.delimiter}if((n=i.match(/^(\d\d)(.)(\d\d?).*$/))&&n[2]===this.delimiter){i=n[1]+this.delimiter+n[3]}}t.proposed.text=i;t.proposed.selectedRange={start:i.length,length:0};return true};return e}(e);t.exports=n}).call(this)},"formatter.js":function(t,e,r){(function(){var e;e=function(){function t(){}t.prototype.maximumLength=null;t.prototype.format=function(t){if(t==null){t=""}if(this.maximumLength!=null){t=t.substring(0,this.maximumLength)}return t};t.prototype.parse=function(t,e){if(t==null){t=""}if(this.maximumLength!=null){t=t.substring(0,this.maximumLength)}return t};t.prototype.isChangeValid=function(t,e){var r,n,i,o,s,a;a=t.proposed,i=a.selectedRange,o=a.text;if(this.maximumLength!=null&&o.length>this.maximumLength){r=this.maximumLength-(o.length-t.inserted.text.length);n=t.current.text.substring(0,t.current.selectedRange.start);if(r>0){n+=t.inserted.text.substring(0,r)}n+=t.current.text.substring(t.current.selectedRange.start+t.current.selectedRange.length);s=o.length-n.length;t.proposed.text=n;i.start-=s}return true};return t}();t.exports=e}).call(this)},"index.js":function(t,e,r){(function(){var e;e={AdaptiveCardFormatter:r("./adaptive_card_formatter"),AmexCardFormatter:r("./amex_card_formatter"),CardTextField:r("./card_text_field"),DefaultCardFormatter:r("./default_card_formatter"),DelimitedTextFormatter:r("./delimited_text_formatter"),ExpiryDateFormatter:r("./expiry_date_formatter"),Formatter:r("./formatter"),SocialSecurityNumberFormatter:r("./social_security_number_formatter"),TextField:r("./text_field"),UndoManager:r("./undo_manager"),UsPhoneFormatter:r("./us_phone_formatter")};t.exports=e}).call(this)},"social_security_number_formatter.js":function(t,e,r){(function(){var e,n,i={}.hasOwnProperty,o=function(t,e){for(var r in e){if(i.call(e,r))t[r]=e[r]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t};e=r("./delimited_text_formatter");n=function(t){o(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.delimiter="-";e.prototype.maximumLength=9+2;e.prototype.hasDelimiterAtIndex=function(t){return t===3||t===6};e.prototype.isChangeValid=function(t){if(/^\d*$/.test(t.inserted.text)){return e.__super__.isChangeValid.call(this,t)}else{return false}};return e}(e);t.exports=n}).call(this)},"text_field.js":function(t,e,r){(function(){var e,n,i,o,s,a,l=function(t,e){return function(){return t.apply(e,arguments)}},u=[].slice;s=r("./undo_manager");n={A:65,Y:89,Z:90,ZERO:48,NINE:57,LEFT:37,RIGHT:39,UP:38,DOWN:40,BACKSPACE:8,DELETE:46,TAB:9,ENTER:13};n.isDigit=function(t){return this.ZERO<=t&&t<=this.NINE};n.isDirectional=function(t){return t===this.LEFT||t===this.RIGHT||t===this.UP||t===this.DOWN};e={UPSTREAM:0,DOWNSTREAM:1,NONE:null};a=function(t){return t&&/^\w$/.test(t)};i=function(){t.prototype.selectionAffinity=e.NONE;t.prototype._delegate=null;t.prototype.delegate=function(){return this._delegate};t.prototype.setDelegate=function(t){this._delegate=t;return null};function t(t,e){this.element=t;this._formatter=e;this._blur=l(this._blur,this);this._focus=l(this._focus,this);this.click=l(this.click,this);this.paste=l(this.paste,this);this.keyUp=l(this.keyUp,this);this.keyPress=l(this.keyPress,this);this.keyDown=l(this.keyDown,this);this._jQuery=this.element.constructor;this.element.on("keydown",this.keyDown);this.element.on("keypress",this.keyPress);this.element.on("keyup",this.keyUp);this.element.on("click",this.click);this.element.on("paste",this.paste);this.element.on("focus",this._focus);this.element.on("blur",this._blur)}t.prototype.insertText=function(t){var e;if(this.hasSelection()){this.clearSelection()}this.replaceSelection(t);e=this.selectedRange();e.start+=e.length;e.length=0;return this.setSelectedRange(e)};t.prototype.insertNewline=function(t){this._textFieldDidEndEditing();return this._didEndEditingButKeptFocus=true};t.prototype._textDidChange=function(){var t;this.textDidChange();return(t=this._delegate)!=null?typeof t.textDidChange==="function"?t.textDidChange(this):void 0:void 0};t.prototype.textDidChange=function(){};t.prototype._textFieldDidEndEditing=function(){var t;this.textFieldDidEndEditing();return(t=this._delegate)!=null?typeof t.textFieldDidEndEditing==="function"?t.textFieldDidEndEditing(this):void 0:void 0};t.prototype.textFieldDidEndEditing=function(){};t.prototype._textFieldDidBeginEditing=function(){var t;this.textFieldDidBeginEditing();return(t=this._delegate)!=null?typeof t.textFieldDidBeginEditing==="function"?t.textFieldDidBeginEditing(this):void 0:void 0};t.prototype.textFieldDidBeginEditing=function(){};t.prototype.moveUp=function(t){t.preventDefault();return this.setSelectedRange({start:0,length:0})};t.prototype.moveToBeginningOfParagraph=function(t){return this.moveUp(t)};t.prototype.moveUpAndModifySelection=function(t){var r;t.preventDefault();r=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:case e.NONE:r.length+=r.start;r.start=0;break;case e.DOWNSTREAM:r.length=r.start;r.start=0}return this.setSelectedRangeWithAffinity(r,e.UPSTREAM)};t.prototype.moveParagraphBackwardAndModifySelection=function(t){var r;t.preventDefault();r=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:case e.NONE:r.length+=r.start;r.start=0;break;case e.DOWNSTREAM:r.length=0}return this.setSelectedRangeWithAffinity(r,e.UPSTREAM)};t.prototype.moveToBeginningOfDocument=function(t){return this.moveToBeginningOfLine(t)};t.prototype.moveToBeginningOfDocumentAndModifySelection=function(t){var r;t.preventDefault();r=this.selectedRange();r.length+=r.start;r.start=0;return this.setSelectedRangeWithAffinity(r,e.UPSTREAM)};t.prototype.moveDown=function(t){var r;t.preventDefault();r={start:this.text().length,length:0};return this.setSelectedRangeWithAffinity(r,e.NONE)};t.prototype.moveToEndOfParagraph=function(t){return this.moveDown(t)};t.prototype.moveDownAndModifySelection=function(t){var r,n;t.preventDefault();n=this.selectedRange();r=this.text().length;if(this.selectionAffinity===e.UPSTREAM){n.start+=n.length}n.length=r-n.start;return this.setSelectedRangeWithAffinity(n,e.DOWNSTREAM)};t.prototype.moveParagraphForwardAndModifySelection=function(t){var r;t.preventDefault();r=this.selectedRange();switch(this.selectionAffinity){case e.DOWNSTREAM:case e.NONE:r.length=this.text().length-r.start;break;case e.UPSTREAM:r.start+=r.length;r.length=0}return this.setSelectedRangeWithAffinity(r,e.DOWNSTREAM)};t.prototype.moveToEndOfDocument=function(t){return this.moveToEndOfLine(t)};t.prototype.moveToEndOfDocumentAndModifySelection=function(t){var r;t.preventDefault();r=this.selectedRange();r.length=this.text().length-r.start;return this.setSelectedRangeWithAffinity(r,e.DOWNSTREAM)};t.prototype.moveLeft=function(t){var r;t.preventDefault();r=this.selectedRange();if(r.length!==0){r.length=0}else{r.start--}return this.setSelectedRangeWithAffinity(r,e.NONE)};t.prototype.moveLeftAndModifySelection=function(t){var r;t.preventDefault();r=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:case e.NONE:this.selectionAffinity=e.UPSTREAM;r.start--;r.length++;break;case e.DOWNSTREAM:r.length--}return this.setSelectedRange(r)};t.prototype.moveWordLeft=function(t){var e;t.preventDefault();e=this.lastWordBreakBeforeIndex(this.selectedRange().start-1);return this.setSelectedRange({start:e,length:0})};t.prototype.moveWordLeftAndModifySelection=function(t){var r,n,i;t.preventDefault();n=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:case e.NONE:this.selectionAffinity=e.UPSTREAM;i=this.lastWordBreakBeforeIndex(n.start-1);n.length+=n.start-i;n.start=i;break;case e.DOWNSTREAM:r=this.lastWordBreakBeforeIndex(n.start+n.length);if(r<n.start){r=n.start}n.length-=n.start+n.length-r}return this.setSelectedRange(n)};t.prototype.moveToBeginningOfLine=function(t){t.preventDefault();return this.setSelectedRange({start:0,length:0})};t.prototype.moveToBeginningOfLineAndModifySelection=function(t){var r;t.preventDefault();r=this.selectedRange();r.length+=r.start;r.start=0;return this.setSelectedRangeWithAffinity(r,e.UPSTREAM)};t.prototype.moveRight=function(t){var r;t.preventDefault();r=this.selectedRange();if(r.length!==0){r.start+=r.length;r.length=0}else{r.start++}return this.setSelectedRangeWithAffinity(r,e.NONE)};t.prototype.moveRightAndModifySelection=function(t){var r;t.preventDefault();r=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:r.start++;r.length--;break;case e.DOWNSTREAM:case e.NONE:this.selectionAffinity=e.DOWNSTREAM;r.length++}return this.setSelectedRange(r)};t.prototype.moveWordRight=function(t){var e,r;t.preventDefault();r=this.selectedRange();e=this.nextWordBreakAfterIndex(r.start+r.length);return this.setSelectedRange({start:e,length:0})};t.prototype.moveWordRightAndModifySelection=function(t){var r,n,i;t.preventDefault();n=this.selectedRange();i=n.start;r=n.start+n.length;switch(this.selectionAffinity){case e.UPSTREAM:i=Math.min(this.nextWordBreakAfterIndex(i),r);break;case e.DOWNSTREAM:case e.NONE:this.selectionAffinity=e.DOWNSTREAM;r=this.nextWordBreakAfterIndex(n.start+n.length)}return this.setSelectedRange({start:i,length:r-i})};t.prototype.moveToEndOfLine=function(t){t.preventDefault();return this.setSelectedRange({start:this.text().length,length:0})};t.prototype.moveToEndOfLineAndModifySelection=function(t){var r;t.preventDefault();r=this.selectedRange();r.length=this.text().length-r.start;return this.setSelectedRangeWithAffinity(r,e.DOWNSTREAM)};t.prototype.deleteBackward=function(t){var e;t.preventDefault();e=this.selectedRange();if(e.length===0){e.start--;e.length++;this.setSelectedRange(e)}return this.clearSelection()};t.prototype.deleteWordBackward=function(t){var e,r;if(this.hasSelection()){return this.deleteBackward(t)}t.preventDefault();e=this.selectedRange();r=this.lastWordBreakBeforeIndex(e.start);e.length+=e.start-r;e.start=r;this.setSelectedRange(e);return this.clearSelection()};t.prototype.deleteBackwardByDecomposingPreviousCharacter=function(t){return this.deleteBackward(t)};t.prototype.deleteBackwardToBeginningOfLine=function(t){var e;if(this.hasSelection()){return this.deleteBackward(t)}t.preventDefault();e=this.selectedRange();e.length=e.start;e.start=0;this.setSelectedRange(e);return this.clearSelection()};t.prototype.deleteForward=function(t){var e;t.preventDefault();e=this.selectedRange();if(e.length===0){e.length++;this.setSelectedRange(e)}return this.clearSelection()};t.prototype.deleteWordForward=function(t){var e,r;if(this.hasSelection()){return this.deleteForward(t)}t.preventDefault();r=this.selectedRange();e=this.nextWordBreakAfterIndex(r.start+r.length);this.setSelectedRange({start:r.start,length:e-r.start});return this.clearSelection()};t.prototype.insertTab=function(t){};t.prototype.insertBackTab=function(t){};t.prototype.hasSelection=function(){return this.selectedRange().length!==0};t.prototype.lastWordBreakBeforeIndex=function(t){var e,r,n,i,o;e=this.leftWordBreakIndexes();r=e[0];for(i=0,o=e.length;i<o;i++){n=e[i];if(t>n){r=n}else{break}}return r};t.prototype.leftWordBreakIndexes=function(){var t,e,r,n,i;e=[];r=this.text();for(t=n=0,i=r.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(!a(r[t-1])&&a(r[t])){e.push(t)}}return e};t.prototype.nextWordBreakAfterIndex=function(t){var e,r,n,i,o;e=this.rightWordBreakIndexes().reverse();r=e[0];for(i=0,o=e.length;i<o;i++){n=e[i];if(t<n){r=n}else{break}}return r};t.prototype.rightWordBreakIndexes=function(){var t,e,r,n,i;e=[];r=this.text();for(t=n=0,i=r.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n){if(a(r[t])&&!a(r[t+1])){e.push(t+1)}}return e};t.prototype.clearSelection=function(){return this.replaceSelection("")};t.prototype.replaceSelection=function(t){var r,n,i;n=this.selectedRange();r=n.start+n.length;i=this.text();i=i.substring(0,n.start)+t+i.substring(r);n.length=t.length;this.setText(i);return this.setSelectedRangeWithAffinity(n,e.NONE)};t.prototype.selectAll=function(t){t.preventDefault();return this.setSelectedRangeWithAffinity({start:0,length:this.text().length},e.NONE)};t.prototype.readSelectionFromPasteboard=function(t){var e,r;r=t.getData("Text");this.replaceSelection(r);e=this.selectedRange();e.start+=e.length;e.length=0;return this.setSelectedRange(e)};t.prototype.keyDown=function(t){var e,r,i,o,s,a,l=this;i=t.keyCode,o=t.metaKey,r=t.ctrlKey,a=t.shiftKey,e=t.altKey;s=[];if(e){s.push("alt")}if(r){s.push("ctrl")}if(o){s.push("meta")}if(a){s.push("shift")}s=s.join("+");if(this._didEndEditingButKeptFocus){this._textFieldDidBeginEditing();this._didEndEditingButKeptFocus=false}if(i===n.Z&&(s==="meta"||s==="ctrl")){if(this.undoManager().canUndo()){this.undoManager().undo()}t.preventDefault()}else if(i===n.Z&&s==="meta+shift"||i===n.Y&&s==="ctrl"){if(this.undoManager().canRedo()){this.undoManager().redo()}t.preventDefault()}return this.rollbackInvalidChanges(function(){if((o||r)&&i===n.A){l.selectAll(t)}else if(i===n.LEFT){switch(s){case"":l.moveLeft(t);break;case"alt":l.moveWordLeft(t);break;case"shift":l.moveLeftAndModifySelection(t);break;case"alt+shift":l.moveWordLeftAndModifySelection(t);break;case"meta":l.moveToBeginningOfLine(t);break;case"meta+shift":l.moveToBeginningOfLineAndModifySelection(t);break;default:throw new Error("unhandled left+"+s)}}else if(i===n.RIGHT){switch(s){case"":l.moveRight(t);break;case"alt":l.moveWordRight(t);break;case"shift":l.moveRightAndModifySelection(t);break;case"alt+shift":l.moveWordRightAndModifySelection(t);break;case"meta":l.moveToEndOfLine(t);break;case"meta+shift":l.moveToEndOfLineAndModifySelection(t);break;default:throw new Error("unhandled right+"+s)}}else if(i===n.UP){switch(s){case"":l.moveUp(t);break;case"alt":l.moveToBeginningOfParagraph(t);break;case"shift":l.moveUpAndModifySelection(t);break;case"alt+shift":l.moveParagraphBackwardAndModifySelection(t);break;case"meta":l.moveToBeginningOfDocument(t);break;case"meta+shift":l.moveToBeginningOfDocumentAndModifySelection(t);break;default:throw new Error("unhandled up+"+s)}}else if(i===n.DOWN){switch(s){case"":l.moveDown(t);break;case"alt":l.moveToEndOfParagraph(t);break;case"shift":l.moveDownAndModifySelection(t);break;case"alt+shift":l.moveParagraphForwardAndModifySelection(t);break;case"meta":l.moveToEndOfDocument(t);break;case"meta+shift":l.moveToEndOfDocumentAndModifySelection(t);break;default:throw new Error("unhandled down+"+s)}}else if(i===n.BACKSPACE){switch(s){case"":case"shift":l.deleteBackward(t);break;case"alt":case"alt+shift":l.deleteWordBackward(t);break;case"ctrl":case"ctrl+shift":l.deleteBackwardByDecomposingPreviousCharacter(t);break;case"meta":case"meta+shift":l.deleteBackwardToBeginningOfLine(t);break;default:throw new Error("unhandled backspace+"+s)}}else if(i===n.DELETE){if(e){l.deleteWordForward(t)}else{l.deleteForward(t)}}else if(i===n.TAB){if(a){l.insertBackTab(t)}else{l.insertTab(t)}}else if(i===n.ENTER){l.insertNewline(t)}return null})};t.prototype.keyPress=function(t){var e,r=this;if(!t.metaKey&&!t.ctrlKey&&(e=t.keyCode)!==n.ENTER&&e!==n.TAB&&e!==n.BACKSPACE){t.preventDefault();return this.rollbackInvalidChanges(function(){return r.insertText(String.fromCharCode(t.charCode))})}};t.prototype.keyUp=function(t){var e=this;return this.rollbackInvalidChanges(function(){if(t.keyCode===n.TAB){return e.selectAll(t)}})};t.prototype.paste=function(t){var e=this;t.preventDefault();return this.rollbackInvalidChanges(function(){return e.readSelectionFromPasteboard(t.originalEvent.clipboardData)})};t.prototype.rollbackInvalidChanges=function(t){var e,r,n,i,s,a;i=null;n=null;e=o.build(this,function(){return i=t()});r=function(t){return n=t};if(e.hasChanges()){if(typeof((s=this.formatter())!=null?s.isChangeValid:void 0)==="function"){if(this.formatter().isChangeValid(e,r)){e.recomputeDiff();this.setText(e.proposed.text);this.setSelectedRange(e.proposed.selectedRange)}else{if((a=this.delegate())!=null){if(typeof a.textFieldDidFailToValidateChange==="function"){a.textFieldDidFailToValidateChange(this,e,n)}}this.setText(e.current.text);this.setSelectedRange(e.current.selectedRange);return i}}if(e.inserted.text.length||e.deleted.text.length){this.undoManager().proxyFor(this)._applyChangeFromUndoManager(e);this._textDidChange()}}return i};t.prototype.click=function(t){return this.selectionAffinity=e.NONE};t.prototype.on=function(){var t,e;t=1<=arguments.length?u.call(arguments,0):[];return(e=this.element).on.apply(e,t)};t.prototype.off=function(){var t,e;t=1<=arguments.length?u.call(arguments,0):[];return(e=this.element).off.apply(e,t)};t.prototype.text=function(){return this.element.val()};t.prototype.setText=function(t){return this.element.val(t)};t.prototype.value=function(){var t,e=this;t=this.text();if(!this._formatter){return t}return this._formatter.parse(t,function(r){var n;return(n=e._delegate)!=null?typeof n.textFieldDidFailToParseString==="function"?n.textFieldDidFailToParseString(e,t,r):void 0:void 0})};t.prototype.setValue=function(t){if(this._formatter){t=this._formatter.format(t)}this.setText(""+t);return this.element.trigger("change")};t.prototype.formatter=function(){return this._formatter};t.prototype.setFormatter=function(t){var e;e=this.value();this._formatter=t;return this.setValue(e)};t.prototype.selectedRange=function(){var t;t=this.element.caret();return{start:t.start,length:t.end-t.start}};t.prototype.setSelectedRange=function(t){return this.setSelectedRangeWithAffinity(t,this.selectionAffinity)};t.prototype.setSelectedRangeWithAffinity=function(t,r){var n,i,o;o=0;i=this.text().length;n={start:Math.max(o,Math.min(i,t.start)),end:Math.max(o,Math.min(i,t.start+t.length))};this.element.caret(n);return this.selectionAffinity=t.length===0?e.NONE:r};t.prototype.selectionAnchor=function(){var t;t=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:return t.start+t.length;case e.DOWNSTREAM:return t.start;default:return null}};t.prototype.undoManager=function(){return this._undoManager||(this._undoManager=new s)};t.prototype.allowsUndo=function(){return this._allowsUndo};t.prototype.setAllowsUndo=function(t){return this._allowsUndo=t};t.prototype._applyChangeFromUndoManager=function(t){this.undoManager().proxyFor(this)._applyChangeFromUndoManager(t);if(this.undoManager().isUndoing()){this.setText(t.current.text);this.setSelectedRange(t.current.selectedRange)}else{this.setText(t.proposed.text);this.setSelectedRange(t.proposed.selectedRange)}return this._textDidChange()};t.prototype._enabled=true;t.prototype.isEnabled=function(){return this._enabled};t.prototype.setEnabled=function(t){this._enabled=t;this._syncPlaceholder();return null};t.prototype.hasFocus=function(){return this.element.get(0).ownerDocument.activeElement===this.element.get(0)};t.prototype._focus=function(t){this._textFieldDidBeginEditing();return this._syncPlaceholder()};t.prototype._blur=function(t){this._textFieldDidEndEditing();return this._syncPlaceholder()};t.prototype._didEndEditingButKeptFocus=false;t.prototype.becomeFirstResponder=function(t){var e=this;this.element.focus();return this.rollbackInvalidChanges(function(){e.element.select();return e._syncPlaceholder()})};t.prototype.resignFirstResponder=function(t){if(t!=null){t.preventDefault()}this.element.blur();return this._syncPlaceholder()};t.prototype._placeholder=null;t.prototype._disabledPlaceholder=null;t.prototype._focusedPlaceholder=null;t.prototype._unfocusedPlaceholder=null;t.prototype.disabledPlaceholder=function(){return this._disabledPlaceholder};t.prototype.setDisabledPlaceholder=function(t){this._disabledPlaceholder=t;this._syncPlaceholder();return null};t.prototype.focusedPlaceholder=function(){return this._focusedPlaceholder};t.prototype.setFocusedPlaceholder=function(t){this._focusedPlaceholder=t;this._syncPlaceholder();return null};t.prototype.unfocusedPlaceholder=function(){return this._unfocusedPlaceholder};t.prototype.setUnfocusedPlaceholder=function(t){this._unfocusedPlaceholder=t;this._syncPlaceholder();return null};t.prototype.placeholder=function(){return this._placeholder};t.prototype.setPlaceholder=function(t){this._placeholder=t;return this.element.attr("placeholder",this._placeholder)};t.prototype._syncPlaceholder=function(){if(!this._enabled){if(this._disabledPlaceholder!=null){return this.setPlaceholder(this._disabledPlaceholder)}}else if(this.hasFocus()){if(this._focusedPlaceholder!=null){return this.setPlaceholder(this._focusedPlaceholder)}}else{if(this._unfocusedPlaceholder!=null){return this.setPlaceholder(this._unfocusedPlaceholder)}}};t.prototype.inspect=function(){return'#<TextField text="'+this.text()+'">'};return t}();o=function(){t.prototype.field=null;t.prototype.current=null;t.prototype.proposed=null;function t(t){this.field=t}t.build=function(t,e){var r;r=new this(t);r.current={text:t.text(),selectedRange:t.selectedRange()};e();r.proposed={text:t.text(),selectedRange:t.selectedRange()};r.recomputeDiff();return r};t.prototype.hasChanges=function(){this.recomputeDiff();return this.current.text!==this.proposed.text||this.current.selectedRange.start!==this.proposed.selectedRange.start||this.current.selectedRange.length!==this.proposed.selectedRange.length};t.prototype.recomputeDiff=function(){var t,e,r,n,i,o,s,a,l,u,h;if(this.proposed.text!==this.current.text){t=this.current.text;o=this.proposed.text;s=0;a=0;i=Math.min(t.length,o.length);for(r=l=0;0<=i?l<i:l>i;r=0<=i?++l:--l){if(o[r]===t[r]){s=r+1}else{break}}for(r=u=0,h=i-s;0<=h?u<h:u>h;r=0<=h?++u:--u){if(o[o.length-1-r]===t[t.length-1-r]){a=r+1}else{break}}n={start:s,end:o.length-a};e={start:s,end:t.length-a};n.text=o.substring(n.start,n.end);e.text=t.substring(e.start,e.end);this.inserted=n;this.deleted=e}else{this.inserted={start:this.proposed.selectedRange.start,end:this.proposed.selectedRange.start+this.proposed.selectedRange.length,text:""};this.deleted={start:this.current.selectedRange.start,end:this.current.selectedRange.start+this.current.selectedRange.length,text:""}}return null};return t}();t.exports=i}).call(this)},"undo_manager.js":function(t,e,r){(function(){var e,r,n=[].slice;r=function(t,e){var r,n,i;if(t!=null?(r=t.constructor)!=null?r.prototype:void 0:void 0){if((n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e))!=null?n.get:void 0){return true}}return((i=Object.getOwnPropertyDescriptor(t,e))!=null?i.get:void 0)!=null};e=function(){t.prototype._undos=null;t.prototype._redos=null;t.prototype._isUndoing=false;t.prototype._isRedoing=false;function t(){this._undos=[];this._redos=[]}t.prototype.canUndo=function(){return this._undos.length!==0};t.prototype.canRedo=function(){return this._redos.length!==0
};t.prototype.isUndoing=function(){return this._isUndoing};t.prototype.isRedoing=function(){return this._isRedoing};t.prototype.registerUndo=function(){var t,e,r;r=arguments[0],e=arguments[1],t=3<=arguments.length?n.call(arguments,2):[];if(this._isUndoing){this._appendRedo.apply(this,[r,e].concat(n.call(t)))}else{if(!this._isRedoing){this._redos.length=0}this._appendUndo.apply(this,[r,e].concat(n.call(t)))}return null};t.prototype._appendUndo=function(){var t,e,r;r=arguments[0],e=arguments[1],t=3<=arguments.length?n.call(arguments,2):[];return this._undos.push({target:r,selector:e,args:t})};t.prototype._appendRedo=function(){var t,e,r;r=arguments[0],e=arguments[1],t=3<=arguments.length?n.call(arguments,2):[];return this._redos.push({target:r,selector:e,args:t})};t.prototype.undo=function(){var t,e,r,n;if(!this.canUndo()){throw new Error("there are no registered undos")}n=this._undos.pop(),r=n.target,e=n.selector,t=n.args;this._isUndoing=true;r[e].apply(r,t);this._isUndoing=false;return null};t.prototype.redo=function(){var t,e,r,n;if(!this.canRedo()){throw new Error("there are no registered redos")}n=this._redos.pop(),r=n.target,e=n.selector,t=n.args;this._isRedoing=true;r[e].apply(r,t);this._isRedoing=false;return null};t.prototype.proxyFor=function(t){var e,i,o,s=this;e={};o=function(r){return e[r]=function(){var e;e=1<=arguments.length?n.call(arguments,0):[];return s.registerUndo.apply(s,[t,r].concat(n.call(e)))}};for(i in t){if(r(t,i)){continue}if(typeof t[i]!=="function"){continue}o(i)}return e};return t}();t.exports=e}).call(this)},"us_phone_formatter.js":function(t,e,r){(function(){var e,n,i,o={}.hasOwnProperty,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t},a=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++){if(e in this&&this[e]===t)return e}return-1};e=r("./delimited_text_formatter");n={0:"(",4:")",5:" ",9:"-"};i=function(t){s(e,t);e.prototype.maximumLength=10+4;function e(){if(arguments.length!==0){throw new Error("were you trying to set a delimiter ("+arguments[0]+")?")}}e.prototype.isDelimiter=function(t){var e,r;return a.call(function(){var t;t=[];for(r in n){e=n[r];t.push(e)}return t}(),t)>=0};e.prototype.delimiterAt=function(t){return n[t]};e.prototype.hasDelimiterAtIndex=function(t){return this.delimiterAt(t)!=null};e.prototype.isChangeValid=function(t,r){if(/^\d*$/.test(t.inserted.text)){return e.__super__.isChangeValid.call(this,t,r)}else{return false}};return e}(e);t.exports=i}).call(this)}};FieldKit=t("index.js")})();