!function(a){if("function"==typeof bootstrap)bootstrap("fieldkit",a);else if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeFieldKit=a}else"undefined"!=typeof window?window.FieldKit=a():global.FieldKit=a()}(function(){return function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0].call(h.exports,function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a,b){(function(){var c;c={AdaptiveCardFormatter:a("./adaptive_card_formatter"),AmexCardFormatter:a("./amex_card_formatter"),CardTextField:a("./card_text_field"),DefaultCardFormatter:a("./default_card_formatter"),DelimitedTextFormatter:a("./delimited_text_formatter"),ExpiryDateField:a("./expiry_date_field"),ExpiryDateFormatter:a("./expiry_date_formatter"),Formatter:a("./formatter"),NumberFormatter:a("./number_formatter"),PhoneFormatter:a("./phone_formatter"),SocialSecurityNumberFormatter:a("./social_security_number_formatter"),TextField:a("./text_field"),UndoManager:a("./undo_manager")},b.exports=c}).call(this)},{"./adaptive_card_formatter":2,"./amex_card_formatter":3,"./card_text_field":4,"./default_card_formatter":5,"./delimited_text_formatter":6,"./expiry_date_field":7,"./expiry_date_formatter":8,"./formatter":9,"./number_formatter":10,"./phone_formatter":11,"./social_security_number_formatter":12,"./text_field":13,"./undo_manager":14}],9:[function(a,b){(function(){var a;a=function(){function a(){}return a.prototype.maximumLength=null,a.prototype.format=function(a){return null==a&&(a=""),null!=this.maximumLength&&(a=a.substring(0,this.maximumLength)),a},a.prototype.parse=function(a){return null==a&&(a=""),null!=this.maximumLength&&(a=a.substring(0,this.maximumLength)),a},a.prototype.isChangeValid=function(a){var b,c,d,e,f,g;return g=a.proposed,d=g.selectedRange,e=g.text,null!=this.maximumLength&&e.length>this.maximumLength&&(b=this.maximumLength-(e.length-a.inserted.text.length),c=a.current.text.substring(0,a.current.selectedRange.start),b>0&&(c+=a.inserted.text.substring(0,b)),c+=a.current.text.substring(a.current.selectedRange.start+a.current.selectedRange.length),f=e.length-c.length,a.proposed.text=c,d.start-=f),!0},a}(),b.exports=a}).call(this)},{}],14:[function(a,b){(function(){var a,c,d=[].slice;c=function(a,b){var c,d,e,f;try{Object.getOwnPropertyDescriptor({},"sq")}catch(g){return void(c=g)}return(null!=a?null!=(d=a.constructor)?d.prototype:void 0:void 0)&&(null!=(e=Object.getOwnPropertyDescriptor(a.constructor.prototype,b))?e.get:void 0)?!0:null!=(null!=(f=Object.getOwnPropertyDescriptor(a,b))?f.get:void 0)},a=function(){function a(){this._undos=[],this._redos=[]}return a.prototype._undos=null,a.prototype._redos=null,a.prototype._isUndoing=!1,a.prototype._isRedoing=!1,a.prototype.canUndo=function(){return 0!==this._undos.length},a.prototype.canRedo=function(){return 0!==this._redos.length},a.prototype.isUndoing=function(){return this._isUndoing},a.prototype.isRedoing=function(){return this._isRedoing},a.prototype.registerUndo=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?d.call(arguments,2):[],this._isUndoing?this._appendRedo.apply(this,[c,b].concat(d.call(a))):(this._isRedoing||(this._redos.length=0),this._appendUndo.apply(this,[c,b].concat(d.call(a)))),null},a.prototype._appendUndo=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?d.call(arguments,2):[],this._undos.push({target:c,selector:b,args:a})},a.prototype._appendRedo=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?d.call(arguments,2):[],this._redos.push({target:c,selector:b,args:a})},a.prototype.undo=function(){var a,b,c,d;if(!this.canUndo())throw new Error("there are no registered undos");return d=this._undos.pop(),c=d.target,b=d.selector,a=d.args,this._isUndoing=!0,c[b].apply(c,a),this._isUndoing=!1,null},a.prototype.redo=function(){var a,b,c,d;if(!this.canRedo())throw new Error("there are no registered redos");return d=this._redos.pop(),c=d.target,b=d.selector,a=d.args,this._isRedoing=!0,c[b].apply(c,a),this._isRedoing=!1,null},a.prototype.proxyFor=function(a){var b,e,f,g=this;b={},f=function(c){return b[c]=function(){var b;return b=1<=arguments.length?d.call(arguments,0):[],g.registerUndo.apply(g,[a,c].concat(d.call(b)))}};for(e in a)c(a,e)||"function"==typeof a[e]&&f(e);return b},a}(),b.exports=a}).call(this)},{}],2:[function(a,b){(function(){var c,d,e,f,g,h;e=a("./amex_card_formatter"),f=a("./default_card_formatter"),h=a("./card_utils"),g=h.determineCardType,c=h.AMEX,d=function(){function a(){this.amexCardFormatter=new e,this.defaultCardFormatter=new f,this.formatter=this.defaultCardFormatter}return a.prototype.format=function(a){return this._formatterForPan(a).format(a)},a.prototype.parse=function(a,b){return this.formatter.parse(a,b)},a.prototype.isChangeValid=function(a){return this.formatter=this._formatterForPan(a.proposed.text),this.formatter.isChangeValid(a)},a.prototype._formatterForPan=function(a){return g(a.replace(/[^\d]+/g,""))===c?this.amexCardFormatter:this.defaultCardFormatter},a}(),b.exports=d}).call(this)},{"./amex_card_formatter":3,"./default_card_formatter":5,"./card_utils":15}],4:[function(a,b){(function(){var c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("./text_field"),c=a("./adaptive_card_formatter"),g=a("./card_utils").determineCardType,d={None:"None",DoneEditing:"DoneEditing"},e=function(a){function b(a){b.__super__.constructor.call(this,a,new c),this.setCardMaskStrategy(d.None)}return i(b,a),b.prototype.cardType=function(){return g(this.value())},b.prototype.cardMaskStrategy=function(){return this._cardMaskStrategy},b.prototype.setCardMaskStrategy=function(a){return a!==this._cardMaskStrategy&&(this._cardMaskStrategy=a,this._syncMask()),null},b.prototype.cardMask=function(){var a,b,c;return b=this.text(),c=b.slice(0,-4),a=b.slice(-4),c.replace(/\d/g,"â€¢")+a},b.prototype._masked=!1,b.prototype._editing=!1,b.prototype.text=function(){return this._masked?this._unmaskedText:b.__super__.text.call(this)},b.prototype.setText=function(a){return this._masked&&(this._unmaskedText=a,a=this.cardMask()),b.__super__.setText.call(this,a)},b.prototype.textFieldDidEndEditing=function(){return this._editing=!1,this._syncMask()},b.prototype.textFieldDidBeginEditing=function(){return this._editing=!0,this._syncMask()},b.prototype._enableMasking=function(){return this._masked?void 0:(this._unmaskedText=this.text(),this._masked=!0,this.setText(this._unmaskedText))},b.prototype._disableMasking=function(){return this._masked?(this._masked=!1,this.setText(this._unmaskedText),this._unmaskedText=null):void 0},b.prototype._syncMask=function(){return this.cardMaskStrategy()===d.DoneEditing?this._editing?this._disableMasking():this._enableMasking():void 0},b}(f),e.CardMaskStrategy=d,b.exports=e}).call(this)},{"./text_field":13,"./adaptive_card_formatter":2,"./card_utils":15}],5:[function(a,b){(function(){var c,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("./delimited_text_formatter"),g=a("./card_utils"),f=g.validCardLength,e=g.luhnCheck,c=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.delimiter=" ",b.prototype.maximumLength=19,b.prototype.hasDelimiterAtIndex=function(a){return 4===a||9===a||14===a},b.prototype.parse=function(a,c){var d;return d=this._valueFromText(a),f(d)||"function"==typeof c&&c("card-formatter.number-too-short"),e(d)||"function"==typeof c&&c("card-formatter.invalid-number"),b.__super__.parse.call(this,a,c)},b.prototype._valueFromText=function(a){return b.__super__._valueFromText.call(this,(null!=a?a:"").replace(/[^\d]/g,""))},b}(d),b.exports=c}).call(this)},{"./delimited_text_formatter":6,"./card_utils":15}],3:[function(a,b){(function(){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("./default_card_formatter"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.maximumLength=17,b.prototype.hasDelimiterAtIndex=function(a){return 4===a||11===a},b}(d),b.exports=c}).call(this)},{"./default_card_formatter":5}],6:[function(a,b){(function(){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g=[].slice;d=a("./formatter"),c=function(a){function b(a){var b;if(null==a&&(a=this.delimiter),this.delimiter=a,1!==(null!=(b=this.delimiter)?b.length:void 0))throw new Error("delimiter must have just one character")}return f(b,a),b.prototype.delimiter=null,b.prototype.delimiterAt=function(a){return this.hasDelimiterAtIndex(a)?this.delimiter:null},b.prototype.isDelimiter=function(a){return a===this.delimiter},b.prototype.format=function(a){return this._textFromValue(a)},b.prototype._textFromValue=function(a){var b,c,d,e,f;if(!a)return"";for(d="",e=0,f=a.length;f>e;e++){for(b=a[e];c=this.delimiterAt(d.length);)d+=c;for(d+=b;c=this.delimiterAt(d.length);)d+=c}return d},b.prototype.parse=function(a){return this._valueFromText(a)},b.prototype._valueFromText=function(a){var b;return a?function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],this.isDelimiter(b)||e.push(b);return e}.call(this).join(""):""},b.prototype.isChangeValid=function(a,c){var d,e,f,h,i,j,k,l,m,n,o,p;if(!b.__super__.isChangeValid.call(this,a,c))return!1;if(k=a.proposed.text,l=a.proposed.selectedRange,h=0!==l.length,m=l.start<a.current.selectedRange.start,o=l.start>a.current.selectedRange.start,d=l.start+l.length<a.current.selectedRange.start+a.current.selectedRange.length,f=l.start+l.length>a.current.selectedRange.start+a.current.selectedRange.length,n=m&&this.hasDelimiterAtIndex(l.start)||o&&this.hasDelimiterAtIndex(l.start-1),e=d&&this.hasDelimiterAtIndex(l.start+l.length)||f&&this.hasDelimiterAtIndex(l.start+l.length-1),this.isDelimiter(a.deleted.text)){for(j=a.deleted.start-1;this.isDelimiter(k.charAt(j));)k=k.substring(0,j)+k.substring(j+1),j--;k=k.substring(0,j)+k.substring(j+1)}if(m&&n){for(;this.delimiterAt(l.start-1);)l.start--,l.length++;l.start--,l.length++}if(o){for(;this.delimiterAt(l.start);)l.start++,l.length--;if(n)for(l.start++,l.length--;this.delimiterAt(l.start);)l.start++,l.length--}if(h){if(e){if(d){for(;this.delimiterAt(l.start+l.length-1);)l.length--;l.length--}if(f){for(;this.delimiterAt(l.start+l.length);)l.length++;l.length++}}for(;this.hasDelimiterAtIndex(l.start+l.length-1);)m||d?l.length--:l.length++;for(;this.hasDelimiterAtIndex(l.start);)o||f?(l.start++,l.length--):(l.start--,l.length++)}else l.length=0;return i=!0,p=this._valueFromText(k,function(){var a;return a=1<=arguments.length?g.call(arguments,0):[],i=!1,c.apply(null,a)}),i&&(a.proposed.text=this._textFromValue(p)),i},b}(d),b.exports=c}).call(this)},{"./formatter":9}],7:[function(a,b){(function(){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("./text_field"),d=a("./expiry_date_formatter"),c=function(a){function b(a){b.__super__.constructor.call(this,a,new d)}return g(b,a),b.prototype.textFieldDidEndEditing=function(){var a;return a=this.value(),a?this.setText(this.formatter().format(a)):void 0},b}(e),b.exports=c}).call(this)},{"./expiry_date_formatter":8,"./text_field":13}],8:[function(a,b){(function(){var c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("./delimited_text_formatter"),f=a("./utils").zpad2,e=function(a){var b,c,d;return d=(new Date).getFullYear(),c=d-d%100,b=[c,c-100,c+100].sort(function(b,c){return Math.abs(d-(a+b))-Math.abs(d-(a+c))}),a+b[0]},d=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.delimiter="/",b.prototype.maximumLength=5,b.prototype.hasDelimiterAtIndex=function(a){return 2===a},b.prototype.format=function(a){var c,d;return a?(c=a.month,d=a.year,d%=100,b.__super__.format.call(this,f(c)+f(d))):""},b.prototype.parse=function(a,b){var c,d,f;return f=a.split(this.delimiter),c=f[0],d=f[1],(null!=c?c.match(/^(0?[1-9]|1\d)$/):void 0)&&(null!=d?d.match(/^\d\d?$/):void 0)?(c=Number(c),d=e(Number(d)),{month:c,year:d}):(b("expiry-date-formatter.invalid-date"),null)},b.prototype.isChangeValid=function(a,b){var c,d,e;if(c=a.proposed.text.length<a.current.text.length,e=a.proposed.text,c)a.deleted.text===this.delimiter&&(e=e[0]),"0"===e&&(e="");else if(a.inserted.text===this.delimiter&&"1"===a.current.text)e="01"+this.delimiter;else{if(a.inserted.text.length>0&&!/^\d$/.test(a.inserted.text))return b("expiry-date-formatter.only-digits-allowed"),!1;if(/^[2-9]$/.test(e)&&(e="0"+e),/^1[3-9]$/.test(e))return b("expiry-date-formatter.invalid-month"),!1;if("00"===e)return b("expiry-date-formatter.invalid-month"),!1;/^(0[1-9]|1[0-2])$/.test(e)&&(e+=this.delimiter),(d=e.match(/^(\d\d)(.)(\d\d?).*$/))&&d[2]===this.delimiter&&(e=d[1]+this.delimiter+d[3])}return a.proposed.text=e,a.proposed.selectedRange={start:e.length,length:0},!0},b}(c),b.exports=d}).call(this)},{"./delimited_text_formatter":6,"./utils":16}],11:[function(a,b){(function(){var c,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},k=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};d=a("./delimited_text_formatter"),e={0:"(",4:")",5:" ",9:"-"},f={1:" ",2:"(",6:")",7:" ",11:"-"},g={2:" ",3:"(",7:")",8:" ",12:"-"},c=/[-\(\) ]/g,h=function(a){function b(){if(0!==arguments.length)throw new Error("were you trying to set a delimiter ("+arguments[0]+")?")}return j(b,a),b.prototype.maximumLength=null,b.prototype.delimiterMap=null,b.prototype.isDelimiter=function(a){var b,c;return k.call(function(){var a,d;a=this.delimiterMap,d=[];for(c in a)b=a[c],d.push(b);return d}.call(this),a)>=0},b.prototype.delimiterAt=function(a){return this.delimiterMap[a]},b.prototype.hasDelimiterAtIndex=function(a){return null!=this.delimiterAt(a)},b.prototype.parse=function(a,c){var d;return d=this.digitsWithoutCountryCode(a),a.length>=10||"function"==typeof c&&c("phone-formatter.number-too-short"),"0"===d[0]&&"function"==typeof c&&c("phone-formatter.area-code-zero"),"1"===d[0]&&"function"==typeof c&&c("phone-formatter.area-code-one"),"9"===d[1]&&"function"==typeof c&&c("phone-formatter.area-code-n9n"),"1"===d[3]&&"function"==typeof c&&c("phone-formatter.central-office-one"),"11"===d.slice(4,6)&&"function"==typeof c&&c("phone-formatter.central-office-n11"),b.__super__.parse.call(this,a,c)},b.prototype.format=function(a){return this.guessFormatFromText(a),b.__super__.format.call(this,this.removeDelimiterMapChars(a))},b.prototype.isChangeValid=function(a,c){var d,e,f,g,h;return this.guessFormatFromText(a.proposed.text),a.inserted.text.length>1?(h=a.current,f=h.text,e=h.selectedRange,g=a.inserted.text,d=this.format((f.slice(0,e.start)+g+f.slice(e.start+e.length)).replace(/[^\d]/g,"")),a.proposed={text:d,selectedRange:{start:d.length-(f.length-(e.start+e.length)),length:0}},b.__super__.isChangeValid.call(this,a,c)):/^\d*$/.test(a.inserted.text)||0===a.proposed.text.indexOf("+")?b.__super__.isChangeValid.call(this,a,c):!1},b.prototype.guessFormatFromText=function(a){return"+"===(null!=a?a[0]:void 0)?(this.delimiterMap=g,this.maximumLength=17):"1"===(null!=a?a[0]:void 0)?(this.delimiterMap=f,this.maximumLength=16):(this.delimiterMap=e,this.maximumLength=14)},b.prototype.digitsWithoutCountryCode=function(a){var b,c;return b=(null!=a?a:"").replace(/[^\d]/g,""),c=b.length-10,c>0&&(b=b.substr(c)),b},b.prototype.removeDelimiterMapChars=function(a){return(null!=a?a:"").replace(c,"")},b}(d),b.exports=h}).call(this)},{"./delimited_text_formatter":6}],12:[function(a,b){(function(){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("./delimited_text_formatter"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.delimiter="-",b.prototype.maximumLength=11,b.prototype.hasDelimiterAtIndex=function(a){return 3===a||6===a},b.prototype.isChangeValid=function(a){return/^\d*$/.test(a.inserted.text)?b.__super__.isChangeValid.call(this,a):!1},b}(c),b.exports=d}).call(this)},{"./delimited_text_formatter":6}],13:[function(a,b){(function(){var c,d,e,f,g,h,i,j,k,l,m,n=function(a,b){return function(){return a.apply(b,arguments)}},o=[].slice;d=a("./formatter"),h=a("./undo_manager"),m=a("./keybindings"),e=m.KEYS,l=m.keyBindingsForPlatform,c={UPSTREAM:0,DOWNSTREAM:1,NONE:null},k=function(a){return a&&/^\w$/.test(a)},i=function(a,b){return 0===b?!0:!k(a[b-1])&&k(a[b])},j=function(a,b){return b===a.length?!0:k(a[b])&&!k(a[b+1])},f=function(){function a(a,b){if(this.element=a,this._formatter=b,this._blur=n(this._blur,this),this._focus=n(this._focus,this),this.click=n(this.click,this),this.paste=n(this.paste,this),this.keyUp=n(this.keyUp,this),this.keyPress=n(this.keyPress,this),this.keyDown=n(this.keyDown,this),this.element.data("field-kit-text-field"))throw new Error("already attached a TextField to this element");this.element.data("field-kit-text-field",this),this._jQuery=this.element.constructor,this.element.on("keydown.field-kit",this.keyDown),this.element.on("keypress.field-kit",this.keyPress),this.element.on("keyup.field-kit",this.keyUp),this.element.on("click.field-kit",this.click),this.element.on("paste.field-kit",this.paste),this.element.on("focus.field-kit",this._focus),this.element.on("blur.field-kit",this._blur),this._buildKeybindings()}return a.prototype.selectionAffinity=c.NONE,a.prototype._delegate=null,a.prototype.delegate=function(){return this._delegate},a.prototype.setDelegate=function(a){return this._delegate=a,null},a.prototype.destroy=function(){return this.element.off(".field-kit"),this.element.data("field-kit-text-field",null),null},a.prototype.insertText=function(a){var b;return this.hasSelection()&&this.clearSelection(),this.replaceSelection(a),b=this.selectedRange(),b.start+=b.length,b.length=0,this.setSelectedRange(b)},a.prototype.insertNewline=function(){return this._textFieldDidEndEditing(),this._didEndEditingButKeptFocus=!0},a.prototype._textDidChange=function(){var a;return this.textDidChange(),null!=(a=this._delegate)?"function"==typeof a.textDidChange?a.textDidChange(this):void 0:void 0},a.prototype.textDidChange=function(){},a.prototype._textFieldDidEndEditing=function(){var a;return this.textFieldDidEndEditing(),null!=(a=this._delegate)?"function"==typeof a.textFieldDidEndEditing?a.textFieldDidEndEditing(this):void 0:void 0},a.prototype.textFieldDidEndEditing=function(){},a.prototype._textFieldDidBeginEditing=function(){var a;return this.textFieldDidBeginEditing(),null!=(a=this._delegate)?"function"==typeof a.textFieldDidBeginEditing?a.textFieldDidBeginEditing(this):void 0:void 0},a.prototype.textFieldDidBeginEditing=function(){},a.prototype.moveUp=function(a){return a.preventDefault(),this.setSelectedRange({start:0,length:0})},a.prototype.moveToBeginningOfParagraph=function(a){return this.moveUp(a)},a.prototype.moveUpAndModifySelection=function(a){var b;switch(a.preventDefault(),b=this.selectedRange(),this.selectionAffinity){case c.UPSTREAM:case c.NONE:b.length+=b.start,b.start=0;break;case c.DOWNSTREAM:b.length=b.start,b.start=0}return this.setSelectedRangeWithAffinity(b,c.UPSTREAM)},a.prototype.moveParagraphBackwardAndModifySelection=function(a){var b;switch(a.preventDefault(),b=this.selectedRange(),this.selectionAffinity){case c.UPSTREAM:case c.NONE:b.length+=b.start,b.start=0;break;case c.DOWNSTREAM:b.length=0}return this.setSelectedRangeWithAffinity(b,c.UPSTREAM)},a.prototype.moveToBeginningOfDocument=function(a){return this.moveToBeginningOfLine(a)},a.prototype.moveToBeginningOfDocumentAndModifySelection=function(a){var b;return a.preventDefault(),b=this.selectedRange(),b.length+=b.start,b.start=0,this.setSelectedRangeWithAffinity(b,c.UPSTREAM)},a.prototype.moveDown=function(a){var b;return a.preventDefault(),b={start:this.text().length,length:0},this.setSelectedRangeWithAffinity(b,c.NONE)},a.prototype.moveToEndOfParagraph=function(a){return this.moveDown(a)},a.prototype.moveDownAndModifySelection=function(a){var b,d;return a.preventDefault(),d=this.selectedRange(),b=this.text().length,this.selectionAffinity===c.UPSTREAM&&(d.start+=d.length),d.length=b-d.start,this.setSelectedRangeWithAffinity(d,c.DOWNSTREAM)},a.prototype.moveParagraphForwardAndModifySelection=function(a){var b;switch(a.preventDefault(),b=this.selectedRange(),this.selectionAffinity){case c.DOWNSTREAM:case c.NONE:b.length=this.text().length-b.start;break;case c.UPSTREAM:b.start+=b.length,b.length=0}return this.setSelectedRangeWithAffinity(b,c.DOWNSTREAM)},a.prototype.moveToEndOfDocument=function(a){return this.moveToEndOfLine(a)},a.prototype.moveToEndOfDocumentAndModifySelection=function(a){var b;return a.preventDefault(),b=this.selectedRange(),b.length=this.text().length-b.start,this.setSelectedRangeWithAffinity(b,c.DOWNSTREAM)},a.prototype.moveLeft=function(a){var b;return a.preventDefault(),b=this.selectedRange(),0!==b.length?b.length=0:b.start--,this.setSelectedRangeWithAffinity(b,c.NONE)},a.prototype.moveLeftAndModifySelection=function(a){var b;switch(a.preventDefault(),b=this.selectedRange(),this.selectionAffinity){case c.UPSTREAM:case c.NONE:this.selectionAffinity=c.UPSTREAM,b.start--,b.length++;break;case c.DOWNSTREAM:b.length--}return this.setSelectedRange(b)},a.prototype.moveWordLeft=function(a){var b;return a.preventDefault(),b=this.lastWordBreakBeforeIndex(this.selectedRange().start-1),this.setSelectedRange({start:b,length:0})},a.prototype.moveWordLeftAndModifySelection=function(a){var b,d,e;switch(a.preventDefault(),d=this.selectedRange(),this.selectionAffinity){case c.UPSTREAM:case c.NONE:this.selectionAffinity=c.UPSTREAM,e=this.lastWordBreakBeforeIndex(d.start-1),d.length+=d.start-e,d.start=e;break;case c.DOWNSTREAM:b=this.lastWordBreakBeforeIndex(d.start+d.length),b<d.start&&(b=d.start),d.length-=d.start+d.length-b}return this.setSelectedRange(d)},a.prototype.moveToBeginningOfLine=function(a){return a.preventDefault(),this.setSelectedRange({start:0,length:0})},a.prototype.moveToBeginningOfLineAndModifySelection=function(a){var b;return a.preventDefault(),b=this.selectedRange(),b.length+=b.start,b.start=0,this.setSelectedRangeWithAffinity(b,c.UPSTREAM)},a.prototype.moveRight=function(a){var b;return a.preventDefault(),b=this.selectedRange(),0!==b.length?(b.start+=b.length,b.length=0):b.start++,this.setSelectedRangeWithAffinity(b,c.NONE)},a.prototype.moveRightAndModifySelection=function(a){var b;switch(a.preventDefault(),b=this.selectedRange(),this.selectionAffinity){case c.UPSTREAM:b.start++,b.length--;break;case c.DOWNSTREAM:case c.NONE:this.selectionAffinity=c.DOWNSTREAM,b.length++}return this.setSelectedRange(b)},a.prototype.moveWordRight=function(a){var b,c;return a.preventDefault(),c=this.selectedRange(),b=this.nextWordBreakAfterIndex(c.start+c.length),this.setSelectedRange({start:b,length:0})},a.prototype.moveWordRightAndModifySelection=function(a){var b,d,e;switch(a.preventDefault(),d=this.selectedRange(),e=d.start,b=d.start+d.length,this.selectionAffinity){case c.UPSTREAM:e=Math.min(this.nextWordBreakAfterIndex(e),b);break;case c.DOWNSTREAM:case c.NONE:this.selectionAffinity=c.DOWNSTREAM,b=this.nextWordBreakAfterIndex(d.start+d.length)}return this.setSelectedRange({start:e,length:b-e})},a.prototype.moveToEndOfLine=function(a){return a.preventDefault(),this.setSelectedRange({start:this.text().length,length:0})},a.prototype.moveToEndOfLineAndModifySelection=function(a){var b;return a.preventDefault(),b=this.selectedRange(),b.length=this.text().length-b.start,this.setSelectedRangeWithAffinity(b,c.DOWNSTREAM)},a.prototype.deleteBackward=function(a){var b;return a.preventDefault(),b=this.selectedRange(),0===b.length&&(b.start--,b.length++,this.setSelectedRange(b)),this.clearSelection()},a.prototype.deleteWordBackward=function(a){var b,c;return this.hasSelection()?this.deleteBackward(a):(a.preventDefault(),b=this.selectedRange(),c=this.lastWordBreakBeforeIndex(b.start),b.length+=b.start-c,b.start=c,this.setSelectedRange(b),this.clearSelection())},a.prototype.deleteBackwardByDecomposingPreviousCharacter=function(a){return this.deleteBackward(a)},a.prototype.deleteBackwardToBeginningOfLine=function(a){var b;return this.hasSelection()?this.deleteBackward(a):(a.preventDefault(),b=this.selectedRange(),b.length=b.start,b.start=0,this.setSelectedRange(b),this.clearSelection())},a.prototype.deleteForward=function(a){var b;return a.preventDefault(),b=this.selectedRange(),0===b.length&&(b.length++,this.setSelectedRange(b)),this.clearSelection()},a.prototype.deleteWordForward=function(a){var b,c;return this.hasSelection()?this.deleteForward(a):(a.preventDefault(),c=this.selectedRange(),b=this.nextWordBreakAfterIndex(c.start+c.length),this.setSelectedRange({start:c.start,length:b-c.start}),this.clearSelection())},a.prototype.insertTab=function(){},a.prototype.insertBackTab=function(){},a.prototype.hasSelection=function(){return 0!==this.selectedRange().length},a.prototype.lastWordBreakBeforeIndex=function(a){var b,c,d,e,f;for(b=this.leftWordBreakIndexes(),c=b[0],e=0,f=b.length;f>e&&(d=b[e],a>d);e++)c=d;return c},a.prototype.leftWordBreakIndexes=function(){var a,b,c,d,e;for(b=[],c=this.text(),a=d=0,e=c.length-1;e>=0?e>=d:d>=e;a=e>=0?++d:--d)i(c,a)&&b.push(a);return b},a.prototype.nextWordBreakAfterIndex=function(a){var b,c,d,e,f;for(b=this.rightWordBreakIndexes().reverse(),c=b[0],e=0,f=b.length;f>e&&(d=b[e],d>a);e++)c=d;return c},a.prototype.rightWordBreakIndexes=function(){var a,b,c,d,e;for(b=[],c=this.text(),a=d=0,e=c.length;e>=0?e>=d:d>=e;a=e>=0?++d:--d)j(c,a)&&b.push(a+1);return b},a.prototype.clearSelection=function(){return this.replaceSelection("")},a.prototype.replaceSelection=function(a){var b,d,e;return d=this.selectedRange(),b=d.start+d.length,e=this.text(),e=e.substring(0,d.start)+a+e.substring(b),d.length=a.length,this.setText(e),this.setSelectedRangeWithAffinity(d,c.NONE)},a.prototype.selectAll=function(a){return a.preventDefault(),this.setSelectedRangeWithAffinity({start:0,length:this.text().length},c.NONE)},a.prototype.readSelectionFromPasteboard=function(a){var b,c;return c=a.getData("Text"),this.replaceSelection(c),b=this.selectedRange(),b.start+=b.length,b.length=0,this.setSelectedRange(b)},a.prototype.keyDown=function(a){var b,c=this;if(this._didEndEditingButKeptFocus&&(this._textFieldDidBeginEditing(),this._didEndEditingButKeptFocus=!1),b=this._bindings.actionForEvent(a))switch(b){case"undo":case"redo":return this[b](a);default:return this.rollbackInvalidChanges(function(){return c[b](a)})}},a.prototype.keyPress=function(a){var b,c,d=this;return a.metaKey||a.ctrlKey||(c=a.keyCode)===e.ENTER||c===e.TAB||c===e.BACKSPACE||(a.preventDefault(),0===a.charCode)?void 0:(b=a.charCode||a.keyCode,this.rollbackInvalidChanges(function(){return d.insertText(String.fromCharCode(b))}))},a.prototype.keyUp=function(a){var b=this;return this.rollbackInvalidChanges(function(){return a.keyCode===e.TAB?b.selectAll(a):void 0})},a.prototype.paste=function(a){var b=this;return a.preventDefault(),this.rollbackInvalidChanges(function(){return b.readSelectionFromPasteboard(a.originalEvent.clipboardData)})},a.prototype.rollbackInvalidChanges=function(a){var b,c,d,e,f,h;if(e=null,d=null,b=g.build(this,function(){return e=a()}),c=function(a){return d=a},b.hasChanges()){if("function"==typeof(null!=(f=this.formatter())?f.isChangeValid:void 0)){if(!this.formatter().isChangeValid(b,c))return null!=(h=this.delegate())&&"function"==typeof h.textFieldDidFailToValidateChange&&h.textFieldDidFailToValidateChange(this,b,d),this.setText(b.current.text),this.setSelectedRange(b.current.selectedRange),e;b.recomputeDiff(),this.setText(b.proposed.text),this.setSelectedRange(b.proposed.selectedRange)}(b.inserted.text.length||b.deleted.text.length)&&(this.undoManager().proxyFor(this)._applyChangeFromUndoManager(b),this._textDidChange())}return e},a.prototype.click=function(){return this.selectionAffinity=c.NONE},a.prototype.on=function(){var a,b;return a=1<=arguments.length?o.call(arguments,0):[],(b=this.element).on.apply(b,a)},a.prototype.off=function(){var a,b;return a=1<=arguments.length?o.call(arguments,0):[],(b=this.element).off.apply(b,a)},a.prototype.text=function(){return this.element.val()},a.prototype.setText=function(a){return this.element.val(a)},a.prototype.value=function(){var a,b=this;return a=this.text(),this.formatter()?this.formatter().parse(a,function(c){var d;return null!=(d=b._delegate)?"function"==typeof d.textFieldDidFailToParseString?d.textFieldDidFailToParseString(b,a,c):void 0:void 0}):a},a.prototype.setValue=function(a){return this._formatter&&(a=this._formatter.format(a)),this.setText(""+a),this.element.trigger("change")},a.prototype.formatter=function(){var a=this;return this._formatter||(this._formatter=function(){var b,c;return b=new d,null!=(c=a.element.attr("maxlength"))&&(b.maximumLength=parseInt(c,10)),b}())},a.prototype.setFormatter=function(a){var b;return b=this.value(),this._formatter=a,this.setValue(b)},a.prototype.selectedRange=function(){var a;return a=this.element.caret(),{start:a.start,length:a.end-a.start}},a.prototype.setSelectedRange=function(a){return this.setSelectedRangeWithAffinity(a,this.selectionAffinity)},a.prototype.setSelectedRangeWithAffinity=function(a,b){var d,e,f;return f=0,e=this.text().length,d={start:Math.max(f,Math.min(e,a.start)),end:Math.max(f,Math.min(e,a.start+a.length))},this.element.caret(d),this.selectionAffinity=0===a.length?c.NONE:b},a.prototype.selectionAnchor=function(){var a;switch(a=this.selectedRange(),this.selectionAffinity){case c.UPSTREAM:return a.start+a.length;case c.DOWNSTREAM:return a.start;default:return null}},a.prototype.undo=function(a){return this.undoManager().canUndo()&&this.undoManager().undo(),a.preventDefault()},a.prototype.redo=function(a){return this.undoManager().canRedo()&&this.undoManager().redo(),a.preventDefault()},a.prototype.undoManager=function(){return this._undoManager||(this._undoManager=new h)},a.prototype.allowsUndo=function(){return this._allowsUndo},a.prototype.setAllowsUndo=function(a){return this._allowsUndo=a},a.prototype._applyChangeFromUndoManager=function(a){return this.undoManager().proxyFor(this)._applyChangeFromUndoManager(a),this.undoManager().isUndoing()?(this.setText(a.current.text),this.setSelectedRange(a.current.selectedRange)):(this.setText(a.proposed.text),this.setSelectedRange(a.proposed.selectedRange)),this._textDidChange()},a.prototype._enabled=!0,a.prototype.isEnabled=function(){return this._enabled},a.prototype.setEnabled=function(a){return this._enabled=a,this._syncPlaceholder(),null},a.prototype.hasFocus=function(){return this.element.get(0).ownerDocument.activeElement===this.element.get(0)},a.prototype._focus=function(){return this._textFieldDidBeginEditing(),this._syncPlaceholder()
},a.prototype._blur=function(){return this._textFieldDidEndEditing(),this._syncPlaceholder()},a.prototype._didEndEditingButKeptFocus=!1,a.prototype.becomeFirstResponder=function(){var a=this;return this.element.focus(),this.rollbackInvalidChanges(function(){return a.element.select(),a._syncPlaceholder()})},a.prototype.resignFirstResponder=function(a){return null!=a&&a.preventDefault(),this.element.blur(),this._syncPlaceholder()},a.prototype._placeholder=null,a.prototype._disabledPlaceholder=null,a.prototype._focusedPlaceholder=null,a.prototype._unfocusedPlaceholder=null,a.prototype.disabledPlaceholder=function(){return this._disabledPlaceholder},a.prototype.setDisabledPlaceholder=function(a){return this._disabledPlaceholder=a,this._syncPlaceholder(),null},a.prototype.focusedPlaceholder=function(){return this._focusedPlaceholder},a.prototype.setFocusedPlaceholder=function(a){return this._focusedPlaceholder=a,this._syncPlaceholder(),null},a.prototype.unfocusedPlaceholder=function(){return this._unfocusedPlaceholder},a.prototype.setUnfocusedPlaceholder=function(a){return this._unfocusedPlaceholder=a,this._syncPlaceholder(),null},a.prototype.placeholder=function(){return this._placeholder},a.prototype.setPlaceholder=function(a){return this._placeholder=a,this.element.attr("placeholder",this._placeholder)},a.prototype._syncPlaceholder=function(){if(this._enabled){if(this.hasFocus()){if(null!=this._focusedPlaceholder)return this.setPlaceholder(this._focusedPlaceholder)}else if(null!=this._unfocusedPlaceholder)return this.setPlaceholder(this._unfocusedPlaceholder)}else if(null!=this._disabledPlaceholder)return this.setPlaceholder(this._disabledPlaceholder)},a.prototype._buildKeybindings=function(){var a,b,c,d;return a=this.element.get(0).ownerDocument,d=a.defaultView||a.parentWindow,c=d.navigator.userAgent,b=/^Mozilla\/[\d\.]+ \(Macintosh/.test(c),this._bindings=l(b?"OSX":"Default")},a.prototype.inspect=function(){return'#<TextField text="'+this.text()+'">'},a}(),g=function(){function a(a){this.field=a}return a.prototype.field=null,a.prototype.current=null,a.prototype.proposed=null,a.build=function(a,b){var c;return c=new this(a),c.current={text:a.text(),selectedRange:a.selectedRange()},b(),c.proposed={text:a.text(),selectedRange:a.selectedRange()},c.recomputeDiff(),c},a.prototype.hasChanges=function(){return this.recomputeDiff(),this.current.text!==this.proposed.text||this.current.selectedRange.start!==this.proposed.selectedRange.start||this.current.selectedRange.length!==this.proposed.selectedRange.length},a.prototype.recomputeDiff=function(){var a,b,c,d,e,f,g,h,i,j,k;if(this.proposed.text!==this.current.text){for(a=this.current.text,f=this.proposed.text,g=0,h=0,e=Math.min(a.length,f.length),c=i=0;(e>=0?e>i:i>e)&&f[c]===a[c];c=e>=0?++i:--i)g=c+1;for(c=j=0,k=e-g;(k>=0?k>j:j>k)&&f[f.length-1-c]===a[a.length-1-c];c=k>=0?++j:--j)h=c+1;d={start:g,end:f.length-h},b={start:g,end:a.length-h},d.text=f.substring(d.start,d.end),b.text=a.substring(b.start,b.end),this.inserted=d,this.deleted=b}else this.inserted={start:this.proposed.selectedRange.start,end:this.proposed.selectedRange.start+this.proposed.selectedRange.length,text:""},this.deleted={start:this.current.selectedRange.start,end:this.current.selectedRange.start+this.current.selectedRange.length,text:""};return null},a}(),b.exports=f}).call(this)},{"./formatter":9,"./undo_manager":14,"./keybindings":17}],15:[function(a,b){(function(){var a,c,d,e,f,g,h,i;a="amex",c="discover",d="jcb",e="mastercard",f="visa",g=function(b){var g,h,i;return null==b?null:(b=b.toString(),g=parseInt(b.slice(0,2),10),i=parseInt(b.slice(0,6),10),h=parseInt(b.slice(0,3),10),"4"===b[0]?f:"6011"===b.slice(0,4)||65===g||h>=664&&649>=h||i>=622126&&622925>=i?c:"2131"===b.slice(0,4)||"1800"===b.slice(0,4)||35===g?d:g>=51&&55>=g?e:34===g||37===g?a:void 0)},h=function(a){var b,c,d,e,f,g;for(e=0,c=!0,d=f=g=a.length-1;0>=g?0>=f:f>=0;d=0>=g?++f:--f)" "!==a.charAt(d)&&(b=parseInt(a.charAt(d),10),e+=(c=!c)?Math.floor(2*b/10)+Math.floor(2*b%10):b);return e%10===0},i=function(b){var h,i;switch(g(b)){case f:return 13===(h=b.length)||16===h;case c:case e:return 16===b.length;case d:return 15===(i=b.length)||16===i;case a:return 15===b.length;default:return!1}},b.exports={determineCardType:g,luhnCheck:h,validCardLength:i,AMEX:a,DISCOVER:c,JCB:d,MASTERCARD:e,VISA:f}}).call(this)},{}],16:[function(a,b){(function(){var a,c,d,e,f,g;c=function(a){return/^\d*$/.test(a)},d=function(a,b){return b.slice(0,a.length)===a},a=function(a,b){return b.slice(b.length-a.length)===a},e="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s+|\s+$)/,"")},f=function(a,b){var c;for(c=""+b;c.length<a;)c="0"+c;return c},g=function(a){return f(2,a)},b.exports={isDigits:c,startsWith:d,endsWith:a,trim:e,zpad:f,zpad2:g}}).call(this)},{}],17:[function(a,b){(function(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=[].slice;a=65,r=89,s=90,t=48,m=57,k=37,n=39,q=38,h=40,d=8,g=46,p=9,i=13,j={A:a,Y:r,Z:s,ZERO:t,NINE:m,LEFT:k,RIGHT:n,UP:q,DOWN:h,BACKSPACE:d,DELETE:g,TAB:p,ENTER:i,isDigit:function(a){return a>=t&&m>=a},isDirectional:function(a){return a===k||a===n||a===q||a===h}},f=1,l=2,c=4,o=8,v={},w=function(b){var e,j;return j="OSX"===b,e=j?l:f,v[b]||(v[b]=u(b,function(b){return b(a,e,"selectAll"),b(k,null,"moveLeft"),b(k,c,"moveWordLeft"),b(k,o,"moveLeftAndModifySelection"),b(k,c|o,"moveWordLeftAndModifySelection"),j&&b(k,l,"moveToBeginningOfLine"),j&&b(k,l|o,"moveToBeginningOfLineAndModifySelection"),b(n,null,"moveRight"),b(n,c,"moveWordRight"),b(n,o,"moveRightAndModifySelection"),b(n,c|o,"moveWordRightAndModifySelection"),j&&b(n,l,"moveToEndOfLine"),j&&b(n,l|o,"moveToEndOfLineAndModifySelection"),b(q,null,"moveUp"),b(q,c,"moveToBeginningOfParagraph"),b(q,o,"moveUpAndModifySelection"),b(q,c|o,"moveParagraphBackwardAndModifySelection"),j&&b(q,l,"moveToBeginningOfDocument"),j&&b(q,l|o,"moveToBeginningOfDocumentAndModifySelection"),b(h,null,"moveDown"),b(h,c,"moveToEndOfParagraph"),b(h,o,"moveDownAndModifySelection"),b(h,c|o,"moveParagraphForwardAndModifySelection"),j&&b(h,l,"moveToEndOfDocument"),j&&b(h,l|o,"moveToEndOfDocumentAndModifySelection"),b(d,null,"deleteBackward"),b(d,o,"deleteBackward"),b(d,c,"deleteWordBackward"),b(d,c|o,"deleteWordBackward"),j&&b(d,f,"deleteBackwardByDecomposingPreviousCharacter"),j&&b(d,f|o,"deleteBackwardByDecomposingPreviousCharacter"),b(d,e,"deleteBackwardToBeginningOfLine"),b(d,e|o,"deleteBackwardToBeginningOfLine"),b(g,null,"deleteForward"),b(g,c,"deleteWordForward"),b(p,null,"insertTab"),b(p,o,"insertBackTab"),b(i,null,"insertNewline"),b(s,e,"undo"),j&&b(s,l|o,"redo"),j?void 0:b(r,f,"redo")}))},u=function(a,b){var c;return c=new e(a),b(function(){var a;return a=1<=arguments.length?x.call(arguments,0):[],c.bind.apply(c,a)}),c},e=function(){function a(a){this.platform=a,this.bindings={}}return a.prototype.platform=null,a.prototype.bindings=null,a.prototype.bind=function(a,b,c){var d;return((d=this.bindings)[a]||(d[a]={}))[b||0]=c},a.prototype.actionForEvent=function(a){var b,d;return(b=this.bindings[a.keyCode])?(d=0,a.altKey&&(d|=c),a.ctrlKey&&(d|=f),a.metaKey&&(d|=l),a.shiftKey&&(d|=o),b[d]):void 0},a}(),b.exports={KEYS:j,keyBindingsForPlatform:w}}).call(this)},{}],10:[function(a,b){(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=[].slice,x={}.hasOwnProperty,y=function(a,b){function c(){this.constructor=a}for(var d in b)x.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};g=a("./formatter"),v=a("./utils"),p=v.isDigits,r=v.startsWith,n=v.endsWith,t=v.trim,u=v.zpad,s=a("stround"),i=0,c=1,k=2,f="en-US",e="US",q=function(a){var b,c,d;return b=a.match(/^([a-z][a-z])(?:[-_]([a-z][a-z]))?$/i),{lang:null!=b?null!=(c=b[1])?c.toLowerCase():void 0:void 0,country:null!=b?null!=(d=b[2])?d.toUpperCase():void 0:void 0}},o=function(){var a,b,c,d;return c=arguments[0],b=arguments[1],a=3<=arguments.length?w.call(arguments,2):[],d=null!=c?c[b]:void 0,"function"==typeof d&&(d=d.apply(null,a)),d},j=function(a){function b(){this._locale="en",this.setNumberStyle(i)}return y(b,a),b.prototype._allowsFloats=null,b.prototype._alwaysShowsDecimalSeparator=null,b.prototype._countryCode=null,b.prototype._currencyCode=null,b.prototype._exponent=null,b.prototype._groupingSeparator=null,b.prototype._groupingSize=null,b.prototype._lenient=!1,b.prototype._locale=null,b.prototype._internationalCurrencySymbol=null,b.prototype._maximumFractionDigits=null,b.prototype._minimumFractionDigits=null,b.prototype._maximumIntegerDigits=null,b.prototype._minimumIntegerDigits=null,b.prototype._maximum=null,b.prototype._minimum=null,b.prototype._notANumberSymbol=null,b.prototype._nullSymbol=null,b.prototype._numberStyle=null,b.prototype._roundingMode=null,b.prototype._usesGroupingSeparator=null,b.prototype._zeroSymbol=null,b.prototype.allowsFloats=function(){return this._get("allowsFloats")},b.prototype.setAllowsFloats=function(a){return this._allowsFloats=a,this},b.prototype.alwaysShowsDecimalSeparator=function(){return this._get("alwaysShowsDecimalSeparator")},b.prototype.setAlwaysShowsDecimalSeparator=function(a){return this._alwaysShowsDecimalSeparator=a,this},b.prototype.countryCode=function(){return this._countryCode||e},b.prototype.setCountryCode=function(a){return this._countryCode=a,this},b.prototype.currencyCode=function(){return this._get("currencyCode")},b.prototype.setCurrencyCode=function(a){return this._currencyCode=a,this},b.prototype.currencySymbol=function(){return this._get(this._shouldShowNativeCurrencySymbol()?"currencySymbol":"internationalCurrencySymbol")},b.prototype.setCurrencySymbol=function(a){return this._currencySymbol=a,this},b.prototype._shouldShowNativeCurrencySymbol=function(){var a,b;return a=this._regionDefaults().currencyCode,a=null!=(b="function"==typeof a?a():void 0)?b:a,this.currencyCode()===a},b.prototype.decimalSeparator=function(){return this._get("decimalSeparator")},b.prototype.setDecimalSeparator=function(a){return this._decimalSeparator=a,this},b.prototype.groupingSeparator=function(){return this._get("groupingSeparator")},b.prototype.setGroupingSeparator=function(a){return this._groupingSeparator=a,this},b.prototype.groupingSize=function(){return this._get("groupingSize")},b.prototype.setGroupingSize=function(a){return this._groupingSize=a,this},b.prototype.internationalCurrencySymbol=function(){return this._get("internationalCurrencySymbol")},b.prototype.setInternationalCurrencySymbol=function(a){return this._internationalCurrencySymbol=a,this},b.prototype.isLenient=function(){return this._lenient},b.prototype.setLenient=function(a){return this._lenient=a,this},b.prototype.locale=function(){return this._locale||f},b.prototype.setLocale=function(a){return this._locale=a,this},b.prototype.maximum=function(){return this._maximum},b.prototype.setMaximum=function(a){return this._maximum=a,this},b.prototype.minimum=function(){return this._minimum},b.prototype.setMinimum=function(a){return this._minimum=a,this},b.prototype.maximumFractionDigits=function(){return this._get("maximumFractionDigits")},b.prototype.setMaximumFractionDigits=function(a){return this._maximumFractionDigits=a,this},b.prototype.minimumFractionDigits=function(){return this._get("minimumFractionDigits")},b.prototype.setMinimumFractionDigits=function(a){return this._minimumFractionDigits=a,this},b.prototype.maximumIntegerDigits=function(){return this._get("maximumIntegerDigits")},b.prototype.setMaximumIntegerDigits=function(a){return this._maximumIntegerDigits=a,this},b.prototype.minimumIntegerDigits=function(){return this._get("minimumIntegerDigits")},b.prototype.setMinimumIntegerDigits=function(a){return this._minimumIntegerDigits=a,this},b.prototype.exponent=function(){return this._get("exponent")},b.prototype.setExponent=function(a){return this._exponent=a,this},b.prototype.negativeInfinitySymbol=function(){return this._get("negativeInfinitySymbol")},b.prototype.setNegativeInfinitySymbol=function(a){return this._negativeInfinitySymbol=a},b.prototype.negativePrefix=function(){return this._get("negativePrefix")},b.prototype.setNegativePrefix=function(a){return this._negativePrefix=a,this},b.prototype.negativeSuffix=function(){return this._get("negativeSuffix")},b.prototype.setNegativeSuffix=function(a){return this._negativeSuffix=a,this},b.prototype.notANumberSymbol=function(){return this._get("notANumberSymbol")},b.prototype.setNotANumberSymbol=function(a){return this._notANumberSymbol=a},b.prototype.nullSymbol=function(){return this._get("nullSymbol")},b.prototype.setNullSymbol=function(a){return this._nullSymbol=a},b.prototype.numberStyle=function(){return this._numberStyle},b.prototype.setNumberStyle=function(a){switch(this._numberStyle=a,this._numberStyle){case i:this._styleDefaults=m.NONE;break;case k:this._styleDefaults=m.PERCENT;break;case c:this._styleDefaults=m.CURRENCY;break;default:this._styleDefaults=null}return this},b.prototype.percentSymbol=function(){return this._get("percentSymbol")},b.prototype.setPercentSymbol=function(a){return this._percentSymbol=a,this},b.prototype.positiveInfinitySymbol=function(){return this._get("positiveInfinitySymbol")},b.prototype.setPositiveInfinitySymbol=function(a){return this._positiveInfinitySymbol=a,this},b.prototype.positivePrefix=function(){return this._get("positivePrefix")},b.prototype.setPositivePrefix=function(a){return this._positivePrefix=a,this},b.prototype.positiveSuffix=function(){return this._get("positiveSuffix")},b.prototype.setPositiveSuffix=function(a){return this._positiveSuffix=a,this},b.prototype.roundingMode=function(){return this._get("roundingMode")},b.prototype.setRoundingMode=function(a){return this._roundingMode=a,this},b.prototype.usesGroupingSeparator=function(){return this._get("usesGroupingSeparator")},b.prototype.setUsesGroupingSeparator=function(a){return this._usesGroupingSeparator=a},b.prototype.zeroSymbol=function(){return this._get("zeroSymbol")},b.prototype.setZeroSymbol=function(a){return this._zeroSymbol=a},b.prototype._get=function(a){var b,c,d,e;return e=this["_"+a],null!=e?e:(d=this._styleDefaults,b=this._localeDefaults(),c=this._regionDefaults(),e=o(d,a,this,b),null!=e?e:(e=o(b,a,this,d),null!=e?e:(e=o(c,a,this,d),null!=e?e:(e=o(this._currencyDefaults(),a,this,b),null!=e?e:null))))},b.prototype.format=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,w,x,y,z,A;if(""===a)return"";if(null!=(v=this.zeroSymbol())&&0===a)return v;if(null!=(o=this.nullSymbol())&&null===a)return o;if(null!=(n=this.notANumberSymbol())&&isNaN(a))return n;if(null!=(p=this.positiveInfinitySymbol())&&1/0===a)return p;if(null!=(m=this.negativeInfinitySymbol())&&a===-1/0)return m;if(f=null,d=null,t=null,l=0>a,x=(""+Math.abs(a)).split("."),f=x[0],d=x[1],d||(d=""),null!=(c=this.exponent()))for(y=s.shift([l,f,d],c),l=y[0],f=y[1],d=y[2];"0"===f[0];)f=f.slice(1);for(h=this.maximumFractionDigits(),d.length>h&&(u=""+f+"."+d,r=this._round(l?"-"+u:u),"-"===r[0]&&(r=r.slice(1)),z=r.split("."),f=z[0],d=z[1],d||(d="")),j=this.minimumFractionDigits();d.length<j;)d+="0";for(k=this.minimumIntegerDigits();f.length<k;)f="0"+f;for(j=this.minimumFractionDigits();d.length>j&&"0"===d.slice(-1);)d=d.slice(0,-1);if(i=this.maximumIntegerDigits(),null!=i&&f.length>i&&(f=f.slice(-i)),(d.length>0||this.alwaysShowsDecimalSeparator())&&(d=this.decimalSeparator()+d),this.usesGroupingSeparator()){for(g="",b=0,e=w=A=f.length-1;0>=A?0>=w:w>=0;e=0>=A?++w:--w)b>0&&b%this.groupingSize()===0&&(g=this.groupingSeparator()+g),g=f[e]+g,b++;f=g}return q=f+d,q=l?this.negativePrefix()+q+this.negativeSuffix():this.positivePrefix()+q+this.positiveSuffix()},b.prototype._round=function(a){return s.round(a,this.maximumFractionDigits(),this.roundingMode())},b.prototype.parse=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(j=this.positivePrefix(),h=this.negativePrefix(),k=this.positiveSuffix(),i=this.negativeSuffix(),this.isLenient()&&(a=a.replace(/\s/g,""),j=t(j),h=t(h),k=t(k),i=t(i)),null!=this.zeroSymbol()&&a===this.zeroSymbol())l=0;else if(null!=this.nullSymbol()&&a===this.nullSymbol())l=null;else if(null!=this.notANumberSymbol()&&a===this.notANumberSymbol())l=0/0;else if(null!=this.positiveInfinitySymbol()&&a===this.positiveInfinitySymbol())l=1/0;else if(null!=this.negativeInfinitySymbol()&&a===this.negativeInfinitySymbol())l=-1/0;else if(null==l)if(c=r(h,a),d=n(i,a),c&&(this.isLenient()||d))g=a.slice(h.length),d&&(g=g.slice(0,g.length-i.length)),l=this._parseAbsoluteValue(g,b),null!=l&&(l*=-1);else{if(e=r(j,a),f=n(k,a),!(this.isLenient()||e&&f))return"function"==typeof b&&b("number-formatter.invalid-format"),null;g=a,e&&(g=g.slice(j.length)),f&&(g=g.slice(0,g.length-k.length)),l=this._parseAbsoluteValue(g,b)}if(null!=l){if(null!=this._minimum&&l<this._minimum)return"function"==typeof b&&b("number-formatter.out-of-bounds.below-minimum"),null;if(null!=this._maximum&&l>this._maximum)return"function"==typeof b&&b("number-formatter.out-of-bounds.above-maximum"),null}return l},b.prototype._parseAbsoluteValue=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(0===a.length)return"function"==typeof b&&b("number-formatter.invalid-format"),null;if(k=a.split(this.decimalSeparator()),k.length>2)return"function"==typeof b&&b("number-formatter.invalid-format"),null;if(h=k[0],d=k[1]||"",this.usesGroupingSeparator()){if(g=this.groupingSize(),f=h.split(this.groupingSeparator()),!this.isLenient()&&f.length>1){if(f[0].length>g)return"function"==typeof b&&b("number-formatter.invalid-format.grouping-size"),null;for(n=f.slice(1),l=0,m=n.length;m>l;l++)if(e=n[l],e.length!==g)return"function"==typeof b&&b("number-formatter.invalid-format.grouping-size"),null}h=f.join("")}return p(h)&&p(d)?(null!=(c=this.exponent())&&(o=s.shift([i,h,d],-c),i=o[0],h=o[1],d=o[2]),j=Number(h)+Number("."+(d||"0")),this.allowsFloats()||j===~~j?j:("function"==typeof b&&b("number-formatter.floats-not-allowed"),null)):("function"==typeof b&&b("number-formatter.invalid-format"),null)},b.prototype._currencyDefaults=function(){var a,b,c,e,f;b={},e=d["default"];for(a in e)x.call(e,a)&&(c=e[a],b[a]=c);f=d[this.currencyCode()];for(a in f)x.call(f,a)&&(c=f[a],b[a]=c);return b},b.prototype._regionDefaults=function(){var a,b,c,d,e;b={},d=l["default"];for(a in d)x.call(d,a)&&(c=d[a],b[a]=c);e=l[this.countryCode()];for(a in e)x.call(e,a)&&(c=e[a],b[a]=c);return b},b.prototype._localeDefaults=function(){var a,b,c,d,e,f,g,i,j,k;for(f=this.locale(),a=this.countryCode(),e=q(f).lang,g={},b=[l["default"],h["default"],l[a],h[e],h[f]],j=0,k=b.length;k>j;j++){c=b[j];for(d in c)x.call(c,d)&&(i=c[d],g[d]=i)}return g},b}(g),j.prototype.stringFromNumber=j.prototype.format,j.prototype.numberFromString=j.prototype.parse,j.prototype.minusSign=j.prototype.negativePrefix,j.prototype.setMinusSign=j.prototype.setNegativePrefix,j.prototype.plusSign=j.prototype.positivePrefix,j.prototype.setPlusSign=j.prototype.setPositivePrefix,j.Rounding=s.modes,j.Style={NONE:i,CURRENCY:c,PERCENT:k},m={NONE:{usesGroupingSeparator:!1,minimumFractionDigits:0,maximumFractionDigits:0,minimumIntegerDigits:0},PERCENT:{usesGroupingSeparator:!1,exponent:2,minimumFractionDigits:0,maximumFractionDigits:0,minimumIntegerDigits:1,positiveSuffix:function(a){return a.percentSymbol()},negativeSuffix:function(a){return a.percentSymbol()}},CURRENCY:{positivePrefix:function(a,b){return o(b,"positiveCurrencyPrefix",a,this)},positiveSuffix:function(a,b){return o(b,"positiveCurrencySuffix",a,this)},negativePrefix:function(a,b){return o(b,"negativeCurrencyPrefix",a,this)},negativeSuffix:function(a,b){return o(b,"negativeCurrencySuffix",a,this)}}},h={"default":{allowsFloats:!0,alwaysShowsDecimalSeparator:!1,decimalSeparator:".",groupingSeparator:",",groupingSize:3,negativeInfinitySymbol:"-âˆž",negativePrefix:"-",negativeSuffix:"",notANumberSymbol:"NaN",nullSymbol:"",percentSymbol:"%",positiveInfinitySymbol:"+âˆž",positivePrefix:"",positiveSuffix:"",roundingMode:j.Rounding.HALF_EVEN,positiveCurrencyPrefix:function(a){return a.currencySymbol()},positiveCurrencySuffix:"",negativeCurrencyPrefix:function(a){return"("+a.currencySymbol()},negativeCurrencySuffix:function(){return")"}},fr:{decimalSeparator:",",groupingSeparator:" ",percentSymbol:" %",positiveCurrencyPrefix:"",positiveCurrencySuffix:function(a){return" "+a.currencySymbol()},negativeCurrencyPrefix:function(){return"("},negativeCurrencySuffix:function(a){return" "+a.currencySymbol()+")"}},ja:{negativeCurrencyPrefix:function(a){return"-"+a.currencySymbol()},negativeCurrencySuffix:""},"en-GB":{negativeCurrencyPrefix:function(a){return"-"+a.currencySymbol()},negativeCurrencySuffix:""}},l={CA:{currencyCode:"CAD"},DE:{currencyCode:"EUR"},ES:{currencyCode:"EUR"},FR:{currencyCode:"EUR"},GB:{currencyCode:"GBP"},JP:{currencyCode:"JPY"},US:{currencyCode:"USD"}},d={"default":{currencySymbol:function(a){return a.currencyCode()},internationalCurrencySymbol:function(a){return a.currencyCode()},minimumFractionDigits:2,maximumFractionDigits:2,minimumIntegerDigits:1,usesGroupingSeparator:!0},CAD:{currencySymbol:"$",internationalCurrencySymbol:"CA$"},EUR:{currencySymbol:"â‚¬"},GBP:{currencySymbol:"Â£",internationalCurrencySymbol:"GBÂ£"},JPY:{currencySymbol:"Â¥",internationalCurrencySymbol:"JPÂ¥",minimumFractionDigits:0,maximumFractionDigits:0},USD:{currencySymbol:"$",internationalCurrencySymbol:"US$"}},b.exports=j}).call(this)},{"./formatter":9,"./utils":16,stround:18}],18:[function(a,b){function c(a){var b=a.length;if(0===b)return"1";var d=parseInt(a[b-1],10);return 9===d?c(a.slice(0,b-1))+"0":a.slice(0,b-1)+(d+1)}function d(a){switch(a){case"NaN":case"Infinity":case"-Infinity":return a}var b=a.match(t);if(!b)throw new Error("cannot round malformed number: "+a);return[void 0!==b[1],b[2],b[3]||""]}function e(a){var b=a[0],c=a[1],d=a[2];if(0===c.length)c="0";else{var e;for(e=0;e<c.length&&"0"===c[e];e++);e!==c.length&&(c=c.slice(e))}return(b?p+c:c)+(d.length?q+d:"")}function f(a,b){"number"==typeof a&&(a=""+a);var c,f=!0;if("string"==typeof a){if(c=d(a),"string"==typeof c)return a}else c=a,f=!1;var g,h=c[0],i=c[1],j=c[2];if(b>0){for(g=j.slice(0,b);g.length<b;)g+="0";i+=g,j=j.slice(b)}else if(0>b){for(;i.length<-b;)i="0"+i;g=i.slice(i.length+b),j=g+j,i=i.slice(0,i.length-g.length)}var k=[h,i,j];return f?e(k):k}function g(a,b,g){if("number"==typeof a&&(a=""+a),"string"!=typeof a)throw new Error("expected a string or number, got: "+a);if(0===a.length)return a;"undefined"==typeof b&&(b=0),"undefined"==typeof g&&(g=l);var j=d(a);if("string"==typeof j)return j;b>0&&(j=f(j,b));var o=j[0],p=j[1],q=j[2];switch(g){case h:case i:case k:for(var r=!1,s=0,t=q.length;t>s;s++)if("0"!==q[s]){r=!0;break}r&&(g===k||o!==(g===h))&&(p=c(p));break;case l:case m:case n:var u=!1,v=parseInt(q[0],10);if(v>5)u=!0;else if(5===v){if(g===n&&(u=!0),!u)for(var s=1,t=q.length;t>s;s++)if("0"!==q[s]){u=!0;break}if(!u&&g===l){var w=parseInt(p[p.length-1],10);u=w%2!==0}}u&&(p=c(p))}return e(f([o,p,""],-b))}var h=0,i=1,j=2,k=3,l=4,m=5,n=6,o={CEILING:h,FLOOR:i,DOWN:j,UP:k,HALF_EVEN:l,HALF_DOWN:m,HALF_UP:n},p="-",q=".",r="-",s="\\.",t=new RegExp("^("+r+")?(\\d*)(?:"+s+"(\\d*))?$");b.exports={round:g,shift:f,modes:o}},{}]},{},[1])(1)});