(function(){function t(e,n){for(var r=[],i=e.split("/"),o,s,a=0;s=i[a++];)".."==s?r.pop():"."!=s&&r.push(s);r=r.join("/"),a=t,s=a.m[n||0],o=s[r+".js"]||s[r+"/index.js"]||s[r];if(s=o.c)o=a.m[n=s][e=o.m];return o.exports||o(o,o.exports={},function(t){return a("."!=t.charAt(0)?t:e+"/../"+t,n)}),o.exports}t.m=[];t.m[0]={"adaptive_card_formatter.js":function(t,e,n){(function(){var e,r,i,o,s,a;i=n("./amex_card_formatter");o=n("./default_card_formatter");a=n("./card_utils"),s=a.determineCardType,e=a.AMEX;r=function(){function t(){this.amexCardFormatter=new i;this.defaultCardFormatter=new o;this.formatter=this.defaultCardFormatter}t.prototype.format=function(t){return this._formatterForPan(t).format(t)};t.prototype.parse=function(t,e){return this.formatter.parse(t,e)};t.prototype.isChangeValid=function(t){this.formatter=this._formatterForPan(t.proposed.text);return this.formatter.isChangeValid(t)};t.prototype._formatterForPan=function(t){if(s(t.replace(/[^\d]+/g,""))===e){return this.amexCardFormatter}else{return this.defaultCardFormatter}};return t}();t.exports=r}).call(this)},"amex_card_formatter.js":function(t,e,n){(function(){var e,r,i={}.hasOwnProperty,o=function(t,e){for(var n in e){if(i.call(e,n))t[n]=e[n]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};r=n("./default_card_formatter");e=function(t){o(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.maximumLength=15+2;e.prototype.hasDelimiterAtIndex=function(t){return t===4||t===11};return e}(r);t.exports=e}).call(this)},"card_text_field.js":function(t,e,n){(function(){var e,r,i,o,s,a={}.hasOwnProperty,l=function(t,e){for(var n in e){if(a.call(e,n))t[n]=e[n]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};o=n("./text_field");e=n("./adaptive_card_formatter");s=n("./card_utils").determineCardType;r={None:"None",DoneEditing:"DoneEditing"};i=function(t){l(n,t);function n(t){n.__super__.constructor.call(this,t,new e);this.setCardMaskStrategy(r.None)}n.prototype.cardType=function(){return s(this.value())};n.prototype.cardMaskStrategy=function(){return this._cardMaskStrategy};n.prototype.setCardMaskStrategy=function(t){if(t!==this._cardMaskStrategy){this._cardMaskStrategy=t}return null};n.prototype._masked=false;n.prototype.text=function(){if(this._masked){return this._unmaskedText}else{return n.__super__.text.call(this)}};n.prototype.setText=function(t){if(this._masked){this._unmaskedText=t;t=this.cardMask()}return n.__super__.setText.call(this,t)};n.prototype.textFieldDidEndEditing=function(){if(this.cardMaskStrategy()===r.DoneEditing){return this._enableMasking()}};n.prototype.textFieldDidBeginEditing=function(){if(this.cardMaskStrategy()===r.DoneEditing){return this._disableMasking()}};n.prototype._enableMasking=function(){if(!this._masked){this._unmaskedText=this.text();this._masked=true;return this.setText(this._unmaskedText)}};n.prototype._disableMasking=function(){if(this._masked){this._masked=false;this.setText(this._unmaskedText);return this._unmaskedText=null}};n.prototype.cardMask=function(){var t,e,n;e=this.text();n=e.slice(0,-4);t=e.slice(-4);return n.replace(/\d/g,"â€¢")+t};return n}(o);i.CardMaskStrategy=r;t.exports=i}).call(this)},"card_utils.js":function(t,e,n){(function(){var e,n,r,i,o,s,a;e="amex";n="discover";r="mastercard";i="visa";o=function(t){var o,s,a;if(t==null){return null}t=t.toString();o=parseInt(t.slice(0,2),10);a=parseInt(t.slice(0,6),10);s=parseInt(t.slice(0,3),10);if(t[0]==="4"){return i}else if(t.slice(0,4)==="6011"||o===65||s>=664&&s<=649||a>=622126&&a<=622925){return n}else if(o>=51&&o<=55){return r}else if(o===34||o===37){return e}};s=function(t){var e,n,r,i,o,s;i=0;n=true;for(r=o=s=t.length-1;s<=0?o<=0:o>=0;r=s<=0?++o:--o){if(!(t.charAt(r)!==" ")){continue}e=parseInt(t.charAt(r),10);i+=(n=!n)?Math.floor(e*2/10)+Math.floor(e*2%10):e}return i%10===0};a=function(t){var s;switch(o(t)){case i:return(s=t.length)===13||s===16;case n:case r:return t.length===16;case e:return t.length===15;default:return false}};t.exports={determineCardType:o,luhnCheck:s,validCardLength:a,AMEX:e,DISCOVER:n,MASTERCARD:r,VISA:i}}).call(this)},"default_card_formatter.js":function(t,e,n){(function(){var e,r,i,o,s,a={}.hasOwnProperty,l=function(t,e){for(var n in e){if(a.call(e,n))t[n]=e[n]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};r=n("./delimited_text_formatter");s=n("./card_utils"),o=s.validCardLength,i=s.luhnCheck;e=function(t){l(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.delimiter=" ";e.prototype.maximumLength=16+3;e.prototype.hasDelimiterAtIndex=function(t){return t===4||t===9||t===14};e.prototype.parse=function(t,n){var r;r=this._valueFromText(t);if(!o(r)){if(typeof n==="function"){n("card-formatter.number-too-short")}}if(!i(r)){if(typeof n==="function"){n("card-formatter.invalid-number")}}return e.__super__.parse.call(this,t,n)};e.prototype._valueFromText=function(t){return e.__super__._valueFromText.call(this,(t!=null?t:"").replace(/[^\d]/g,""))};return e}(r);t.exports=e}).call(this)},"delimited_text_formatter.js":function(t,e,n){(function(){var e,r,i={}.hasOwnProperty,o=function(t,e){for(var n in e){if(i.call(e,n))t[n]=e[n]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t},s=[].slice;r=n("./formatter");e=function(t){o(e,t);e.prototype.delimiter=null;e.prototype.delimiterAt=function(t){if(!this.hasDelimiterAtIndex(t)){return null}return this.delimiter};e.prototype.isDelimiter=function(t){return t===this.delimiter};function e(t){var e;if(t==null){t=this.delimiter}this.delimiter=t;if(((e=this.delimiter)!=null?e.length:void 0)!==1){throw new Error("delimiter must have just one character")}}e.prototype.format=function(t){return this._textFromValue(t)};e.prototype._textFromValue=function(t){var e,n,r,i,o;if(!t){return""}r="";for(i=0,o=t.length;i<o;i++){e=t[i];while(n=this.delimiterAt(r.length)){r+=n}r+=e;while(n=this.delimiterAt(r.length)){r+=n}}return r};e.prototype.parse=function(t,e){return this._valueFromText(t)};e.prototype._valueFromText=function(t){var e;if(!t){return""}return function(){var n,r,i;i=[];for(n=0,r=t.length;n<r;n++){e=t[n];if(!this.isDelimiter(e)){i.push(e)}}return i}.call(this).join("")};e.prototype.isChangeValid=function(t,n){var r,i,o,a,l,u,h,c,d,f,p,g;if(!e.__super__.isChangeValid.call(this,t,n)){return false}h=t.proposed.text;c=t.proposed.selectedRange;a=c.length!==0;d=c.start<t.current.selectedRange.start;p=c.start>t.current.selectedRange.start;r=c.start+c.length<t.current.selectedRange.start+t.current.selectedRange.length;o=c.start+c.length>t.current.selectedRange.start+t.current.selectedRange.length;f=d&&this.hasDelimiterAtIndex(c.start)||p&&this.hasDelimiterAtIndex(c.start-1);i=r&&this.hasDelimiterAtIndex(c.start+c.length)||o&&this.hasDelimiterAtIndex(c.start+c.length-1);if(this.isDelimiter(t.deleted.text)){u=t.deleted.start-1;while(this.isDelimiter(h.charAt(u))){h=h.substring(0,u)+h.substring(u+1);u--}h=h.substring(0,u)+h.substring(u+1)}if(d&&f){while(this.delimiterAt(c.start-1)){c.start--;c.length++}c.start--;c.length++}if(p){while(this.delimiterAt(c.start)){c.start++;c.length--}if(f){c.start++;c.length--;while(this.delimiterAt(c.start)){c.start++;c.length--}}}if(a){if(i){if(r){while(this.delimiterAt(c.start+c.length-1)){c.length--}c.length--}if(o){while(this.delimiterAt(c.start+c.length)){c.length++}c.length++}}while(this.hasDelimiterAtIndex(c.start+c.length-1)){if(d||r){c.length--}else{c.length++}}while(this.hasDelimiterAtIndex(c.start)){if(p||o){c.start++;c.length--}else{c.start--;c.length++}}}else{c.length=0}l=true;g=this._valueFromText(h,function(){var t;t=1<=arguments.length?s.call(arguments,0):[];l=false;return n.apply(null,t)});if(l){t.proposed.text=this._textFromValue(g)}return l};return e}(r);t.exports=e}).call(this)},"expiry_date_formatter.js":function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty,s=function(t,e){for(var n in e){if(o.call(e,n))t[n]=e[n]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};e=n("./delimited_text_formatter");i=function(t){var e;e=""+t;while(e.length<2){e="0"+e}return e};r=function(t){s(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.delimiter="/";e.prototype.maximumLength=5;e.prototype.hasDelimiterAtIndex=function(t){return t===2};e.prototype.format=function(t){var n,r;if(!t){return""}n=t.month,r=t.year;r=r%100;return e.__super__.format.call(this,i(n)+i(r))};e.prototype.parse=function(t,n){var r;t=e.__super__.parse.call(this,t);if(r=t.match(/^(0?[1-9]|1\d)(\d\d)$/)){return{month:Number(r[1]),year:Number(r[2])}}else{n("expiry-date-formatter.invalid-date");return null}};e.prototype.isChangeValid=function(t,e){var n,r,i;n=t.proposed.text.length<t.current.text.length;i=t.proposed.text;if(n){if(t.deleted.text===this.delimiter){i=i[0]}if(i==="0"){i=""}}else if(t.inserted.text===this.delimiter&&t.current.text==="1"){i="01"+this.delimiter}else if(t.inserted.text.length>0&&!/^\d$/.test(t.inserted.text)){e("expiry-date-formatter.only-digits-allowed");return false}else{if(/^[2-9]$/.test(i)){i="0"+i}if(/^1[3-9]$/.test(i)){e("expiry-date-formatter.invalid-month");return false}if(i==="00"){e("expiry-date-formatter.invalid-month");return false}if(/^(0[1-9]|1[0-2])$/.test(i)){i+=this.delimiter}if((r=i.match(/^(\d\d)(.)(\d\d?).*$/))&&r[2]===this.delimiter){i=r[1]+this.delimiter+r[3]}}t.proposed.text=i;t.proposed.selectedRange={start:i.length,length:0};return true};return e}(e);t.exports=r}).call(this)},"formatter.js":function(t,e,n){(function(){var e;e=function(){function t(){}t.prototype.maximumLength=null;t.prototype.format=function(t){if(t==null){t=""}if(this.maximumLength!=null){t=t.substring(0,this.maximumLength)}return t};t.prototype.parse=function(t,e){if(t==null){t=""}if(this.maximumLength!=null){t=t.substring(0,this.maximumLength)}return t};t.prototype.isChangeValid=function(t,e){var n,r,i,o,s,a;a=t.proposed,i=a.selectedRange,o=a.text;if(this.maximumLength!=null&&o.length>this.maximumLength){n=this.maximumLength-(o.length-t.inserted.text.length);r=t.current.text.substring(0,t.current.selectedRange.start);if(n>0){r+=t.inserted.text.substring(0,n)}r+=t.current.text.substring(t.current.selectedRange.start+t.current.selectedRange.length);s=o.length-r.length;t.proposed.text=r;i.start-=s}return true};return t}();t.exports=e}).call(this)},"index.js":function(t,e,n){(function(){var e;e={AdaptiveCardFormatter:n("./adaptive_card_formatter"),AmexCardFormatter:n("./amex_card_formatter"),CardTextField:n("./card_text_field"),DefaultCardFormatter:n("./default_card_formatter"),DelimitedTextFormatter:n("./delimited_text_formatter"),ExpiryDateFormatter:n("./expiry_date_formatter"),Formatter:n("./formatter"),SocialSecurityNumberFormatter:n("./social_security_number_formatter"),TextField:n("./text_field"),UndoManager:n("./undo_manager"),UsPhoneFormatter:n("./us_phone_formatter")};t.exports=e}).call(this)},"keybindings.js":function(t,e,n){(function(){var e,n,r,i,o,s,a,l,u,h,c,d,f,p,g,y,m,_,v,x,R,A,D=[].slice;e=65;m=89;_=90;v=48;d=57;h=37;f=39;y=38;a=40;r=8;s=46;g=9;l=13;u={A:e,Y:m,Z:_,ZERO:v,NINE:d,LEFT:h,RIGHT:f,UP:y,DOWN:a,BACKSPACE:r,DELETE:s,TAB:g,ENTER:l,isDigit:function(t){return this.ZERO<=t&&t<=this.NINE},isDirectional:function(t){return t===this.LEFT||t===this.RIGHT||t===this.UP||t===this.DOWN}};o=1<<0;c=1<<1;n=1<<2;p=1<<3;R={};A=function(t){var i,u;u=t==="OSX";i=u?c:o;return R[t]||(R[t]=x(t,function(t){t(e,i,"selectAll");t(h,null,"moveLeft");t(h,n,"moveWordLeft");t(h,p,"moveLeftAndModifySelection");t(h,n|p,"moveWordLeftAndModifySelection");if(u){t(h,c,"moveToBeginningOfLine")}if(u){t(h,c|p,"moveToBeginningOfLineAndModifySelection")}t(f,null,"moveRight");t(f,n,"moveWordRight");t(f,p,"moveRightAndModifySelection");t(f,n|p,"moveWordRightAndModifySelection");if(u){t(f,c,"moveToEndOfLine")}if(u){t(f,c|p,"moveToEndOfLineAndModifySelection")}t(y,null,"moveUp");t(y,n,"moveToBeginningOfParagraph");t(y,p,"moveUpAndModifySelection");t(y,n|p,"moveParagraphBackwardAndModifySelection");if(u){t(y,c,"moveToBeginningOfDocument")}if(u){t(y,c|p,"moveToBeginningOfDocumentAndModifySelection")}t(a,null,"moveDown");t(a,n,"moveToEndOfParagraph");t(a,p,"moveDownAndModifySelection");t(a,n|p,"moveParagraphForwardAndModifySelection");if(u){t(a,c,"moveToEndOfDocument")}if(u){t(a,c|p,"moveToEndOfDocumentAndModifySelection")}t(r,null,"deleteBackward");t(r,p,"deleteBackward");t(r,n,"deleteWordBackward");t(r,n|p,"deleteWordBackward");if(u){t(r,o,"deleteBackwardByDecomposingPreviousCharacter")}if(u){t(r,o|p,"deleteBackwardByDecomposingPreviousCharacter")}t(r,i,"deleteBackwardToBeginningOfLine");t(r,i|p,"deleteBackwardToBeginningOfLine");t(s,null,"deleteForward");t(s,n,"deleteWordForward");t(g,null,"insertTab");t(g,p,"insertBackTab");t(l,null,"insertNewline");t(_,i,"undo");if(u){t(_,c|p,"redo")}if(!u){return t(m,o,"redo")}}))};x=function(t,e){var n;n=new i(t);e(function(){var t;t=1<=arguments.length?D.call(arguments,0):[];return n.bind.apply(n,t)});return n};i=function(){t.prototype.platform=null;t.prototype.bindings=null;function t(t){this.platform=t;this.bindings={}}t.prototype.bind=function(t,e,n){var r;return((r=this.bindings)[t]||(r[t]={}))[e||0]=n};t.prototype.actionForEvent=function(t){var e,r;if(e=this.bindings[t.keyCode]){r=0;if(t.altKey){r|=n}if(t.ctrlKey){r|=o}if(t.metaKey){r|=c}if(t.shiftKey){r|=p}return e[r]}};return t}();t.exports={KEYS:u,keyBindingsForPlatform:A}}).call(this)},"social_security_number_formatter.js":function(t,e,n){(function(){var e,r,i={}.hasOwnProperty,o=function(t,e){for(var n in e){if(i.call(e,n))t[n]=e[n]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};e=n("./delimited_text_formatter");r=function(t){o(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.delimiter="-";e.prototype.maximumLength=9+2;e.prototype.hasDelimiterAtIndex=function(t){return t===3||t===6};e.prototype.isChangeValid=function(t){if(/^\d*$/.test(t.inserted.text)){return e.__super__.isChangeValid.call(this,t)}else{return false}};return e}(e);t.exports=r}).call(this)},"text_field.js":function(t,e,n){(function(){var e,r,i,o,s,a,l,u,h=function(t,e){return function(){return t.apply(e,arguments)}},c=[].slice;s=n("./undo_manager");u=n("./keybindings"),r=u.KEYS,l=u.keyBindingsForPlatform;e={UPSTREAM:0,DOWNSTREAM:1,NONE:null};a=function(t){return t&&/^\w$/.test(t)};i=function(){t.prototype.selectionAffinity=e.NONE;t.prototype._delegate=null;t.prototype.delegate=function(){return this._delegate};t.prototype.setDelegate=function(t){this._delegate=t;return null};function t(t,e){this.element=t;this._formatter=e;this._blur=h(this._blur,this);this._focus=h(this._focus,this);this.click=h(this.click,this);this.paste=h(this.paste,this);this.keyUp=h(this.keyUp,this);this.keyPress=h(this.keyPress,this);this.keyDown=h(this.keyDown,this);this._jQuery=this.element.constructor;this.element.on("keydown",this.keyDown);this.element.on("keypress",this.keyPress);this.element.on("keyup",this.keyUp);this.element.on("click",this.click);this.element.on("paste",this.paste);this.element.on("focus",this._focus);this.element.on("blur",this._blur);this._buildKeybindings()}t.prototype.insertText=function(t){var e;if(this.hasSelection()){this.clearSelection()}this.replaceSelection(t);e=this.selectedRange();e.start+=e.length;e.length=0;return this.setSelectedRange(e)};t.prototype.insertNewline=function(t){this._textFieldDidEndEditing();return this._didEndEditingButKeptFocus=true};t.prototype._textDidChange=function(){var t;this.textDidChange();return(t=this._delegate)!=null?typeof t.textDidChange==="function"?t.textDidChange(this):void 0:void 0};t.prototype.textDidChange=function(){};t.prototype._textFieldDidEndEditing=function(){var t;this.textFieldDidEndEditing();return(t=this._delegate)!=null?typeof t.textFieldDidEndEditing==="function"?t.textFieldDidEndEditing(this):void 0:void 0};t.prototype.textFieldDidEndEditing=function(){};t.prototype._textFieldDidBeginEditing=function(){var t;this.textFieldDidBeginEditing();return(t=this._delegate)!=null?typeof t.textFieldDidBeginEditing==="function"?t.textFieldDidBeginEditing(this):void 0:void 0};t.prototype.textFieldDidBeginEditing=function(){};t.prototype.moveUp=function(t){t.preventDefault();return this.setSelectedRange({start:0,length:0})};t.prototype.moveToBeginningOfParagraph=function(t){return this.moveUp(t)};t.prototype.moveUpAndModifySelection=function(t){var n;t.preventDefault();n=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:case e.NONE:n.length+=n.start;n.start=0;break;case e.DOWNSTREAM:n.length=n.start;n.start=0}return this.setSelectedRangeWithAffinity(n,e.UPSTREAM)};t.prototype.moveParagraphBackwardAndModifySelection=function(t){var n;t.preventDefault();n=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:case e.NONE:n.length+=n.start;n.start=0;break;case e.DOWNSTREAM:n.length=0}return this.setSelectedRangeWithAffinity(n,e.UPSTREAM)};t.prototype.moveToBeginningOfDocument=function(t){return this.moveToBeginningOfLine(t)};t.prototype.moveToBeginningOfDocumentAndModifySelection=function(t){var n;t.preventDefault();n=this.selectedRange();n.length+=n.start;n.start=0;return this.setSelectedRangeWithAffinity(n,e.UPSTREAM)};t.prototype.moveDown=function(t){var n;t.preventDefault();n={start:this.text().length,length:0};return this.setSelectedRangeWithAffinity(n,e.NONE)};t.prototype.moveToEndOfParagraph=function(t){return this.moveDown(t)};t.prototype.moveDownAndModifySelection=function(t){var n,r;t.preventDefault();r=this.selectedRange();n=this.text().length;if(this.selectionAffinity===e.UPSTREAM){r.start+=r.length}r.length=n-r.start;return this.setSelectedRangeWithAffinity(r,e.DOWNSTREAM)};t.prototype.moveParagraphForwardAndModifySelection=function(t){var n;t.preventDefault();n=this.selectedRange();switch(this.selectionAffinity){case e.DOWNSTREAM:case e.NONE:n.length=this.text().length-n.start;break;case e.UPSTREAM:n.start+=n.length;n.length=0}return this.setSelectedRangeWithAffinity(n,e.DOWNSTREAM)};t.prototype.moveToEndOfDocument=function(t){return this.moveToEndOfLine(t)};t.prototype.moveToEndOfDocumentAndModifySelection=function(t){var n;t.preventDefault();n=this.selectedRange();n.length=this.text().length-n.start;return this.setSelectedRangeWithAffinity(n,e.DOWNSTREAM)};t.prototype.moveLeft=function(t){var n;t.preventDefault();n=this.selectedRange();if(n.length!==0){n.length=0}else{n.start--}return this.setSelectedRangeWithAffinity(n,e.NONE)};t.prototype.moveLeftAndModifySelection=function(t){var n;t.preventDefault();n=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:case e.NONE:this.selectionAffinity=e.UPSTREAM;n.start--;n.length++;break;case e.DOWNSTREAM:n.length--}return this.setSelectedRange(n)};t.prototype.moveWordLeft=function(t){var e;t.preventDefault();e=this.lastWordBreakBeforeIndex(this.selectedRange().start-1);return this.setSelectedRange({start:e,length:0})};t.prototype.moveWordLeftAndModifySelection=function(t){var n,r,i;t.preventDefault();r=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:case e.NONE:this.selectionAffinity=e.UPSTREAM;i=this.lastWordBreakBeforeIndex(r.start-1);r.length+=r.start-i;r.start=i;break;case e.DOWNSTREAM:n=this.lastWordBreakBeforeIndex(r.start+r.length);if(n<r.start){n=r.start}r.length-=r.start+r.length-n}return this.setSelectedRange(r)};t.prototype.moveToBeginningOfLine=function(t){t.preventDefault();return this.setSelectedRange({start:0,length:0})};t.prototype.moveToBeginningOfLineAndModifySelection=function(t){var n;t.preventDefault();n=this.selectedRange();n.length+=n.start;n.start=0;return this.setSelectedRangeWithAffinity(n,e.UPSTREAM)};t.prototype.moveRight=function(t){var n;t.preventDefault();n=this.selectedRange();if(n.length!==0){n.start+=n.length;n.length=0}else{n.start++}return this.setSelectedRangeWithAffinity(n,e.NONE)};t.prototype.moveRightAndModifySelection=function(t){var n;t.preventDefault();n=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:n.start++;n.length--;break;case e.DOWNSTREAM:case e.NONE:this.selectionAffinity=e.DOWNSTREAM;n.length++}return this.setSelectedRange(n)};t.prototype.moveWordRight=function(t){var e,n;t.preventDefault();n=this.selectedRange();e=this.nextWordBreakAfterIndex(n.start+n.length);return this.setSelectedRange({start:e,length:0})};t.prototype.moveWordRightAndModifySelection=function(t){var n,r,i;t.preventDefault();r=this.selectedRange();i=r.start;n=r.start+r.length;switch(this.selectionAffinity){case e.UPSTREAM:i=Math.min(this.nextWordBreakAfterIndex(i),n);break;case e.DOWNSTREAM:case e.NONE:this.selectionAffinity=e.DOWNSTREAM;n=this.nextWordBreakAfterIndex(r.start+r.length)}return this.setSelectedRange({start:i,length:n-i})};t.prototype.moveToEndOfLine=function(t){t.preventDefault();return this.setSelectedRange({start:this.text().length,length:0})};t.prototype.moveToEndOfLineAndModifySelection=function(t){var n;t.preventDefault();n=this.selectedRange();n.length=this.text().length-n.start;return this.setSelectedRangeWithAffinity(n,e.DOWNSTREAM)};t.prototype.deleteBackward=function(t){var e;t.preventDefault();e=this.selectedRange();if(e.length===0){e.start--;e.length++;this.setSelectedRange(e)}return this.clearSelection()};t.prototype.deleteWordBackward=function(t){var e,n;if(this.hasSelection()){return this.deleteBackward(t)}t.preventDefault();e=this.selectedRange();n=this.lastWordBreakBeforeIndex(e.start);e.length+=e.start-n;e.start=n;this.setSelectedRange(e);return this.clearSelection()};t.prototype.deleteBackwardByDecomposingPreviousCharacter=function(t){return this.deleteBackward(t)};t.prototype.deleteBackwardToBeginningOfLine=function(t){var e;if(this.hasSelection()){return this.deleteBackward(t)}t.preventDefault();e=this.selectedRange();e.length=e.start;e.start=0;this.setSelectedRange(e);return this.clearSelection()};t.prototype.deleteForward=function(t){var e;t.preventDefault();e=this.selectedRange();if(e.length===0){e.length++;this.setSelectedRange(e)}return this.clearSelection()};t.prototype.deleteWordForward=function(t){var e,n;if(this.hasSelection()){return this.deleteForward(t)}t.preventDefault();n=this.selectedRange();e=this.nextWordBreakAfterIndex(n.start+n.length);this.setSelectedRange({start:n.start,length:e-n.start});return this.clearSelection()};t.prototype.insertTab=function(t){};t.prototype.insertBackTab=function(t){};t.prototype.hasSelection=function(){return this.selectedRange().length!==0};t.prototype.lastWordBreakBeforeIndex=function(t){var e,n,r,i,o;e=this.leftWordBreakIndexes();n=e[0];for(i=0,o=e.length;i<o;i++){r=e[i];if(t>r){n=r}else{break}}return n};t.prototype.leftWordBreakIndexes=function(){var t,e,n,r,i;e=[];n=this.text();for(t=r=0,i=n.length-1;0<=i?r<=i:r>=i;t=0<=i?++r:--r){if(!a(n[t-1])&&a(n[t])){e.push(t)}}return e};t.prototype.nextWordBreakAfterIndex=function(t){var e,n,r,i,o;e=this.rightWordBreakIndexes().reverse();n=e[0];for(i=0,o=e.length;i<o;i++){r=e[i];if(t<r){n=r}else{break}}return n};t.prototype.rightWordBreakIndexes=function(){var t,e,n,r,i;e=[];n=this.text();for(t=r=0,i=n.length-1;0<=i?r<=i:r>=i;t=0<=i?++r:--r){if(a(n[t])&&!a(n[t+1])){e.push(t+1)}}return e};t.prototype.clearSelection=function(){return this.replaceSelection("")};t.prototype.replaceSelection=function(t){var n,r,i;r=this.selectedRange();n=r.start+r.length;i=this.text();i=i.substring(0,r.start)+t+i.substring(n);r.length=t.length;this.setText(i);return this.setSelectedRangeWithAffinity(r,e.NONE)};t.prototype.selectAll=function(t){t.preventDefault();return this.setSelectedRangeWithAffinity({start:0,length:this.text().length},e.NONE)};t.prototype.readSelectionFromPasteboard=function(t){var e,n;n=t.getData("Text");this.replaceSelection(n);e=this.selectedRange();e.start+=e.length;e.length=0;return this.setSelectedRange(e)};t.prototype.keyDown=function(t){var e,n=this;if(this._didEndEditingButKeptFocus){this._textFieldDidBeginEditing();this._didEndEditingButKeptFocus=false}if(e=this._bindings.actionForEvent(t)){switch(e){case"undo":case"redo":return this[e](t);default:return this.rollbackInvalidChanges(function(){return n[e](t)})}}};t.prototype.keyPress=function(t){var e,n=this;if(!t.metaKey&&!t.ctrlKey&&(e=t.keyCode)!==r.ENTER&&e!==r.TAB&&e!==r.BACKSPACE){t.preventDefault();return this.rollbackInvalidChanges(function(){return n.insertText(String.fromCharCode(t.charCode))})}};t.prototype.keyUp=function(t){var e=this;return this.rollbackInvalidChanges(function(){if(t.keyCode===r.TAB){return e.selectAll(t)}})};t.prototype.paste=function(t){var e=this;t.preventDefault();return this.rollbackInvalidChanges(function(){return e.readSelectionFromPasteboard(t.originalEvent.clipboardData)})};t.prototype.rollbackInvalidChanges=function(t){var e,n,r,i,s,a;i=null;r=null;e=o.build(this,function(){return i=t()});n=function(t){return r=t};if(e.hasChanges()){if(typeof((s=this.formatter())!=null?s.isChangeValid:void 0)==="function"){if(this.formatter().isChangeValid(e,n)){e.recomputeDiff();this.setText(e.proposed.text);this.setSelectedRange(e.proposed.selectedRange)}else{if((a=this.delegate())!=null){if(typeof a.textFieldDidFailToValidateChange==="function"){a.textFieldDidFailToValidateChange(this,e,r)}}this.setText(e.current.text);this.setSelectedRange(e.current.selectedRange);return i}}if(e.inserted.text.length||e.deleted.text.length){this.undoManager().proxyFor(this)._applyChangeFromUndoManager(e);this._textDidChange()}}return i};t.prototype.click=function(t){return this.selectionAffinity=e.NONE};t.prototype.on=function(){var t,e;t=1<=arguments.length?c.call(arguments,0):[];return(e=this.element).on.apply(e,t)};t.prototype.off=function(){var t,e;t=1<=arguments.length?c.call(arguments,0):[];return(e=this.element).off.apply(e,t)};t.prototype.text=function(){return this.element.val()};t.prototype.setText=function(t){return this.element.val(t)};t.prototype.value=function(){var t,e=this;t=this.text();if(!this._formatter){return t}return this._formatter.parse(t,function(n){var r;return(r=e._delegate)!=null?typeof r.textFieldDidFailToParseString==="function"?r.textFieldDidFailToParseString(e,t,n):void 0:void 0})};t.prototype.setValue=function(t){if(this._formatter){t=this._formatter.format(t)}this.setText(""+t);return this.element.trigger("change")};t.prototype.formatter=function(){return this._formatter};t.prototype.setFormatter=function(t){var e;e=this.value();this._formatter=t;return this.setValue(e)};t.prototype.selectedRange=function(){var t;t=this.element.caret();return{start:t.start,length:t.end-t.start}};t.prototype.setSelectedRange=function(t){return this.setSelectedRangeWithAffinity(t,this.selectionAffinity)};t.prototype.setSelectedRangeWithAffinity=function(t,n){var r,i,o;o=0;i=this.text().length;r={start:Math.max(o,Math.min(i,t.start)),end:Math.max(o,Math.min(i,t.start+t.length))};this.element.caret(r);return this.selectionAffinity=t.length===0?e.NONE:n};t.prototype.selectionAnchor=function(){var t;t=this.selectedRange();switch(this.selectionAffinity){case e.UPSTREAM:return t.start+t.length;case e.DOWNSTREAM:return t.start;default:return null}};t.prototype.undo=function(t){if(this.undoManager().canUndo()){this.undoManager().undo()}return t.preventDefault()};t.prototype.redo=function(t){if(this.undoManager().canRedo()){this.undoManager().redo()}return t.preventDefault()};t.prototype.undoManager=function(){return this._undoManager||(this._undoManager=new s)};t.prototype.allowsUndo=function(){return this._allowsUndo};t.prototype.setAllowsUndo=function(t){return this._allowsUndo=t};t.prototype._applyChangeFromUndoManager=function(t){this.undoManager().proxyFor(this)._applyChangeFromUndoManager(t);if(this.undoManager().isUndoing()){this.setText(t.current.text);this.setSelectedRange(t.current.selectedRange)}else{this.setText(t.proposed.text);this.setSelectedRange(t.proposed.selectedRange)}return this._textDidChange()};t.prototype._enabled=true;t.prototype.isEnabled=function(){return this._enabled};t.prototype.setEnabled=function(t){this._enabled=t;this._syncPlaceholder();return null};t.prototype.hasFocus=function(){return this.element.get(0).ownerDocument.activeElement===this.element.get(0)};t.prototype._focus=function(t){this._textFieldDidBeginEditing();return this._syncPlaceholder()};t.prototype._blur=function(t){this._textFieldDidEndEditing();return this._syncPlaceholder()};t.prototype._didEndEditingButKeptFocus=false;t.prototype.becomeFirstResponder=function(t){var e=this;this.element.focus();return this.rollbackInvalidChanges(function(){e.element.select();return e._syncPlaceholder()})};t.prototype.resignFirstResponder=function(t){if(t!=null){t.preventDefault()}this.element.blur();return this._syncPlaceholder()};t.prototype._placeholder=null;t.prototype._disabledPlaceholder=null;t.prototype._focusedPlaceholder=null;t.prototype._unfocusedPlaceholder=null;t.prototype.disabledPlaceholder=function(){return this._disabledPlaceholder};t.prototype.setDisabledPlaceholder=function(t){this._disabledPlaceholder=t;this._syncPlaceholder();return null};t.prototype.focusedPlaceholder=function(){return this._focusedPlaceholder};t.prototype.setFocusedPlaceholder=function(t){this._focusedPlaceholder=t;this._syncPlaceholder();return null};t.prototype.unfocusedPlaceholder=function(){return this._unfocusedPlaceholder};t.prototype.setUnfocusedPlaceholder=function(t){this._unfocusedPlaceholder=t;this._syncPlaceholder();return null};t.prototype.placeholder=function(){return this._placeholder};t.prototype.setPlaceholder=function(t){this._placeholder=t;return this.element.attr("placeholder",this._placeholder)};t.prototype._syncPlaceholder=function(){if(!this._enabled){if(this._disabledPlaceholder!=null){return this.setPlaceholder(this._disabledPlaceholder)}}else if(this.hasFocus()){if(this._focusedPlaceholder!=null){return this.setPlaceholder(this._focusedPlaceholder)}}else{if(this._unfocusedPlaceholder!=null){return this.setPlaceholder(this._unfocusedPlaceholder)}}};t.prototype._buildKeybindings=function(){var t,e;e=this.element.get(0).ownerDocument.defaultView.navigator.userAgent;t=/^Mozilla\/[\d\.]+ \(Macintosh/.test(e);return this._bindings=l(t?"OSX":"Default")};t.prototype.inspect=function(){return'#<TextField text="'+this.text()+'">'};return t}();o=function(){t.prototype.field=null;t.prototype.current=null;t.prototype.proposed=null;function t(t){this.field=t}t.build=function(t,e){var n;n=new this(t);n.current={text:t.text(),selectedRange:t.selectedRange()};e();n.proposed={text:t.text(),selectedRange:t.selectedRange()};n.recomputeDiff();return n};t.prototype.hasChanges=function(){this.recomputeDiff();return this.current.text!==this.proposed.text||this.current.selectedRange.start!==this.proposed.selectedRange.start||this.current.selectedRange.length!==this.proposed.selectedRange.length};t.prototype.recomputeDiff=function(){var t,e,n,r,i,o,s,a,l,u,h;if(this.proposed.text!==this.current.text){t=this.current.text;o=this.proposed.text;s=0;a=0;i=Math.min(t.length,o.length);for(n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l){if(o[n]===t[n]){s=n+1}else{break}}for(n=u=0,h=i-s;0<=h?u<h:u>h;n=0<=h?++u:--u){if(o[o.length-1-n]===t[t.length-1-n]){a=n+1}else{break}}r={start:s,end:o.length-a};e={start:s,end:t.length-a};r.text=o.substring(r.start,r.end);e.text=t.substring(e.start,e.end);this.inserted=r;this.deleted=e}else{this.inserted={start:this.proposed.selectedRange.start,end:this.proposed.selectedRange.start+this.proposed.selectedRange.length,text:""};this.deleted={start:this.current.selectedRange.start,end:this.current.selectedRange.start+this.current.selectedRange.length,text:""}}return null};return t}();t.exports=i}).call(this)},"undo_manager.js":function(t,e,n){(function(){var e,n,r=[].slice;n=function(t,e){var n,r,i;if(t!=null?(n=t.constructor)!=null?n.prototype:void 0:void 0){if((r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e))!=null?r.get:void 0){return true
}}return((i=Object.getOwnPropertyDescriptor(t,e))!=null?i.get:void 0)!=null};e=function(){t.prototype._undos=null;t.prototype._redos=null;t.prototype._isUndoing=false;t.prototype._isRedoing=false;function t(){this._undos=[];this._redos=[]}t.prototype.canUndo=function(){return this._undos.length!==0};t.prototype.canRedo=function(){return this._redos.length!==0};t.prototype.isUndoing=function(){return this._isUndoing};t.prototype.isRedoing=function(){return this._isRedoing};t.prototype.registerUndo=function(){var t,e,n;n=arguments[0],e=arguments[1],t=3<=arguments.length?r.call(arguments,2):[];if(this._isUndoing){this._appendRedo.apply(this,[n,e].concat(r.call(t)))}else{if(!this._isRedoing){this._redos.length=0}this._appendUndo.apply(this,[n,e].concat(r.call(t)))}return null};t.prototype._appendUndo=function(){var t,e,n;n=arguments[0],e=arguments[1],t=3<=arguments.length?r.call(arguments,2):[];return this._undos.push({target:n,selector:e,args:t})};t.prototype._appendRedo=function(){var t,e,n;n=arguments[0],e=arguments[1],t=3<=arguments.length?r.call(arguments,2):[];return this._redos.push({target:n,selector:e,args:t})};t.prototype.undo=function(){var t,e,n,r;if(!this.canUndo()){throw new Error("there are no registered undos")}r=this._undos.pop(),n=r.target,e=r.selector,t=r.args;this._isUndoing=true;n[e].apply(n,t);this._isUndoing=false;return null};t.prototype.redo=function(){var t,e,n,r;if(!this.canRedo()){throw new Error("there are no registered redos")}r=this._redos.pop(),n=r.target,e=r.selector,t=r.args;this._isRedoing=true;n[e].apply(n,t);this._isRedoing=false;return null};t.prototype.proxyFor=function(t){var e,i,o,s=this;e={};o=function(n){return e[n]=function(){var e;e=1<=arguments.length?r.call(arguments,0):[];return s.registerUndo.apply(s,[t,n].concat(r.call(e)))}};for(i in t){if(n(t,i)){continue}if(typeof t[i]!=="function"){continue}o(i)}return e};return t}();t.exports=e}).call(this)},"us_phone_formatter.js":function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty,s=function(t,e){for(var n in e){if(o.call(e,n))t[n]=e[n]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t},a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1};e=n("./delimited_text_formatter");r={0:"(",4:")",5:" ",9:"-"};i=function(t){s(e,t);e.prototype.maximumLength=10+4;function e(){if(arguments.length!==0){throw new Error("were you trying to set a delimiter ("+arguments[0]+")?")}}e.prototype.isDelimiter=function(t){var e,n;return a.call(function(){var t;t=[];for(n in r){e=r[n];t.push(e)}return t}(),t)>=0};e.prototype.delimiterAt=function(t){return r[t]};e.prototype.hasDelimiterAtIndex=function(t){return this.delimiterAt(t)!=null};e.prototype.isChangeValid=function(t,n){if(/^\d*$/.test(t.inserted.text)){return e.__super__.isChangeValid.call(this,t,n)}else{return false}};return e}(e);t.exports=i}).call(this)}};FieldKit=t("index.js")})();