(function(){var m;function G(b){if(null===b||void 0===b)return null;b=b.toString();var a=parseInt(b.slice(0,2),10),d=parseInt(b.slice(0,6),10),g=parseInt(b.slice(0,3),10);if("4"===b[0])return Q;if("6011"===b.slice(0,4)||65===a||664<=g&&649>=g||622126<=d&&622925>=d)return R;if("2131"===b.slice(0,4)||"1800"===b.slice(0,4)||35===a)return ia;if(51<=a&&55>=a)return S;if(34===a||37===a)return H}function ja(b){for(var a=0,d=!0,g=b.length-1;0<=g;g--)var c=parseInt(b.charAt(g),10),a=a+((d=!d)?Math.floor(2*
c/10)+Math.floor(2*c%10):c);return 0===a%10}function ka(b){switch(G(b)){case Q:return 13===b.length||16===b.length;case R:case S:return 16===b.length;case ia:return 15===b.length||16===b.length;case H:return 15===b.length;default:return!1}}function la(b,a){for(var d=""+a;d.length<b;)d="0"+d;return d}function x(b,a){if(b&&"function"===typeof b.forEach)b.forEach(a);else if("[object Array]"==={}.toString.call(b))for(var d=0,g=b.length;d<g;d++)a.call(null,b[d],d,b);else for(d in b)ma.call(b,d)&&a.call(null,
b[d],d,b)}function Da(b){var a;if(null===b||void 0===b)return[];var d=na(b);for(b=b.constructor&&b.constructor.prototype;b;)(a=d).push.apply(a,Ea.call(na(b))),b=Fa(b);return d}function Ga(b){var a="OSX"===b,d=a?q:C;T[b]||(T[b]=Ha(function(g){g(Ia,d,"selectAll");g(y,null,"moveLeft");g(y,r,"moveWordLeft");g(y,l,"moveLeftAndModifySelection");g(y,r|l,"moveWordLeftAndModifySelection");g(z,null,"moveRight");g(z,r,"moveWordRight");g(z,l,"moveRightAndModifySelection");g(z,r|l,"moveWordRightAndModifySelection");
g(A,null,"moveUp");g(A,r,"moveToBeginningOfParagraph");g(A,l,"moveUpAndModifySelection");g(A,r|l,"moveParagraphBackwardAndModifySelection");g(B,null,"moveDown");g(B,r,"moveToEndOfParagraph");g(B,l,"moveDownAndModifySelection");g(B,r|l,"moveParagraphForwardAndModifySelection");g(u,null,"deleteBackward");g(u,l,"deleteBackward");g(u,r,"deleteWordBackward");g(u,r|l,"deleteWordBackward");g(u,d,"deleteBackwardToBeginningOfLine");g(u,d|l,"deleteBackwardToBeginningOfLine");g(oa,null,"deleteForward");g(oa,
r,"deleteWordForward");g(U,null,"insertTab");g(U,l,"insertBackTab");g(pa,null,"insertNewline");g(qa,d,"undo");a?(g(y,q,"moveToBeginningOfLine"),g(y,q|l,"moveToBeginningOfLineAndModifySelection"),g(z,q,"moveToEndOfLine"),g(z,q|l,"moveToEndOfLineAndModifySelection"),g(A,q,"moveToBeginningOfDocument"),g(A,q|l,"moveToBeginningOfDocumentAndModifySelection"),g(B,q,"moveToEndOfDocument"),g(B,q|l,"moveToEndOfDocumentAndModifySelection"),g(u,C,"deleteBackwardByDecomposingPreviousCharacter"),g(u,C|l,"deleteBackwardByDecomposingPreviousCharacter"),
g(qa,q|l,"redo")):g(Ja,C,"redo")}));return T[b]}function Ha(b){var a=new Ka;b(function(){var d=[].slice.call(arguments,0);return a.bind.apply(a,La.call(d))});return a}function I(b){return b&&/^\w$/.test(b)}function Ma(b){var a=(new Date).getFullYear(),d=a-a%100,d=[d,d-100,d+100].sort(function(d,c){return Math.abs(a-(b+d))-Math.abs(a-(b+c))});return b+d[0]}function V(b){var a=b.length;if(0===a)return"1";var d=parseInt(b[a-1],10);return 9===d?V(b.slice(0,a-1))+"0":b.slice(0,a-1)+(d+1)}function J(b,
a){var d=b[0],g=b[1],c=b[2],f;if(0<a){for(f=c.slice(0,a);f.length<a;)f+="0";g+=f;c=c.slice(a)}else if(0>a){for(;g.length<-a;)g="0"+g;f=g.slice(g.length+a);c=f+c;g=g.slice(0,g.length-f.length)}return[d,g,c]}function Na(b,a,d){"number"===typeof b&&(b=""+b);if("string"!==typeof b)throw Error("expected a string or number, got: "+b);if(0===b.length)return b;if(null===a||void 0===a)a=0;void 0===d&&(d=n.HALF_EVEN);var g;a:{var c=b;switch(c){case "NaN":case "Infinity":case "-Infinity":g=null;break a}g=c.match(Oa);
if(!g)throw Error("cannot round malformed number: "+c);g=[void 0!==g[1],g[2],g[3]||""]}if(null===g)return b;0<a&&(g=J(g,a));var f,e;b=g[0];c=g[1];g=g[2];switch(d){case n.CEILING:case n.FLOOR:case n.UP:var h=!1;f=0;for(e=g.length;f<e;f++)if("0"!==g[f]){h=!0;break}!h||d!==n.UP&&b===(d===n.CEILING)||(c=V(c));break;case n.HALF_EVEN:case n.HALF_DOWN:case n.HALF_UP:h=!1;f=parseInt(g[0],10);if(5<f)h=!0;else if(5===f){d===n.HALF_UP&&(h=!0);if(!h)for(f=1,e=g.length;f<e;f++)if("0"!==g[f]){h=!0;break}h||d!==
n.HALF_EVEN||(h=0!==parseInt(c[c.length-1],10)%2)}h&&(c=V(c))}b=J([b,c,""],-a);a=b[0];d=b[1];b=b[2];if(0===d.length)d="0";else{for(c=0;c<d.length&&"0"===d[c];c++);c!==d.length&&(d=d.slice(c))}return(a?"-"+d:d)+(b.length?"."+b:"")}function Pa(b){var a=b.match(/^([a-z][a-z])(?:[-_]([a-z][a-z]))?$/i);if(a)return b=a[1]&&a[1].toLowerCase(),a=a[2]&&a[2].toLowerCase(),{lang:b,country:a}}function v(b,a){var d=[].slice.call(arguments,2);if(b){var g=b[a];return"function"===typeof g?g.apply(null,Qa.call(d)):
g}}var W=Object.defineProperty,K=function(){function b(){}W(b.prototype,"format",{value:function(a){if(void 0===a||null===a)a="";void 0!==this.maximumLength&&null!==this.maximumLength&&(a=a.substring(0,this.maximumLength));return a},enumerable:!1,writable:!0});W(b.prototype,"parse",{value:function(a){if(void 0===a||null===a)a="";void 0!==this.maximumLength&&null!==this.maximumLength&&(a=a.substring(0,this.maximumLength));return a},enumerable:!1,writable:!0});W(b.prototype,"isChangeValid",{value:function(a){var d=
a.proposed.selectedRange,g=a.proposed.text;if(void 0!==this.maximumLength&&null!==this.maximumLength&&g.length>this.maximumLength){var b=this.maximumLength-(g.length-a.inserted.text.length),f=a.current.text.substring(0,a.current.selectedRange.start);0<b&&(f+=a.inserted.text.substring(0,b));f+=a.current.text.substring(a.current.selectedRange.start+a.current.selectedRange.length);g=g.length-f.length;a.proposed.text=f;d.start-=g}return!0},enumerable:!1,writable:!0});return b}(),Ra=Array.prototype.slice,
Sa=Object.getPrototypeOf,w=Object.defineProperty,Ta=Object.create,D=function(b){function a(a,g){var b=void 0!==a?a:this.delimiter;if(null===b||void 0===b||1!==b.length)throw Error("delimiter must have just one character");this.delimiter=b;this.isLazy=void 0!==g?g:!1}a.__proto__=null!==b?b:Function.prototype;a.prototype=Ta(null!==b?b.prototype:null);w(a.prototype,"constructor",{value:a});w(a.prototype,"delimiterAt",{value:function(a){return this.hasDelimiterAtIndex(a)?this.delimiter:null},enumerable:!1,
writable:!0});w(a.prototype,"isDelimiter",{value:function(a){return a===this.delimiter},enumerable:!1,writable:!0});w(a.prototype,"format",{value:function(a){return this._textFromValue(a)},enumerable:!1,writable:!0});w(a.prototype,"_textFromValue",{value:function(a){if(!a)return"";for(var g="",b,f=this.maximumLength,e=0,h=a.length;e<h;e++){for(;b=this.delimiterAt(g.length);)g+=b;g+=a[e];if(!this.isLazy)for(;b=this.delimiterAt(g.length);)g+=b}return void 0!==f&&null!==f?g.slice(0,f):g},enumerable:!1,
writable:!0});w(a.prototype,"parse",{value:function(a){return this._valueFromText(a)},enumerable:!1,writable:!0});w(a.prototype,"_valueFromText",{value:function(a){if(!a)return"";for(var g="",b=0,f=a.length;b<f;b++)this.isDelimiter(a[b])||(g+=a[b]);return g},enumerable:!1,writable:!0});w(a.prototype,"isChangeValid",{value:function(d,b){if(!Sa(a.prototype).isChangeValid.call(this,d,b))return!1;var c=d.proposed.text,f=d.proposed.selectedRange,e=0!==f.length,h=f.start<d.current.selectedRange.start,k=
f.start>d.current.selectedRange.start,l=f.start+f.length<d.current.selectedRange.start+d.current.selectedRange.length,m=f.start+f.length>d.current.selectedRange.start+d.current.selectedRange.length,p=h&&this.hasDelimiterAtIndex(f.start)||k&&this.hasDelimiterAtIndex(f.start-1),r=l&&this.hasDelimiterAtIndex(f.start+f.length)||m&&this.hasDelimiterAtIndex(f.start+f.length-1);if(this.isDelimiter(d.deleted.text)){for(var n=d.deleted.start-1;this.isDelimiter(c.charAt(n));)c=c.substring(0,n)+c.substring(n+
1),n--;c=c.substring(0,n)+c.substring(n+1)}if(h&&p){for(;this.delimiterAt(f.start-1);)f.start--,f.length++;f.start--;f.length++}if(k){for(p=d.current.selectedRange.start;p<f.start+f.length;p++)this.delimiterAt(p)&&(f.start++,0<f.length&&f.length--);for(;this.delimiterAt(f.start);)f.start++,f.length--}if(e){if(r){if(l){for(;this.delimiterAt(f.start+f.length-1);)f.length--;f.length--}if(m){for(;this.delimiterAt(f.start+f.length);)f.length++;f.length++}}for(;this.hasDelimiterAtIndex(f.start+f.length-
1);)h||l?f.length--:f.length++;for(;this.hasDelimiterAtIndex(f.start);)k||m?(f.start++,f.length--):(f.start--,f.length++)}else f.length=0;var q=!0,c=this._valueFromText(c,function(){var a=[].slice.call(arguments,0);q=!1;b.apply(null,Ra.call(a))});q&&(d.proposed.text=this._textFromValue(c));return q},enumerable:!1,writable:!0});return a}(K),H="amex",R="discover",ia="jcb",S="mastercard",Q="visa",X=Object.getPrototypeOf,E=Object.defineProperty,Ua=Object.create,Y=function(b){function a(){X(a.prototype).constructor.call(this,
" ")}a.__proto__=null!==b?b:Function.prototype;a.prototype=Ua(null!==b?b.prototype:null);E(a.prototype,"constructor",{value:a});E(a.prototype,"hasDelimiterAtIndex",{value:function(a){return 4===a||9===a||14===a},enumerable:!1,writable:!0});E(a.prototype,"parse",{value:function(d,b){var c=this._valueFromText(d);"function"===typeof b&&(ka(c)||b("card-formatter.number-too-short"),ja(c)||b("card-formatter.invalid-number"));return X(a.prototype).parse.call(this,d,b)},enumerable:!1,writable:!0});E(a.prototype,
"_valueFromText",{value:function(d){return X(a.prototype)._valueFromText.call(this,(d||"").replace(/[^\d]/g,""))},enumerable:!1,writable:!0});E(a.prototype,"maximumLength",{get:function(){return 19},enumerable:!0,configurable:!0});return a}(D),Z=Object.defineProperty,Va=Object.create,Wa=Object.getPrototypeOf,ra=function(b){function a(){var d=Wa(a.prototype);null!==d&&d.constructor.apply(this,arguments)}a.__proto__=null!==b?b:Function.prototype;a.prototype=Va(null!==b?b.prototype:null);Z(a.prototype,
"constructor",{value:a});Z(a.prototype,"hasDelimiterAtIndex",{value:function(a){return 4===a||11===a},enumerable:!1,writable:!0});Z(a.prototype,"maximumLength",{get:function(){return 17},enumerable:!0,configurable:!0});return a}(Y),L=Object.defineProperty,sa=function(){function b(){this.amexCardFormatter=new ra;this.formatter=this.defaultCardFormatter=new Y}L(b.prototype,"format",{value:function(a){return this._formatterForPan(a).format(a)},enumerable:!1,writable:!0});L(b.prototype,"parse",{value:function(a,
d){return this.formatter.parse(a,d)},enumerable:!1,writable:!0});L(b.prototype,"isChangeValid",{value:function(a,d){this.formatter=this._formatterForPan(a.proposed.text);return this.formatter.isChangeValid(a,d)},enumerable:!1,writable:!0});L(b.prototype,"_formatterForPan",{value:function(a){return G(a.replace(/[^\d]+/g,""))===H?this.amexCardFormatter:this.defaultCardFormatter},enumerable:!1,writable:!0});return b}(),Ea=Array.prototype.slice,ta=/^\d*$/,Xa=/(^\s+|\s+$)/,M="function"===typeof"".trim?
function(b){return b.trim()}:function(b){return b.replace(Xa,"")};Function.prototype.bind||(Function.prototype.bind=function(b){var a=[].slice.call(arguments,1),d=this;return function(){var g=[].slice.call(arguments,0);return d.apply(b,a.concat(g))}});var ma=Object.prototype.hasOwnProperty,na=function(){var b=Object.getOwnPropertyNames;try{Object.getOwnPropertyNames({},"sq")}catch(a){b=function(a){var b=[],c;for(c in a)ma.call(a,c)&&b.push(c);return b}}return b}(),Fa=Object.getPrototypeOf||function(b){return b.__proto__},
$=Array.prototype.slice,s=Object.defineProperty,ua=function(){function b(){this._undos=[];this._redos=[];this._isRedoing=this._isUndoing=!1}s(b.prototype,"canUndo",{value:function(){return 0!==this._undos.length},enumerable:!1,writable:!0});s(b.prototype,"canRedo",{value:function(){return 0!==this._redos.length},enumerable:!1,writable:!0});s(b.prototype,"isUndoing",{value:function(){return this._isUndoing},enumerable:!1,writable:!0});s(b.prototype,"isRedoing",{value:function(){return this._isRedoing},
enumerable:!1,writable:!0});s(b.prototype,"registerUndo",{value:function(a,d){var b=[].slice.call(arguments,2);this._isUndoing?this._appendRedo.apply(this,[a,d].concat($.call(b))):(this._isRedoing||(this._redos.length=0),this._appendUndo.apply(this,[a,d].concat($.call(b))))},enumerable:!1,writable:!0});s(b.prototype,"_appendUndo",{value:function(a,d){var b=[].slice.call(arguments,2);this._undos.push({target:a,selector:d,args:b})},enumerable:!1,writable:!0});s(b.prototype,"_appendRedo",{value:function(a,
d){var b=[].slice.call(arguments,2);this._redos.push({target:a,selector:d,args:b})},enumerable:!1,writable:!0});s(b.prototype,"undo",{value:function(){if(!this.canUndo())throw Error("there are no registered undos");var a=this._undos.pop(),d=a.target,b=a.selector,a=a.args;this._isUndoing=!0;d[b].apply(d,a);this._isUndoing=!1},enumerable:!1,writable:!0});s(b.prototype,"redo",{value:function(){if(!this.canRedo())throw Error("there are no registered redos");var a=this._redos.pop(),d=a.target,b=a.selector,
a=a.args;this._isRedoing=!0;d[b].apply(d,a);this._isRedoing=!1},enumerable:!1,writable:!0});s(b.prototype,"proxyFor",{value:function(a){function d(d){return function(){var b,g=[].slice.call(arguments,0);(b=c).registerUndo.apply(b,[a,d].concat($.call(g)))}}var b={},c=this;Da(a).forEach(function(c){var e;a:{e=a;try{Object.getOwnPropertyDescriptor({},"sq")}catch(h){e=!1;break a}var k;e&&(e.constructor&&e.constructor.prototype)&&(k=Object.getOwnPropertyDescriptor(e.constructor.prototype,c));k||(k=Object.getOwnPropertyDescriptor(e,
c));e=k&&k.get?!0:!1}e||"function"===typeof a[c]&&(b[c]=d(c))});return b},enumerable:!1,writable:!0});return b}(),La=Array.prototype.slice,va=Object.defineProperty,Ia=65,Ja=89,qa=90,y=37,z=39,A=38,B=40,u=8,oa=46,U=9,pa=13,Ya=u,wa=U,Za=pa,C=1,q=2,r=4,l=8,T={},Ka=function(){function b(){this.bindings={}}va(b.prototype,"bind",{value:function(a,d,b){this.bindings[a]||(this.bindings[a]={});this.bindings[a][d||0]=b},enumerable:!1,writable:!0});va(b.prototype,"actionForEvent",{value:function(a){var d=this.bindings[a.keyCode];
if(d){var b=0;a.altKey&&(b|=r);a.ctrlKey&&(b|=C);a.metaKey&&(b|=q);a.shiftKey&&(b|=l);return d[b]}},enumerable:!1,writable:!0});return b}(),aa=Caret,e=Object.defineProperty;m=null;var ba=function(){function b(a,d){"function"===typeof a.get&&(console.warn("DEPRECATION: FieldKit.TextField instances should no longer be created with a jQuery-wrapped element."),a=a.get(0));this.element=a;this._formatter=d;this._enabled=!0;this._manualCaret={start:0,end:0};this._unfocusedPlaceholder=this._focusedPlaceholder=
this._disabledPlaceholder=this._placeholder=null;this._isDirty=!1;this._valueOnFocus="";this._blur=this._blur.bind(this);this._focus=this._focus.bind(this);this._click=this._click.bind(this);this._paste=this._paste.bind(this);this._keyUp=this._keyUp.bind(this);this._keyPress=this._keyPress.bind(this);this._keyDown=this._keyDown.bind(this);if(a["field-kit-text-field"])throw Error("already attached a TextField to this element");a["field-kit-text-field"]=this;a.addEventListener("keydown",this._keyDown);
a.addEventListener("keypress",this._keyPress);a.addEventListener("keyup",this._keyUp);a.addEventListener("click",this._click);a.addEventListener("paste",this._paste);a.addEventListener("focus",this._focus);a.addEventListener("blur",this._blur);this._buildKeybindings();this._needsManualCaret=-1<a.ownerDocument.defaultView.navigator.userAgent.toLowerCase().indexOf("android");this.selectionAffinity=m}e(b.prototype,"textDidChange",{value:function(){},enumerable:!1,writable:!0});e(b.prototype,"textFieldDidEndEditing",
{value:function(){},enumerable:!1,writable:!0});e(b.prototype,"textFieldDidBeginEditing",{value:function(){},enumerable:!1,writable:!0});e(b.prototype,"_textDidChange",{value:function(){var a=this._delegate;this.textDidChange();a&&"function"===typeof a.textDidChange&&a.textDidChange(this);this._fireEvent("input")},enumerable:!1,writable:!0});e(b.prototype,"_textFieldDidEndEditing",{value:function(){var a=this._delegate;this.textFieldDidEndEditing();a&&"function"===typeof a.textFieldDidEndEditing&&
a.textFieldDidEndEditing(this);this._isDirty&&this._valueOnFocus!==this.element.value&&this._fireEvent("change");this._isDirty=!1;this._valueOnFocus=""},enumerable:!1,writable:!0});e(b.prototype,"_textFieldDidBeginEditing",{value:function(){var a=this._delegate;this.textFieldDidBeginEditing();a&&"function"===typeof a.textFieldDidBeginEditing&&a.textFieldDidBeginEditing(this)},enumerable:!1,writable:!0});e(b.prototype,"clearSelection",{value:function(){this.replaceSelection("")},enumerable:!1,writable:!0});
e(b.prototype,"delegate",{value:function(){return this._delegate},enumerable:!1,writable:!0});e(b.prototype,"setDelegate",{value:function(a){this._delegate=a},enumerable:!1,writable:!0});e(b.prototype,"deleteBackward",{value:function(a){a.preventDefault();a=this.selectedRange();0===a.length&&(a.start--,a.length++,this.setSelectedRange(a));this.clearSelection()},enumerable:!1,writable:!0});e(b.prototype,"deleteWordBackward",{value:function(a){if(this.hasSelection())this.deleteBackward(a);else{a.preventDefault();
a=this.selectedRange();var d=this._lastWordBreakBeforeIndex(a.start);a.length+=a.start-d;a.start=d;this.setSelectedRange(a);this.clearSelection()}},enumerable:!1,writable:!0});e(b.prototype,"deleteBackwardByDecomposingPreviousCharacter",{value:function(a){this.deleteBackward(a)},enumerable:!1,writable:!0});e(b.prototype,"deleteBackwardToBeginningOfLine",{value:function(a){this.hasSelection()?this.deleteBackward(a):(a.preventDefault(),a=this.selectedRange(),a.length=a.start,a.start=0,this.setSelectedRange(a),
this.clearSelection())},enumerable:!1,writable:!0});e(b.prototype,"deleteForward",{value:function(a){a.preventDefault();a=this.selectedRange();0===a.length&&(a.length++,this.setSelectedRange(a));this.clearSelection()},enumerable:!1,writable:!0});e(b.prototype,"deleteWordForward",{value:function(a){if(this.hasSelection())return this.deleteForward(a);a.preventDefault();a=this.selectedRange();var d=this._nextWordBreakAfterIndex(a.start+a.length);this.setSelectedRange({start:a.start,length:d-a.start});
this.clearSelection()},enumerable:!1,writable:!0});e(b.prototype,"destroy",{value:function(){var a=this.element;a.removeEventListener("keydown",this._keyDown);a.removeEventListener("keypress",this._keyPress);a.removeEventListener("keyup",this._keyUp);a.removeEventListener("click",this._click);a.removeEventListener("paste",this._paste);a.removeEventListener("focus",this._focus);a.removeEventListener("blur",this._blur);delete a["field-kit-text-field"]},enumerable:!1,writable:!0});e(b.prototype,"formatter",
{value:function(){if(!this._formatter){this._formatter=new K;var a=this.element.getAttribute("maxlength");void 0!==a&&null!==a&&(this._formatter.maximumLength=parseInt(a,10))}return this._formatter},enumerable:!1,writable:!0});e(b.prototype,"setFormatter",{value:function(a){var d=this.value();this._formatter=a;this.setValue(d)},enumerable:!1,writable:!0});e(b.prototype,"hasSelection",{value:function(){return 0!==this.selectedRange().length},enumerable:!1,writable:!0});e(b.prototype,"insertBackTab",
{value:function(){},enumerable:!1,writable:!0});e(b.prototype,"insertTab",{value:function(){},enumerable:!1,writable:!0});e(b.prototype,"insertText",{value:function(a){this.hasSelection()&&this.clearSelection();this.replaceSelection(a);a=this.selectedRange();a.start+=a.length;a.length=0;this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"insertNewline",{value:function(){this._textFieldDidEndEditing();this._didEndEditingButKeptFocus=!0},enumerable:!1,writable:!0});e(b.prototype,"inspect",
{value:function(){return'#<TextField text="'+this.text()+'">'},enumerable:!1,writable:!0});e(b.prototype,"moveUp",{value:function(a){a.preventDefault();this.setSelectedRange({start:0,length:0})},enumerable:!1,writable:!0});e(b.prototype,"moveToBeginningOfParagraph",{value:function(a){this.moveUp(a)},enumerable:!1,writable:!0});e(b.prototype,"moveUpAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 0:case m:a.length+=a.start;a.start=
0;break;case 1:a.length=a.start,a.start=0}this.setSelectedRangeWithAffinity(a,0)},enumerable:!1,writable:!0});e(b.prototype,"moveParagraphBackwardAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 0:case m:a.length+=a.start;a.start=0;break;case 1:a.length=0}this.setSelectedRangeWithAffinity(a,0)},enumerable:!1,writable:!0});e(b.prototype,"moveToBeginningOfDocument",{value:function(a){this.moveToBeginningOfLine(a)},enumerable:!1,writable:!0});
e(b.prototype,"moveToBeginningOfDocumentAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();a.length+=a.start;a.start=0;this.setSelectedRangeWithAffinity(a,0)},enumerable:!1,writable:!0});e(b.prototype,"moveDown",{value:function(a){a.preventDefault();a={start:this.text().length,length:0};this.setSelectedRangeWithAffinity(a,m)},enumerable:!1,writable:!0});e(b.prototype,"moveToEndOfParagraph",{value:function(a){this.moveDown(a)},enumerable:!1,writable:!0});e(b.prototype,
"moveDownAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();var d=this.text().length;0===this.selectionAffinity&&(a.start+=a.length);a.length=d-a.start;this.setSelectedRangeWithAffinity(a,1)},enumerable:!1,writable:!0});e(b.prototype,"moveParagraphForwardAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 1:case m:a.length=this.text().length-a.start;break;case 0:a.start+=a.length,a.length=0}this.setSelectedRangeWithAffinity(a,
1)},enumerable:!1,writable:!0});e(b.prototype,"moveToEndOfDocument",{value:function(a){this.moveToEndOfLine(a)},enumerable:!1,writable:!0});e(b.prototype,"moveToEndOfDocumentAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();a.length=this.text().length-a.start;this.setSelectedRangeWithAffinity(a,1)},enumerable:!1,writable:!0});e(b.prototype,"moveLeft",{value:function(a){a.preventDefault();a=this.selectedRange();0!==a.length?a.length=0:a.start--;this.setSelectedRangeWithAffinity(a,
m)},enumerable:!1,writable:!0});e(b.prototype,"moveLeftAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 0:case m:this.selectionAffinity=0;a.start--;a.length++;break;case 1:a.length--}this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"moveWordLeft",{value:function(a){a.preventDefault();a=this._lastWordBreakBeforeIndex(this.selectedRange().start-1);this.setSelectedRange({start:a,length:0})},enumerable:!1,writable:!0});
e(b.prototype,"moveWordLeftAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 0:case m:this.selectionAffinity=0;var d=this._lastWordBreakBeforeIndex(a.start-1);a.length+=a.start-d;a.start=d;break;case 1:d=this._lastWordBreakBeforeIndex(a.start+a.length),d<a.start&&(d=a.start),a.length-=a.start+a.length-d}this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"moveToBeginningOfLine",{value:function(a){a.preventDefault();
this.setSelectedRange({start:0,length:0})},enumerable:!1,writable:!0});e(b.prototype,"moveToBeginningOfLineAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();a.length+=a.start;a.start=0;this.setSelectedRangeWithAffinity(a,0)},enumerable:!1,writable:!0});e(b.prototype,"moveRight",{value:function(a){a.preventDefault();a=this.selectedRange();0!==a.length?(a.start+=a.length,a.length=0):a.start++;this.setSelectedRangeWithAffinity(a,m)},enumerable:!1,writable:!0});e(b.prototype,
"moveRightAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 0:a.start++;a.length--;break;case 1:case m:this.selectionAffinity=1,a.length++}this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"moveWordRight",{value:function(a){a.preventDefault();a=this.selectedRange();a=this._nextWordBreakAfterIndex(a.start+a.length);this.setSelectedRange({start:a,length:0})},enumerable:!1,writable:!0});e(b.prototype,"moveWordRightAndModifySelection",
{value:function(a){a.preventDefault();a=this.selectedRange();var d=a.start,b=a.start+a.length;switch(this.selectionAffinity){case 0:d=Math.min(this._nextWordBreakAfterIndex(d),b);break;case 1:case m:this.selectionAffinity=1,b=this._nextWordBreakAfterIndex(a.start+a.length)}this.setSelectedRange({start:d,length:b-d})},enumerable:!1,writable:!0});e(b.prototype,"moveToEndOfLine",{value:function(a){a.preventDefault();this.setSelectedRange({start:this.text().length,length:0})},enumerable:!1,writable:!0});
e(b.prototype,"moveToEndOfLineAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();a.length=this.text().length-a.start;this.setSelectedRangeWithAffinity(a,1)},enumerable:!1,writable:!0});e(b.prototype,"readSelectionFromPasteboard",{value:function(a){a=a.getData("Text");this.replaceSelection(a);a=this.selectedRange();a.start+=a.length;a.length=0;this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"replaceSelection",{value:function(a){var d=this.selectedRange(),
b=d.start+d.length,c=this.text(),c=c.substring(0,d.start)+a+c.substring(b);d.length=a.length;this.setText(c);this.setSelectedRangeWithAffinity(d,m)},enumerable:!1,writable:!0});e(b.prototype,"rightWordBreakIndexes",{value:function(){for(var a=[],d=this.text(),b=0,c=d.length;b<=c;b++){var f;f=d;var e=b;f=e===f.length?!0:I(f[e])&&!I(f[e+1]);f&&a.push(b+1)}return a},enumerable:!1,writable:!0});e(b.prototype,"rollbackInvalidChanges",{value:function(a){var d=null,b=null,c=xa.build(this,function(){d=a()}),
f=function(a){b=a};if(c.hasChanges()){var e=this.formatter();if(e&&"function"===typeof e.isChangeValid)if(this._isDirty||(this._valueOnFocus=c.current.text||"",this._isDirty=!0),e.isChangeValid(c,f))c.recomputeDiff(),this.setText(c.proposed.text),this.setSelectedRange(c.proposed.selectedRange);else return(f=this.delegate())&&"function"===typeof f.textFieldDidFailToValidateChange&&f.textFieldDidFailToValidateChange(this,c,b),this.setText(c.current.text),this.setSelectedRange(c.current.selectedRange),
d;if(c.inserted.text.length||c.deleted.text.length)this.undoManager().proxyFor(this)._applyChangeFromUndoManager(c),this._textDidChange()}return d},enumerable:!1,writable:!0});e(b.prototype,"selectAll",{value:function(a){a.preventDefault();this.setSelectedRangeWithAffinity({start:0,length:this.text().length},m)},enumerable:!1,writable:!0});e(b.prototype,"text",{value:function(){return this.element.value},enumerable:!1,writable:!0});e(b.prototype,"setText",{value:function(a){this.element.value=a},
enumerable:!1,writable:!0});e(b.prototype,"value",{value:function(){var a=this.text(),d=this.delegate(),b=this.formatter();return b?b.parse(a,function(b){d&&"function"===typeof d.textFieldDidFailToParseString&&d.textFieldDidFailToParseString(this,a,b)}.bind(this)):value},enumerable:!1,writable:!0});e(b.prototype,"setValue",{value:function(a){this._formatter&&(a=this._formatter.format(a));this.setText(""+a)},enumerable:!1,writable:!0});e(b.prototype,"selectedRange",{value:function(){var a=this._needsManualCaret?
this._manualCaret:aa.get(this.element);return{start:a.start,length:a.end-a.start}},enumerable:!1,writable:!0});e(b.prototype,"setSelectedRange",{value:function(a){this.setSelectedRangeWithAffinity(a,this.selectionAffinity)},enumerable:!1,writable:!0});e(b.prototype,"setSelectedRangeWithAffinity",{value:function(a,d){var b=this.text().length;this._manualCaret=b={start:Math.max(0,Math.min(b,a.start)),end:Math.max(0,Math.min(b,a.start+a.length))};aa.set(this.element,b.start,b.end);this.selectionAffinity=
0===a.length?m:d},enumerable:!1,writable:!0});e(b.prototype,"selectionAnchor",{value:function(){var a=this.selectedRange();switch(this.selectionAffinity){case 0:return a.start+a.length;case 1:return a.start;default:return m}},enumerable:!1,writable:!0});e(b.prototype,"allowsUndo",{value:function(){return this._allowsUndo},enumerable:!1,writable:!0});e(b.prototype,"setAllowsUndo",{value:function(a){this._allowsUndo=a},enumerable:!1,writable:!0});e(b.prototype,"redo",{value:function(a){this.undoManager().canRedo()&&
this.undoManager().redo();a.preventDefault()},enumerable:!1,writable:!0});e(b.prototype,"undo",{value:function(a){this.undoManager().canUndo()&&this.undoManager().undo();a.preventDefault()},enumerable:!1,writable:!0});e(b.prototype,"undoManager",{value:function(){return this._undoManager||(this._undoManager=new ua)},enumerable:!1,writable:!0});e(b.prototype,"becomeFirstResponder",{value:function(){this.element.focus();this.rollbackInvalidChanges(function(){this.element.select();this._syncPlaceholder()}.bind(this))},
enumerable:!1,writable:!0});e(b.prototype,"hasFocus",{value:function(){return this.element.ownerDocument.activeElement===this.element},enumerable:!1,writable:!0});e(b.prototype,"isEnabled",{value:function(){return this._enabled},enumerable:!1,writable:!0});e(b.prototype,"setEnabled",{value:function(a){this._enabled=a;this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"resignFirstResponder",{value:function(a){void 0!==a&&null!==a&&a.preventDefault();this.element.blur();this._syncPlaceholder()},
enumerable:!1,writable:!0});e(b.prototype,"disabledPlaceholder",{value:function(){return this._disabledPlaceholder},enumerable:!1,writable:!0});e(b.prototype,"setDisabledPlaceholder",{value:function(a){this._disabledPlaceholder=a;this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"focusedPlaceholder",{value:function(){return this._focusedPlaceholder},enumerable:!1,writable:!0});e(b.prototype,"setFocusedPlaceholder",{value:function(a){this._focusedPlaceholder=a;this._syncPlaceholder()},
enumerable:!1,writable:!0});e(b.prototype,"placeholder",{value:function(){return this._placeholder},enumerable:!1,writable:!0});e(b.prototype,"setPlaceholder",{value:function(a){this._placeholder=a;this.element.setAttribute("placeholder",this._placeholder)},enumerable:!1,writable:!0});e(b.prototype,"unfocusedPlaceholder",{value:function(){return this._unfocusedPlaceholder},enumerable:!1,writable:!0});e(b.prototype,"setUnfocusedPlaceholder",{value:function(a){this._unfocusedPlaceholder=a;this._syncPlaceholder()},
enumerable:!1,writable:!0});e(b.prototype,"_applyChangeFromUndoManager",{value:function(a){this.undoManager().proxyFor(this)._applyChangeFromUndoManager(a);this.undoManager().isUndoing()?(this.setText(a.current.text),this.setSelectedRange(a.current.selectedRange)):(this.setText(a.proposed.text),this.setSelectedRange(a.proposed.selectedRange));this._textDidChange()},enumerable:!1,writable:!0});e(b.prototype,"_buildKeybindings",{value:function(){var a=this.element.ownerDocument,a=/^Mozilla\/[\d\.]+ \(Macintosh/.test((a.defaultView||
a.parentWindow).navigator.userAgent);this._bindings=Ga(a?"OSX":"Default")},enumerable:!1,writable:!0});e(b.prototype,"_click",{value:function(){this._needsManualCaret&&(this._manualCaret=aa.get(this.element));this.selectionAffinity=m},enumerable:!1,writable:!0});e(b.prototype,"_fireEvent",{value:function(a){if("function"===typeof CustomEvent)this.element.dispatchEvent(new CustomEvent(a,{}));else{var d=document.createEvent("Event");d.initEvent(a,!1,!1);this.element.dispatchEvent(d)}},enumerable:!1,
writable:!0});e(b.prototype,"_focus",{value:function(){this._textFieldDidBeginEditing();this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"_blur",{value:function(){this._textFieldDidEndEditing();this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"_keyDown",{value:function(a){this._didEndEditingButKeptFocus&&(this._textFieldDidBeginEditing(),this._didEndEditingButKeptFocus=!1);var d=this._bindings.actionForEvent(a);if(d)switch(d){case "undo":case "redo":this[d](a);
break;default:this.rollbackInvalidChanges(function(){return this[d](a)}.bind(this))}},enumerable:!1,writable:!0});e(b.prototype,"_keyPress",{value:function(a){var d=a.keyCode;if(!a.metaKey&&(!a.ctrlKey&&d!==Za&&d!==wa&&d!==Ya)&&(a.preventDefault(),0!==a.charCode)){var b=a.charCode||a.keyCode;this.rollbackInvalidChanges(function(){return this.insertText(String.fromCharCode(b))}.bind(this))}},enumerable:!1,writable:!0});e(b.prototype,"_keyUp",{value:function(a){this.rollbackInvalidChanges(function(){a.keyCode===
wa&&this.selectAll(a)}.bind(this))},enumerable:!1,writable:!0});e(b.prototype,"_lastWordBreakBeforeIndex",{value:function(a){for(var d=this._leftWordBreakIndexes(),b=d[0],c=0,f=d.length;c<f;c++){var e=d[c];if(a>e)b=e;else break}return b},enumerable:!1,writable:!0});e(b.prototype,"_leftWordBreakIndexes",{value:function(){for(var a=[],d=this.text(),b=0,c=d.length;b<c;b++){var f;f=d;var e=b;f=0===e?!0:!I(f[e-1])&&I(f[e]);f&&a.push(b)}return a},enumerable:!1,writable:!0});e(b.prototype,"_nextWordBreakAfterIndex",
{value:function(a){for(var d=this.rightWordBreakIndexes().reverse(),b=d[0],c=0,f=d.length;c<f;c++){var e=d[c];if(a<e)b=e;else break}return b},enumerable:!1,writable:!0});e(b.prototype,"_paste",{value:function(a){a.preventDefault();this.rollbackInvalidChanges(function(){this.readSelectionFromPasteboard(a.clipboardData)}.bind(this))},enumerable:!1,writable:!0});e(b.prototype,"_syncPlaceholder",{value:function(){var a=this._enabled?this.hasFocus()?this._focusedPlaceholder:this._unfocusedPlaceholder:
this._disabledPlaceholder;void 0!==a&&null!==a&&this.setPlaceholder(a)},enumerable:!1,writable:!0});return b}(),xa=function(){function b(a){this.field=a}e(b.prototype,"hasChanges",{value:function(){this.recomputeDiff();return this.current.text!==this.proposed.text||this.current.selectedRange.start!==this.proposed.selectedRange.start||this.current.selectedRange.length!==this.proposed.selectedRange.length},enumerable:!1,writable:!0});e(b.prototype,"recomputeDiff",{value:function(){if(this.proposed.text!==
this.current.text){var a=this.current.text,d=this.proposed.text,b=0,c=0,f=Math.min(a.length,d.length),e;for(e=0;e<f;e++)if(d[e]===a[e])b=e+1;else break;for(e=0;e<f-b;e++)if(d[d.length-1-e]===a[a.length-1-e])c=e+1;else break;f={start:b,end:d.length-c};b={start:b,end:a.length-c};f.text=d.substring(f.start,f.end);b.text=a.substring(b.start,b.end);this.inserted=f;this.deleted=b}else this.inserted={start:this.proposed.selectedRange.start,end:this.proposed.selectedRange.start+this.proposed.selectedRange.length,
text:""},this.deleted={start:this.current.selectedRange.start,end:this.current.selectedRange.start+this.current.selectedRange.length,text:""}},enumerable:!1,writable:!0});return b}();xa.build=function(b,a){var d=new this(b);d.current={text:b.text(),selectedRange:b.selectedRange()};a();d.proposed={text:b.text(),selectedRange:b.selectedRange()};d.recomputeDiff();return d};var ca=Object.getPrototypeOf,p=Object.defineProperty,$a=Object.create,da={None:"None",DoneEditing:"DoneEditing"},ab=function(b){function a(d){ca(a.prototype).constructor.call(this,
d,new sa);this.setCardMaskStrategy(da.None);this._editing=this._masked=!1}a.__proto__=null!==b?b:Function.prototype;a.prototype=$a(null!==b?b.prototype:null);p(a.prototype,"constructor",{value:a});p(a.prototype,"cardType",{value:function(){return G(this.value())},enumerable:!1,writable:!0});p(a.prototype,"cardMaskStrategy",{value:function(){return this._cardMaskStrategy},enumerable:!1,writable:!0});p(a.prototype,"setCardMaskStrategy",{value:function(a){a!==this._cardMaskStrategy&&(this._cardMaskStrategy=
a,this._syncMask())},enumerable:!1,writable:!0});p(a.prototype,"cardMask",{value:function(){var a=this.text(),b=a.slice(0,-4),a=a.slice(-4);return b.replace(/\d/g,"\u2022")+a},enumerable:!1,writable:!0});p(a.prototype,"text",{value:function(){return this._masked?this._unmaskedText:ca(a.prototype).text.call(this)},enumerable:!1,writable:!0});p(a.prototype,"setText",{value:function(d){this._masked&&(this._unmaskedText=d,d=this.cardMask());ca(a.prototype).setText.call(this,d)},enumerable:!1,writable:!0});
p(a.prototype,"textFieldDidEndEditing",{value:function(){this._editing=!1;this._syncMask()},enumerable:!1,writable:!0});p(a.prototype,"textFieldDidBeginEditing",{value:function(){this._editing=!0;this._syncMask()},enumerable:!1,writable:!0});p(a.prototype,"_enableMasking",{value:function(){this._masked||(this._unmaskedText=this.text(),this._masked=!0,this.setText(this._unmaskedText))},enumerable:!1,writable:!0});p(a.prototype,"_disableMasking",{value:function(){this._masked&&(this._masked=!1,this.setText(this._unmaskedText),
this._unmaskedText=null)},enumerable:!1,writable:!0});p(a.prototype,"_syncMask",{value:function(){this.cardMaskStrategy()===da.DoneEditing&&(this._editing?this._disableMasking():this._enableMasking())},enumerable:!1,writable:!0});p(a,"CardMaskStrategy",{get:function(){return da},enumerable:!0,configurable:!0});return a}(ba),ya=Object.getPrototypeOf,F=Object.defineProperty,bb=Object.create,za=function(b){function a(){ya(a.prototype).constructor.call(this,"/");this.maximumLength=5}a.__proto__=null!==
b?b:Function.prototype;a.prototype=bb(null!==b?b.prototype:null);F(a.prototype,"constructor",{value:a});F(a.prototype,"hasDelimiterAtIndex",{value:function(a){return 2===a},enumerable:!1,writable:!0});F(a.prototype,"format",{value:function(d){if(!d)return"";var b=d.month;d=d.year;d%=100;return ya(a.prototype).format.call(this,la(2,b)+la(2,d))},enumerable:!1,writable:!0});F(a.prototype,"parse",{value:function(a,b){var c=a.split(this.delimiter),f=c[0],c=c[1];if(f&&f.match(/^(0?[1-9]|1\d)$/)&&c&&c.match(/^\d\d?$/))return f=
Number(f),c=Ma(Number(c)),{month:f,year:c};"function"===typeof b&&b("expiry-date-formatter.invalid-date");return null},enumerable:!1,writable:!0});F(a.prototype,"isChangeValid",{value:function(a,b){b||(b=function(){});var c=a.proposed.text;if(a.proposed.text.length<a.current.text.length)a.deleted.text===this.delimiter&&(c=c[0]),"0"===c&&(c="");else if(a.inserted.text===this.delimiter&&"1"===a.current.text)c="01"+this.delimiter;else{if(0<a.inserted.text.length&&!/^\d$/.test(a.inserted.text))return b("expiry-date-formatter.only-digits-allowed"),
!1;/^[2-9]$/.test(c)&&(c="0"+c);if(/^1[3-9]$/.test(c)||"00"===c)return b("expiry-date-formatter.invalid-month"),!1;/^(0[1-9]|1[0-2])$/.test(c)&&(c+=this.delimiter);var f=c.match(/^(\d\d)(.)(\d\d?).*$/);f&&f[2]===this.delimiter&&(c=f[1]+this.delimiter+f[3])}a.proposed.text=c;a.proposed.selectedRange={start:c.length,length:0};return!0},enumerable:!1,writable:!0});return a}(D),cb=Object.getPrototypeOf,Aa=Object.defineProperty,db=Object.create,eb=function(b){function a(b){cb(a.prototype).constructor.call(this,
b,new za)}a.__proto__=null!==b?b:Function.prototype;a.prototype=db(null!==b?b.prototype:null);Aa(a.prototype,"constructor",{value:a});Aa(a.prototype,"textFieldDidEndEditing",{value:function(){var a=this.value();a&&this.setText(this.formatter().format(a))},enumerable:!1,writable:!0});return a}(ba),n={CEILING:0,FLOOR:1,DOWN:2,UP:3,HALF_EVEN:4,HALF_DOWN:5,HALF_UP:6},Oa=/^(-)?(\d*)(?:\.(\d*))?$/,Qa=Array.prototype.slice,fb=Object.getPrototypeOf,h=Object.defineProperty,gb=Object.create,ea=0,k=function(b){function a(){fb(a.prototype).constructor.call(this);
this._locale="en";this.setNumberStyle(ea)}a.__proto__=null!==b?b:Function.prototype;a.prototype=gb(null!==b?b.prototype:null);h(a.prototype,"constructor",{value:a});h(a.prototype,"allowsFloats",{value:function(){return this._get("allowsFloats")},enumerable:!1,writable:!0});h(a.prototype,"setAllowsFloats",{value:function(a){this._allowsFloats=a;return this},enumerable:!1,writable:!0});h(a.prototype,"alwaysShowsDecimalSeparator",{value:function(){return this._get("alwaysShowsDecimalSeparator")},enumerable:!1,
writable:!0});h(a.prototype,"setAlwaysShowsDecimalSeparator",{value:function(a){this._alwaysShowsDecimalSeparator=a;return this},enumerable:!1,writable:!0});h(a.prototype,"countryCode",{value:function(){return this._countryCode||"US"},enumerable:!1,writable:!0});h(a.prototype,"setCountryCode",{value:function(a){this._countryCode=a;return this},enumerable:!1,writable:!0});h(a.prototype,"currencyCode",{value:function(){return this._get("currencyCode")},enumerable:!1,writable:!0});h(a.prototype,"setCurrencyCode",
{value:function(a){this._currencyCode=a;return this},enumerable:!1,writable:!0});h(a.prototype,"currencySymbol",{value:function(){return this._shouldShowNativeCurrencySymbol()?this._get("currencySymbol"):this._get("internationalCurrencySymbol")},enumerable:!1,writable:!0});h(a.prototype,"setCurrencySymbol",{value:function(a){this._currencySymbol=a;return this},enumerable:!1,writable:!0});h(a.prototype,"_shouldShowNativeCurrencySymbol",{value:function(){var a=this._regionDefaults().currencyCode;"function"===
typeof a&&(a=a());return this.currencyCode()===a},enumerable:!1,writable:!0});h(a.prototype,"decimalSeparator",{value:function(){return this._get("decimalSeparator")},enumerable:!1,writable:!0});h(a.prototype,"setDecimalSeparator",{value:function(a){this._decimalSeparator=a;return this},enumerable:!1,writable:!0});h(a.prototype,"groupingSeparator",{value:function(){return this._get("groupingSeparator")},enumerable:!1,writable:!0});h(a.prototype,"setGroupingSeparator",{value:function(a){this._groupingSeparator=
a;return this},enumerable:!1,writable:!0});h(a.prototype,"groupingSize",{value:function(){return this._get("groupingSize")},enumerable:!1,writable:!0});h(a.prototype,"setGroupingSize",{value:function(a){this._groupingSize=a;return this},enumerable:!1,writable:!0});h(a.prototype,"internationalCurrencySymbol",{value:function(){return this._get("internationalCurrencySymbol")},enumerable:!1,writable:!0});h(a.prototype,"setInternationalCurrencySymbol",{value:function(a){this._internationalCurrencySymbol=
a;return this},enumerable:!1,writable:!0});h(a.prototype,"isLenient",{value:function(){return this._lenient},enumerable:!1,writable:!0});h(a.prototype,"setLenient",{value:function(a){this._lenient=a;return this},enumerable:!1,writable:!0});h(a.prototype,"locale",{value:function(){return this._locale||"en-US"},enumerable:!1,writable:!0});h(a.prototype,"setLocale",{value:function(a){this._locale=a;return this},enumerable:!1,writable:!0});h(a.prototype,"maximum",{value:function(){return this._maximum},
enumerable:!1,writable:!0});h(a.prototype,"setMaximum",{value:function(a){this._maximum=a;return this},enumerable:!1,writable:!0});h(a.prototype,"minimum",{value:function(){return this._minimum},enumerable:!1,writable:!0});h(a.prototype,"setMinimum",{value:function(a){this._minimum=a;return this},enumerable:!1,writable:!0});h(a.prototype,"maximumFractionDigits",{value:function(){var a=this._get("maximumFractionDigits"),b=this._minimumFractionDigits;null!==a&&(void 0!==a&&null!==b&&void 0!==b&&b>a)&&
(a=b);return a},enumerable:!1,writable:!0});h(a.prototype,"setMaximumFractionDigits",{value:function(a){this._maximumFractionDigits=a;return this},enumerable:!1,writable:!0});h(a.prototype,"minimumFractionDigits",{value:function(){var a=this._get("minimumFractionDigits"),b=this._maximumFractionDigits;null!==a&&(void 0!==a&&null!==b&&void 0!==b&&b<a)&&(a=b);return a},enumerable:!1,writable:!0});h(a.prototype,"setMinimumFractionDigits",{value:function(a){this._minimumFractionDigits=a;return this},enumerable:!1,
writable:!0});h(a.prototype,"maximumIntegerDigits",{value:function(){var a=this._get("maximumIntegerDigits"),b=this._minimumIntegerDigits;null!==a&&(void 0!==a&&null!==b&&void 0!==b&&b>a)&&(a=b);return a},enumerable:!1,writable:!0});h(a.prototype,"setMaximumIntegerDigits",{value:function(a){this._maximumIntegerDigits=a;return this},enumerable:!1,writable:!0});h(a.prototype,"minimumIntegerDigits",{value:function(){var a=this._get("minimumIntegerDigits"),b=this._maximumIntegerDigits;null!==a&&(void 0!==
a&&null!==b&&void 0!==b&&b<a)&&(a=b);return a},enumerable:!1,writable:!0});h(a.prototype,"setMinimumIntegerDigits",{value:function(a){this._minimumIntegerDigits=a;return this},enumerable:!1,writable:!0});h(a.prototype,"exponent",{value:function(){return this._get("exponent")},enumerable:!1,writable:!0});h(a.prototype,"setExponent",{value:function(a){this._exponent=a;return this},enumerable:!1,writable:!0});h(a.prototype,"negativeInfinitySymbol",{value:function(){return this._get("negativeInfinitySymbol")},
enumerable:!1,writable:!0});h(a.prototype,"setNegativeInfinitySymbol",{value:function(a){this._negativeInfinitySymbol=a;return this},enumerable:!1,writable:!0});h(a.prototype,"negativePrefix",{value:function(){return this._get("negativePrefix")},enumerable:!1,writable:!0});h(a.prototype,"setNegativePrefix",{value:function(a){this._negativePrefix=a;return this},enumerable:!1,writable:!0});h(a.prototype,"negativeSuffix",{value:function(){return this._get("negativeSuffix")},enumerable:!1,writable:!0});
h(a.prototype,"setNegativeSuffix",{value:function(a){this._negativeSuffix=a;return this},enumerable:!1,writable:!0});h(a.prototype,"notANumberSymbol",{value:function(){return this._get("notANumberSymbol")},enumerable:!1,writable:!0});h(a.prototype,"setNotANumberSymbol",{value:function(a){this._notANumberSymbol=a;return this},enumerable:!1,writable:!0});h(a.prototype,"nullSymbol",{value:function(){return this._get("nullSymbol")},enumerable:!1,writable:!0});h(a.prototype,"setNullSymbol",{value:function(a){this._nullSymbol=
a;return this},enumerable:!1,writable:!0});h(a.prototype,"numberStyle",{value:function(){return this._numberStyle},enumerable:!1,writable:!0});h(a.prototype,"setNumberStyle",{value:function(a){this._numberStyle=a;switch(this._numberStyle){case ea:this._styleDefaults=fa.NONE;break;case 2:this._styleDefaults=fa.PERCENT;break;case 1:this._styleDefaults=fa.CURRENCY;break;default:this._styleDefaults=null}return this},enumerable:!1,writable:!0});h(a.prototype,"percentSymbol",{value:function(){return this._get("percentSymbol")},
enumerable:!1,writable:!0});h(a.prototype,"setPercentSymbol",{value:function(a){this._percentSymbol=a;return this},enumerable:!1,writable:!0});h(a.prototype,"positiveInfinitySymbol",{value:function(){return this._get("positiveInfinitySymbol")},enumerable:!1,writable:!0});h(a.prototype,"setPositiveInfinitySymbol",{value:function(a){this._positiveInfinitySymbol=a;return this},enumerable:!1,writable:!0});h(a.prototype,"positivePrefix",{value:function(){return this._get("positivePrefix")},enumerable:!1,
writable:!0});h(a.prototype,"setPositivePrefix",{value:function(a){this._positivePrefix=a;return this},enumerable:!1,writable:!0});h(a.prototype,"positiveSuffix",{value:function(){return this._get("positiveSuffix")},enumerable:!1,writable:!0});h(a.prototype,"setPositiveSuffix",{value:function(a){this._positiveSuffix=a;return this},enumerable:!1,writable:!0});h(a.prototype,"roundingMode",{value:function(){return this._get("roundingMode")},enumerable:!1,writable:!0});h(a.prototype,"setRoundingMode",
{value:function(a){this._roundingMode=a;return this},enumerable:!1,writable:!0});h(a.prototype,"usesGroupingSeparator",{value:function(){return this._get("usesGroupingSeparator")},enumerable:!1,writable:!0});h(a.prototype,"setUsesGroupingSeparator",{value:function(a){this._usesGroupingSeparator=a;return this},enumerable:!1,writable:!0});h(a.prototype,"zeroSymbol",{value:function(){return this._get("zeroSymbol")},enumerable:!1,writable:!0});h(a.prototype,"setZeroSymbol",{value:function(a){this._zeroSymbol=
a;return this},enumerable:!1,writable:!0});h(a.prototype,"_get",{value:function(a){var b=this["_"+a];if(null!==b&&void 0!==b)return b;var c=this._styleDefaults,f=this._localeDefaults(),e=this._regionDefaults(),b=v(c,a,this,f);if(null!==b&&void 0!==b)return b;b=v(f,a,this,c);if(null!==b&&void 0!==b)return b;b=v(e,a,this,c);if(null!==b&&void 0!==b)return b;b=v(this._currencyDefaults(),a,this,f);return null!==b&&void 0!==b?b:null},enumerable:!1,writable:!0});h(a.prototype,"format",{value:function(a){if(""===
a)return"";var b=this.zeroSymbol();if(void 0!==b&&null!==b&&0===a)return b;b=this.nullSymbol();if(void 0!==b&&null!==b&&null===a)return b;b=this.notANumberSymbol();if(void 0!==b&&null!==b&&isNaN(a))return b;b=this.positiveInfinitySymbol();if(void 0!==b&&null!==b&&Infinity===a)return b;b=this.negativeInfinitySymbol();if(void 0!==b&&null!==b&&-Infinity===a)return b;var b=0>a,c=(""+Math.abs(a)).split(".");a=c[0];var c=c[1]||"",f=this.exponent();if(void 0!==f&&null!==f)for(c=J([b,a,c],f),b=c[0],a=c[1],
c=c[2];"0"===a[0];)a=a.slice(1);f=this.maximumFractionDigits();c.length>f&&(a=""+a+"."+c+"",a=this._round(b?"-"+a+"":a),"-"===a[0]&&(a=a.slice(1)),c=a.split("."),a=c[0],c=c[1]||"");for(f=this.minimumFractionDigits();c.length<f;)c+="0";for(var e=this.minimumIntegerDigits();a.length<e;)a="0"+a;for(;c.length>f&&"0"===c.slice(-1);)c=c.slice(0,-1);f=this.maximumIntegerDigits();void 0!==f&&(null!==f&&a.length>f)&&(a=a.slice(-f));if(0<c.length||this.alwaysShowsDecimalSeparator())c=this.decimalSeparator()+
c;if(this.usesGroupingSeparator()){for(var f="",e=0,h=a.length-1;0<=h;h--)0<e&&0===e%this.groupingSize()&&(f=this.groupingSeparator()+f),f=a[h]+f,e++;a=f}a+=c;return a=b?this.negativePrefix()+a+this.negativeSuffix():this.positivePrefix()+a+this.positiveSuffix()},enumerable:!1,writable:!0});h(a.prototype,"_round",{value:function(a){return Na(a,this.maximumFractionDigits(),this.roundingMode())},enumerable:!1,writable:!0});h(a.prototype,"parse",{value:function(a,b){var c;c=this.positivePrefix();var f=
this.negativePrefix(),e=this.positiveSuffix(),h=this.negativeSuffix();this.isLenient()&&(a=a.replace(/\s/g,""),c=M(c),f=M(f),e=M(e),h=M(h));var k,l,m,n,p;if(void 0!==(k=this.zeroSymbol())&&null!==k&&a===k)c=0;else if(void 0!==(l=this.nullSymbol())&&null!==l&&a===l)c=null;else if(void 0!==(m=this.notANumberSymbol())&&null!==m&&a===m)c=NaN;else if(void 0!==(n=this.positiveInfinitySymbol())&&null!==n&&a===n)c=Infinity;else if(void 0!==(p=this.negativeInfinitySymbol())&&null!==p&&a===p)c=-Infinity;else if(l=
a.slice(0,f.length)===f,k=a.slice(a.length-h.length)===h,l&&(this.isLenient()||k))f=a.slice(f.length),k&&(f=f.slice(0,f.length-h.length)),c=this._parseAbsoluteValue(f,b),void 0!==c&&null!==c&&(c*=-1);else if(h=a.slice(0,c.length)===c,k=a.slice(a.length-e.length)===e,this.isLenient()||h&&k)f=a,h&&(f=f.slice(c.length)),k&&(f=f.slice(0,f.length-e.length)),c=this._parseAbsoluteValue(f,b);else return"function"===typeof b&&b("number-formatter.invalid-format"),null;if(void 0!==c&&null!==c){e=this.minimum();
if(void 0!==e&&null!==e&&c<e)return"function"===typeof b&&b("number-formatter.out-of-bounds.below-minimum"),null;e=this.maximum();if(void 0!==e&&null!==e&&c>e)return"function"===typeof b&&b("number-formatter.out-of-bounds.above-maximum"),null}return c},enumerable:!1,writable:!0});h(a.prototype,"_parseAbsoluteValue",{value:function(a,b){var c;if(0===a.length)return"function"===typeof b&&b("number-formatter.invalid-format"),null;c=a.split(this.decimalSeparator());if(2<c.length)return"function"===typeof b&&
b("number-formatter.invalid-format"),null;var f=c[0];c=c[1]||"";if(this.usesGroupingSeparator()){var e=this.groupingSize(),f=f.split(this.groupingSeparator());if(!this.isLenient()&&1<f.length){if(f[0].length>e)return"function"===typeof b&&b("number-formatter.invalid-format.grouping-size"),null;for(var h=f.slice(1),k=0,l=h.length;k<l;k++)if(h[k].length!==e)return"function"===typeof b&&b("number-formatter.invalid-format.grouping-size"),null}f=f.join("")}if(!ta.test(f)||!ta.test(c))return"function"===
typeof b&&b("number-formatter.invalid-format"),null;e=this.exponent();void 0!==e&&null!==e&&(c=J([!1,f,c],-e),f=c[1],c=c[2]);c=Number(f)+Number("."+(c||"0"));return this.allowsFloats()||c===~~c?c:("function"===typeof b&&b("number-formatter.floats-not-allowed"),null)},enumerable:!1,writable:!0});h(a.prototype,"_currencyDefaults",{value:function(){var a={};x(Ba["default"],function(b,c){a[c]=b});x(Ba[this.currencyCode()],function(b,c){a[c]=b});return a},enumerable:!1,writable:!0});h(a.prototype,"_regionDefaults",
{value:function(){var a={};x(N.default,function(b,c){a[c]=b});x(N[this.countryCode()],function(b,c){a[c]=b});return a},enumerable:!1,writable:!0});h(a.prototype,"_localeDefaults",{value:function(){var a=this.locale(),b=this.countryCode(),c=Pa(a).lang,f={};x([N.default,ga.default,N[b],ga[c],ga[a]],function(a){x(a,function(a,b){f[b]=a})});return f},enumerable:!1,writable:!0});return a}(K);k.prototype._allowsFloats=null;k.prototype._alwaysShowsDecimalSeparator=null;k.prototype._countryCode=null;k.prototype._currencyCode=
null;k.prototype._exponent=null;k.prototype._groupingSeparator=null;k.prototype._groupingSize=null;k.prototype._lenient=!1;k.prototype._locale=null;k.prototype._internationalCurrencySymbol=null;k.prototype._maximumFractionDigits=null;k.prototype._minimumFractionDigits=null;k.prototype._maximumIntegerDigits=null;k.prototype._minimumIntegerDigits=null;k.prototype._maximum=null;k.prototype._minimum=null;k.prototype._notANumberSymbol=null;k.prototype._nullSymbol=null;k.prototype._numberStyle=null;k.prototype._roundingMode=
null;k.prototype._usesGroupingSeparator=null;k.prototype._zeroSymbol=null;k.prototype.stringFromNumber=k.prototype.format;k.prototype.numberFromString=k.prototype.parse;k.prototype.minusSign=k.prototype.negativePrefix;k.prototype.setMinusSign=k.prototype.setNegativePrefix;k.prototype.plusSign=k.prototype.positivePrefix;k.prototype.setPlusSign=k.prototype.setPositivePrefix;k.Rounding=n;k.Style={NONE:ea,CURRENCY:1,PERCENT:2};var fa={NONE:{usesGroupingSeparator:!1,minimumFractionDigits:0,maximumFractionDigits:0,
minimumIntegerDigits:0},PERCENT:{usesGroupingSeparator:!1,exponent:2,minimumFractionDigits:0,maximumFractionDigits:0,minimumIntegerDigits:1,positiveSuffix:function(b){return b.percentSymbol()},negativeSuffix:function(b){return b.percentSymbol()}},CURRENCY:{positivePrefix:function(b,a){return v(a,"positiveCurrencyPrefix",b,this)},positiveSuffix:function(b,a){return v(a,"positiveCurrencySuffix",b,this)},negativePrefix:function(b,a){return v(a,"negativeCurrencyPrefix",b,this)},negativeSuffix:function(b,
a){return v(a,"negativeCurrencySuffix",b,this)}}},ga={"default":{allowsFloats:!0,alwaysShowsDecimalSeparator:!1,decimalSeparator:".",groupingSeparator:",",groupingSize:3,negativeInfinitySymbol:"-\u221e",negativePrefix:"-",negativeSuffix:"",notANumberSymbol:"NaN",nullSymbol:"",percentSymbol:"%",positiveInfinitySymbol:"+\u221e",positivePrefix:"",positiveSuffix:"",roundingMode:k.Rounding.HALF_EVEN,positiveCurrencyPrefix:function(b){return b.currencySymbol()},positiveCurrencySuffix:"",negativeCurrencyPrefix:function(b){return"("+
b.currencySymbol()},negativeCurrencySuffix:function(){return")"}},fr:{decimalSeparator:",",groupingSeparator:" ",percentSymbol:" %",positiveCurrencyPrefix:"",positiveCurrencySuffix:function(b){return" "+b.currencySymbol()},negativeCurrencyPrefix:function(){return"("},negativeCurrencySuffix:function(b){return" "+b.currencySymbol()+")"}},ja:{negativeCurrencyPrefix:function(b){return"-"+b.currencySymbol()},negativeCurrencySuffix:""},"en-GB":{negativeCurrencyPrefix:function(b){return"-"+b.currencySymbol()},
negativeCurrencySuffix:""}},N={CA:{currencyCode:"CAD"},DE:{currencyCode:"EUR"},ES:{currencyCode:"EUR"},FR:{currencyCode:"EUR"},GB:{currencyCode:"GBP"},JP:{currencyCode:"JPY"},US:{currencyCode:"USD"}},Ba={"default":{currencySymbol:function(b){return b.currencyCode()},internationalCurrencySymbol:function(b){return b.currencyCode()},minimumFractionDigits:2,maximumFractionDigits:2,minimumIntegerDigits:1,usesGroupingSeparator:!0},CAD:{currencySymbol:"$",internationalCurrencySymbol:"CA$"},EUR:{currencySymbol:"\u20ac"},
GBP:{currencySymbol:"\u00a3",internationalCurrencySymbol:"GB\u00a3"},JPY:{currencySymbol:"\u00a5",internationalCurrencySymbol:"JP\u00a5",minimumFractionDigits:0,maximumFractionDigits:0},USD:{currencySymbol:"$",internationalCurrencySymbol:"US$"}},O=Object.getPrototypeOf,t=Object.defineProperty,hb=Object.create,ib={0:"(",4:")",5:" ",9:"-"},jb={1:" ",2:"(",6:")",7:" ",11:"-"},kb={2:" ",3:"(",7:")",8:" ",12:"-"},lb=/[-\(\) ]/g,mb=function(b){function a(){var a=[].slice.call(arguments,0);if(0!==a.length)throw Error("were you trying to set a delimiter ("+
a[0]+")?");}a.__proto__=null!==b?b:Function.prototype;a.prototype=hb(null!==b?b.prototype:null);t(a.prototype,"constructor",{value:a});t(a.prototype,"isDelimiter",{value:function(a){var b=this.delimiterMap,c;for(c in b)if(b.hasOwnProperty(c)&&b[c]===a)return!0;return!1},enumerable:!1,writable:!0});t(a.prototype,"delimiterAt",{value:function(a){return this.delimiterMap[a]},enumerable:!1,writable:!0});t(a.prototype,"hasDelimiterAtIndex",{value:function(a){a=this.delimiterAt(a);return void 0!==a&&null!==
a},enumerable:!1,writable:!0});t(a.prototype,"parse",{value:function(b,e){e||(e=function(){});var c=this.digitsWithoutCountryCode(b);10>b.length&&e("phone-formatter.number-too-short");"0"===c[0]&&e("phone-formatter.area-code-zero");"1"===c[0]&&e("phone-formatter.area-code-one");"9"===c[1]&&e("phone-formatter.area-code-n9n");"1"===c[3]&&e("phone-formatter.central-office-one");"11"===c.slice(4,6)&&e("phone-formatter.central-office-n11");return O(a.prototype).parse.call(this,b,e)},enumerable:!1,writable:!0});
t(a.prototype,"format",{value:function(b){this.guessFormatFromText(b);return O(a.prototype).format.call(this,this.removeDelimiterMapChars(b))},enumerable:!1,writable:!0});t(a.prototype,"isChangeValid",{value:function(b,e){this.guessFormatFromText(b.proposed.text);if(1<b.inserted.text.length){var c=b.current.text,f=b.current.selectedRange,h=b.inserted.text,h=this.format((c.slice(0,f.start)+h+c.slice(f.start+f.length)).replace(/[^\d]/g,""));b.proposed={text:h,selectedRange:{start:h.length-(c.length-
(f.start+f.length)),length:0}};return O(a.prototype).isChangeValid.call(this,b,e)}return/^\d*$/.test(b.inserted.text)||0===b.proposed.text.indexOf("+")?O(a.prototype).isChangeValid.call(this,b,e):!1},enumerable:!1,writable:!0});t(a.prototype,"guessFormatFromText",{value:function(a){a&&"+"===a[0]?(this.delimiterMap=kb,this.maximumLength=17):a&&"1"===a[0]?(this.delimiterMap=jb,this.maximumLength=16):(this.delimiterMap=ib,this.maximumLength=14)},enumerable:!1,writable:!0});t(a.prototype,"digitsWithoutCountryCode",
{value:function(a){a=(a||"").replace(/[^\d]/g,"");var b=a.length-10;0<b&&(a=a.substr(b));return a},enumerable:!1,writable:!0});t(a.prototype,"removeDelimiterMapChars",{value:function(a){return(a||"").replace(lb,"")},enumerable:!1,writable:!0});return a}(D),Ca=Object.getPrototypeOf,ha=Object.defineProperty,nb=Object.create,ob=/^\d*$/,pb=function(b){function a(){Ca(a.prototype).constructor.call(this,"-");this.maximumLength=11}a.__proto__=null!==b?b:Function.prototype;a.prototype=nb(null!==b?b.prototype:
null);ha(a.prototype,"constructor",{value:a});ha(a.prototype,"hasDelimiterAtIndex",{value:function(a){return 3===a||6===a},enumerable:!1,writable:!0});ha(a.prototype,"isChangeValid",{value:function(b,e){return ob.test(b.inserted.text)?Ca(a.prototype).isChangeValid.call(this,b,e):!1},enumerable:!1,writable:!0});return a}(D),P={AdaptiveCardFormatter:sa,AmexCardFormatter:ra,CardTextField:ab,CardUtils:{AMEX:H,DISCOVER:R,VISA:Q,MASTERCARD:S,determineCardType:G,luhnCheck:ja,validCardLength:ka},DefaultCardFormatter:Y,
DelimitedTextFormatter:D,ExpiryDateField:eb,ExpiryDateFormatter:za,Formatter:K,NumberFormatter:k,PhoneFormatter:mb,SocialSecurityNumberFormatter:pb,TextField:ba,UndoManager:ua};"function"===typeof define&&define.amd?define(function(){return P}):"undefined"!==typeof module&&module.exports?module.exports=P:"undefined"!==typeof window?window.FieldKit=P:this.FieldKit=P}).call(this);
