(function(){var m;function F(b){if(null===b||void 0===b)return null;b=b.toString();var a=parseInt(b.slice(0,2),10),d=parseInt(b.slice(0,6),10),h=parseInt(b.slice(0,3),10);if("4"===b[0])return Q;if("6011"===b.slice(0,4)||65===a||664<=h&&649>=h||622126<=d&&622925>=d)return R;if("2131"===b.slice(0,4)||"1800"===b.slice(0,4)||35===a)return ha;if(51<=a&&55>=a)return S;if(34===a||37===a)return G}function ia(b){for(var a=0,d=!0,h=b.length-1;0<=h;h--)var c=parseInt(b.charAt(h),10),a=a+((d=!d)?Math.floor(2*
c/10)+Math.floor(2*c%10):c);return 0===a%10}function ja(b){switch(F(b)){case Q:return 13===b.length||16===b.length;case R:case S:return 16===b.length;case ha:return 15===b.length||16===b.length;case G:return 15===b.length;default:return!1}}function ka(b,a){for(var d=""+a;d.length<b;)d="0"+d;return d}function x(b,a){if(b&&"function"===typeof b.forEach)b.forEach(a);else if("[object Array]"==={}.toString.call(b))for(var d=0,h=b.length;d<h;d++)a.call(null,b[d],d,b);else for(d in b)la.call(b,d)&&a.call(null,
b[d],d,b)}function Fa(b){var a;if(null===b||void 0===b)return[];var d=ma(b);for(b=b.constructor&&b.constructor.prototype;b;)(a=d).push.apply(a,Ga.call(ma(b))),b=Ha(b);return d}function Ia(b){var a="OSX"===b,d=a?p:C;T[b]||(T[b]=Ja(b,function(h){h(Ka,d,"selectAll");h(y,null,"moveLeft");h(y,q,"moveWordLeft");h(y,l,"moveLeftAndModifySelection");h(y,q|l,"moveWordLeftAndModifySelection");h(z,null,"moveRight");h(z,q,"moveWordRight");h(z,l,"moveRightAndModifySelection");h(z,q|l,"moveWordRightAndModifySelection");
h(A,null,"moveUp");h(A,q,"moveToBeginningOfParagraph");h(A,l,"moveUpAndModifySelection");h(A,q|l,"moveParagraphBackwardAndModifySelection");h(B,null,"moveDown");h(B,q,"moveToEndOfParagraph");h(B,l,"moveDownAndModifySelection");h(B,q|l,"moveParagraphForwardAndModifySelection");h(u,null,"deleteBackward");h(u,l,"deleteBackward");h(u,q,"deleteWordBackward");h(u,q|l,"deleteWordBackward");h(u,d,"deleteBackwardToBeginningOfLine");h(u,d|l,"deleteBackwardToBeginningOfLine");h(na,null,"deleteForward");h(na,
q,"deleteWordForward");h(U,null,"insertTab");h(U,l,"insertBackTab");h(oa,null,"insertNewline");h(pa,d,"undo");a?(h(y,p,"moveToBeginningOfLine"),h(y,p|l,"moveToBeginningOfLineAndModifySelection"),h(z,p,"moveToEndOfLine"),h(z,p|l,"moveToEndOfLineAndModifySelection"),h(A,p,"moveToBeginningOfDocument"),h(A,p|l,"moveToBeginningOfDocumentAndModifySelection"),h(B,p,"moveToEndOfDocument"),h(B,p|l,"moveToEndOfDocumentAndModifySelection"),h(u,C,"deleteBackwardByDecomposingPreviousCharacter"),h(u,C|l,"deleteBackwardByDecomposingPreviousCharacter"),
h(pa,p|l,"redo")):h(La,C,"redo")}));return T[b]}function Ja(b,a){var d=new Ma(b);a(function(){var a=[].slice.call(arguments,0);return d.bind.apply(d,Na.call(a))});return d}function H(b){return b&&/^\w$/.test(b)}function Oa(b){var a=(new Date).getFullYear(),d=a-a%100,d=[d,d-100,d+100].sort(function(d,c){return Math.abs(a-(b+d))-Math.abs(a-(b+c))});return b+d[0]}function V(b){var a=b.length;if(0===a)return"1";var d=parseInt(b[a-1],10);return 9===d?V(b.slice(0,a-1))+"0":b.slice(0,a-1)+(d+1)}function I(b,
a){var d=b[0],h=b[1],c=b[2],f;if(0<a){for(f=c.slice(0,a);f.length<a;)f+="0";h+=f;c=c.slice(a)}else if(0>a){for(;h.length<-a;)h="0"+h;f=h.slice(h.length+a);c=f+c;h=h.slice(0,h.length-f.length)}return[d,h,c]}function Pa(b,a,d){"number"===typeof b&&(b=""+b);if("string"!==typeof b)throw Error("expected a string or number, got: "+b);if(0===b.length)return b;if(null===a||void 0===a)a=0;void 0===d&&(d=r.HALF_EVEN);var h;a:{var c=b;switch(c){case "NaN":case "Infinity":case "-Infinity":h=null;break a}h=c.match(Qa);
if(!h)throw Error("cannot round malformed number: "+c);h=[void 0!==h[1],h[2],h[3]||""]}if(null===h)return b;0<a&&(h=I(h,a));var f,e;b=h[0];c=h[1];h=h[2];switch(d){case r.CEILING:case r.FLOOR:case r.UP:var g=!1;f=0;for(e=h.length;f<e;f++)if("0"!==h[f]){g=!0;break}!g||d!==r.UP&&b===(d===r.CEILING)||(c=V(c));break;case r.HALF_EVEN:case r.HALF_DOWN:case r.HALF_UP:g=!1;f=parseInt(h[0],10);if(5<f)g=!0;else if(5===f){d===r.HALF_UP&&(g=!0);if(!g)for(f=1,e=h.length;f<e;f++)if("0"!==h[f]){g=!0;break}g||d!==
r.HALF_EVEN||(g=0!==parseInt(c[c.length-1],10)%2)}g&&(c=V(c))}b=I([b,c,""],-a);a=b[0];d=b[1];b=b[2];if(0===d.length)d="0";else{for(c=0;c<d.length&&"0"===d[c];c++);c!==d.length&&(d=d.slice(c))}return(a?"-"+d:d)+(b.length?"."+b:"")}function Ra(b){var a=b.match(/^([a-z][a-z])(?:[-_]([a-z][a-z]))?$/i);if(a)return b=a[1]&&a[1].toLowerCase(),a=a[2]&&a[2].toLowerCase(),{lang:b,country:a}}function v(b,a){var d=[].slice.call(arguments,2);if(b){var h=b[a];return"function"===typeof h?h.apply(null,Sa.call(d)):
h}}var W=Object.defineProperty,J=function(){function b(){}W(b.prototype,"format",{value:function(a){if(void 0===a||null===a)a="";void 0!==this.maximumLength&&null!==this.maximumLength&&(a=a.substring(0,this.maximumLength));return a},enumerable:!1,writable:!0});W(b.prototype,"parse",{value:function(a){if(void 0===a||null===a)a="";void 0!==this.maximumLength&&null!==this.maximumLength&&(a=a.substring(0,this.maximumLength));return a},enumerable:!1,writable:!0});W(b.prototype,"isChangeValid",{value:function(a){var d=
a.proposed.selectedRange,h=a.proposed.text;if(void 0!==this.maximumLength&&null!==this.maximumLength&&h.length>this.maximumLength){var b=this.maximumLength-(h.length-a.inserted.text.length),f=a.current.text.substring(0,a.current.selectedRange.start);0<b&&(f+=a.inserted.text.substring(0,b));f+=a.current.text.substring(a.current.selectedRange.start+a.current.selectedRange.length);h=h.length-f.length;a.proposed.text=f;d.start-=h}return!0},enumerable:!1,writable:!0});return b}(),Ta=Array.prototype.slice,
Ua=Object.getPrototypeOf,w=Object.defineProperty,Va=Object.create,D=function(b){function a(a){a||(a=this.delimiter);if(null===a||void 0===a||1!==a.length)throw Error("delimiter must have just one character");this.delimiter=a}a.__proto__=null!==b?b:Function.prototype;a.prototype=Va(null!==b?b.prototype:null);w(a.prototype,"constructor",{value:a});w(a.prototype,"delimiterAt",{value:function(a){return this.hasDelimiterAtIndex(a)?this.delimiter:null},enumerable:!1,writable:!0});w(a.prototype,"isDelimiter",
{value:function(a){return a===this.delimiter},enumerable:!1,writable:!0});w(a.prototype,"format",{value:function(a){return this._textFromValue(a)},enumerable:!1,writable:!0});w(a.prototype,"_textFromValue",{value:function(a){if(!a)return"";for(var h="",b,f=this.maximumLength,e=0,g=a.length;e<g;e++){for(;b=this.delimiterAt(h.length);)h+=b;for(h+=a[e];b=this.delimiterAt(h.length);)h+=b}return void 0!==f&&null!==f?h.slice(0,f):h},enumerable:!1,writable:!0});w(a.prototype,"parse",{value:function(a){return this._valueFromText(a)},
enumerable:!1,writable:!0});w(a.prototype,"_valueFromText",{value:function(a){if(!a)return"";for(var b="",c=0,f=a.length;c<f;c++)this.isDelimiter(a[c])||(b+=a[c]);return b},enumerable:!1,writable:!0});w(a.prototype,"isChangeValid",{value:function(d,b){if(!Ua(a.prototype).isChangeValid.call(this,d,b))return!1;var c=d.proposed.text,f=d.proposed.selectedRange,e=0!==f.length,g=f.start<d.current.selectedRange.start,k=f.start>d.current.selectedRange.start,l=f.start+f.length<d.current.selectedRange.start+
d.current.selectedRange.length,m=f.start+f.length>d.current.selectedRange.start+d.current.selectedRange.length,q=g&&this.hasDelimiterAtIndex(f.start)||k&&this.hasDelimiterAtIndex(f.start-1),r=l&&this.hasDelimiterAtIndex(f.start+f.length)||m&&this.hasDelimiterAtIndex(f.start+f.length-1);if(this.isDelimiter(d.deleted.text)){for(var n=d.deleted.start-1;this.isDelimiter(c.charAt(n));)c=c.substring(0,n)+c.substring(n+1),n--;c=c.substring(0,n)+c.substring(n+1)}if(g&&q){for(;this.delimiterAt(f.start-1);)f.start--,
f.length++;f.start--;f.length++}if(k){for(;this.delimiterAt(f.start);)f.start++,f.length--;if(q)for(f.start++,f.length--;this.delimiterAt(f.start);)f.start++,f.length--}if(e){if(r){if(l){for(;this.delimiterAt(f.start+f.length-1);)f.length--;f.length--}if(m){for(;this.delimiterAt(f.start+f.length);)f.length++;f.length++}}for(;this.hasDelimiterAtIndex(f.start+f.length-1);)g||l?f.length--:f.length++;for(;this.hasDelimiterAtIndex(f.start);)k||m?(f.start++,f.length--):(f.start--,f.length++)}else f.length=
0;var p=!0,c=this._valueFromText(c,function(){var a=[].slice.call(arguments,0);p=!1;b.apply(null,Ta.call(a))});p&&(d.proposed.text=this._textFromValue(c));return p},enumerable:!1,writable:!0});return a}(J),G="amex",R="discover",ha="jcb",S="mastercard",Q="visa",X=Object.getPrototypeOf,K=Object.defineProperty,Wa=Object.create,qa=function(b){function a(){X(a.prototype).constructor.call(this," ")}a.__proto__=null!==b?b:Function.prototype;a.prototype=Wa(null!==b?b.prototype:null);K(a.prototype,"constructor",
{value:a});K(a.prototype,"hasDelimiterAtIndex",{value:function(a){return 4===a||9===a||14===a},enumerable:!1,writable:!0});K(a.prototype,"parse",{value:function(d,b){var c=this._valueFromText(d);"function"===typeof b&&(ja(c)||b("card-formatter.number-too-short"),ia(c)||b("card-formatter.invalid-number"));return X(a.prototype).parse.call(this,d,b)},enumerable:!1,writable:!0});K(a.prototype,"_valueFromText",{value:function(d){return X(a.prototype)._valueFromText.call(this,(d||"").replace(/[^\d]/g,""))},
enumerable:!1,writable:!0});return a}(D);qa.prototype.maximumLength=19;var Y=qa,Xa=Object.getPrototypeOf,ra=Object.defineProperty,Ya=Object.create,sa=function(b){function a(){Xa(a.prototype).constructor.call(this);this.maximumLength=17}a.__proto__=null!==b?b:Function.prototype;a.prototype=Ya(null!==b?b.prototype:null);ra(a.prototype,"constructor",{value:a});ra(a.prototype,"hasDelimiterAtIndex",{value:function(a){return 4===a||11===a},enumerable:!1,writable:!0});return a}(Y),L=Object.defineProperty,
ta=function(){function b(){this.amexCardFormatter=new sa;this.formatter=this.defaultCardFormatter=new Y}L(b.prototype,"format",{value:function(a){return this._formatterForPan(a).format(a)},enumerable:!1,writable:!0});L(b.prototype,"parse",{value:function(a,d){return this.formatter.parse(a,d)},enumerable:!1,writable:!0});L(b.prototype,"isChangeValid",{value:function(a){this.formatter=this._formatterForPan(a.proposed.text);return this.formatter.isChangeValid(a)},enumerable:!1,writable:!0});L(b.prototype,
"_formatterForPan",{value:function(a){return F(a.replace(/[^\d]+/g,""))===G?this.amexCardFormatter:this.defaultCardFormatter},enumerable:!1,writable:!0});return b}(),Ga=Array.prototype.slice,ua=/^\d*$/,Za=/(^\s+|\s+$)/,M="function"===typeof"".trim?function(b){return b.trim()}:function(b){return b.replace(Za,"")};Function.prototype.bind||(Function.prototype.bind=function(b){var a=[].slice.call(arguments,1),d=this;return function(){var h=[].slice.call(arguments,0);return d.apply(b,a.concat(h))}});var la=
Object.prototype.hasOwnProperty,ma=function(){var b=Object.getOwnPropertyNames;try{Object.getOwnPropertyNames({},"sq")}catch(a){b=function(a){var b=[],c;for(c in a)la.call(a,c)&&b.push(c);return b}}return b}(),Ha=Object.getPrototypeOf||function(b){return b.__proto__},Z=Array.prototype.slice,s=Object.defineProperty,va=function(){function b(){this._undos=[];this._redos=[];this._isRedoing=this._isUndoing=!1}s(b.prototype,"canUndo",{value:function(){return 0!==this._undos.length},enumerable:!1,writable:!0});
s(b.prototype,"canRedo",{value:function(){return 0!==this._redos.length},enumerable:!1,writable:!0});s(b.prototype,"isUndoing",{value:function(){return this._isUndoing},enumerable:!1,writable:!0});s(b.prototype,"isRedoing",{value:function(){return this._isRedoing},enumerable:!1,writable:!0});s(b.prototype,"registerUndo",{value:function(a,d){var b=[].slice.call(arguments,2);this._isUndoing?this._appendRedo.apply(this,[a,d].concat(Z.call(b))):(this._isRedoing||(this._redos.length=0),this._appendUndo.apply(this,
[a,d].concat(Z.call(b))));return null},enumerable:!1,writable:!0});s(b.prototype,"_appendUndo",{value:function(a,d){var b=[].slice.call(arguments,2);this._undos.push({target:a,selector:d,args:b})},enumerable:!1,writable:!0});s(b.prototype,"_appendRedo",{value:function(a,d){var b=[].slice.call(arguments,2);this._redos.push({target:a,selector:d,args:b})},enumerable:!1,writable:!0});s(b.prototype,"undo",{value:function(){if(!this.canUndo())throw Error("there are no registered undos");var a=this._undos.pop(),
d=a.target,b=a.selector,a=a.args;this._isUndoing=!0;d[b].apply(d,a);this._isUndoing=!1},enumerable:!1,writable:!0});s(b.prototype,"redo",{value:function(){if(!this.canRedo())throw Error("there are no registered redos");var a=this._redos.pop(),d=a.target,b=a.selector,a=a.args;this._isRedoing=!0;d[b].apply(d,a);this._isRedoing=!1;return null},enumerable:!1,writable:!0});s(b.prototype,"proxyFor",{value:function(a){function d(d){return function(){var b,h=[].slice.call(arguments,0);(b=c).registerUndo.apply(b,
[a,d].concat(Z.call(h)))}}var b={},c=this;Fa(a).forEach(function(c){var e;a:{e=a;try{Object.getOwnPropertyDescriptor({},"sq")}catch(g){e=!1;break a}var k;e&&(e.constructor&&e.constructor.prototype)&&(k=Object.getOwnPropertyDescriptor(e.constructor.prototype,c));k||(k=Object.getOwnPropertyDescriptor(e,c));e=k&&k.get?!0:!1}e||"function"===typeof a[c]&&(b[c]=d(c))});return b},enumerable:!1,writable:!0});return b}(),Na=Array.prototype.slice,wa=Object.defineProperty,Ka=65,La=89,pa=90,y=37,z=39,A=38,B=
40,u=8,na=46,U=9,oa=13,$a=u,xa=U,ab=oa,C=1,p=2,q=4,l=8,T={},Ma=function(){function b(a){this.platform=a;this.bindings={}}wa(b.prototype,"bind",{value:function(a,d,b){this.bindings[a]||(this.bindings[a]={});this.bindings[a][d||0]=b},enumerable:!1,writable:!0});wa(b.prototype,"actionForEvent",{value:function(a){var d=this.bindings[a.keyCode];if(d){var b=0;a.altKey&&(b|=q);a.ctrlKey&&(b|=C);a.metaKey&&(b|=p);a.shiftKey&&(b|=l);return d[b]}},enumerable:!1,writable:!0});return b}(),$=Caret,e=Object.defineProperty;
m=null;var aa=function(){function b(a,d){"function"===typeof a.get&&(console.warn("DEPRECATION: FieldKit.TextField instances should no longer be created with a jQuery-wrapped element."),a=a.get(0));this.element=a;this._formatter=d;this._enabled=!0;this._manualCaret={start:0,end:0};this._unfocusedPlaceholder=this._focusedPlaceholder=this._disabledPlaceholder=this._placeholder=null;this._isDirty=!1;this._valueOnFocus="";this._focusout=this._focusout.bind(this);this._focusin=this._focusin.bind(this);
this._click=this._click.bind(this);this._paste=this._paste.bind(this);this._keyUp=this._keyUp.bind(this);this._keyPress=this._keyPress.bind(this);this._keyDown=this._keyDown.bind(this);if(a["field-kit-text-field"])throw Error("already attached a TextField to this element");a["field-kit-text-field"]=this;a.addEventListener("keydown",this._keyDown);a.addEventListener("keypress",this._keyPress);a.addEventListener("keyup",this._keyUp);a.addEventListener("click",this._click);a.addEventListener("paste",
this._paste);a.addEventListener("focusin",this._focusin);a.addEventListener("focusout",this._focusout);this._buildKeybindings();this._needsManualCaret=-1<a.ownerDocument.defaultView.navigator.userAgent.toLowerCase().indexOf("android");this.selectionAffinity=m}e(b.prototype,"textDidChange",{value:function(){},enumerable:!1,writable:!0});e(b.prototype,"textFieldDidEndEditing",{value:function(){},enumerable:!1,writable:!0});e(b.prototype,"textFieldDidBeginEditing",{value:function(){},enumerable:!1,writable:!0});
e(b.prototype,"_textDidChange",{value:function(){var a=this._delegate;this.textDidChange();a&&"function"===typeof a.textDidChange&&a.textDidChange(this);this._fireEvent("input")},enumerable:!1,writable:!0});e(b.prototype,"_textFieldDidEndEditing",{value:function(){var a=this._delegate;this.textFieldDidEndEditing();a&&"function"===typeof a.textFieldDidEndEditing&&a.textFieldDidEndEditing(this);this._isDirty&&this._valueOnFocus!==this.element.value&&this._fireEvent("change");this._isDirty=!1;this._valueOnFocus=
""},enumerable:!1,writable:!0});e(b.prototype,"_textFieldDidBeginEditing",{value:function(){var a=this._delegate;this.textFieldDidBeginEditing();a&&"function"===typeof a.textFieldDidBeginEditing&&a.textFieldDidBeginEditing(this)},enumerable:!1,writable:!0});e(b.prototype,"clearSelection",{value:function(){this.replaceSelection("")},enumerable:!1,writable:!0});e(b.prototype,"delegate",{value:function(){return this._delegate},enumerable:!1,writable:!0});e(b.prototype,"setDelegate",{value:function(a){this._delegate=
a;return null},enumerable:!1,writable:!0});e(b.prototype,"deleteBackward",{value:function(a){a.preventDefault();a=this.selectedRange();0===a.length&&(a.start--,a.length++,this.setSelectedRange(a));this.clearSelection()},enumerable:!1,writable:!0});e(b.prototype,"deleteWordBackward",{value:function(a){if(this.hasSelection())this.deleteBackward(a);else{a.preventDefault();a=this.selectedRange();var d=this._lastWordBreakBeforeIndex(a.start);a.length+=a.start-d;a.start=d;this.setSelectedRange(a);this.clearSelection()}},
enumerable:!1,writable:!0});e(b.prototype,"deleteBackwardByDecomposingPreviousCharacter",{value:function(a){this.deleteBackward(a)},enumerable:!1,writable:!0});e(b.prototype,"deleteBackwardToBeginningOfLine",{value:function(a){this.hasSelection()?this.deleteBackward(a):(a.preventDefault(),a=this.selectedRange(),a.length=a.start,a.start=0,this.setSelectedRange(a),this.clearSelection())},enumerable:!1,writable:!0});e(b.prototype,"deleteForward",{value:function(a){a.preventDefault();a=this.selectedRange();
0===a.length&&(a.length++,this.setSelectedRange(a));return this.clearSelection()},enumerable:!1,writable:!0});e(b.prototype,"deleteWordForward",{value:function(a){if(this.hasSelection())return this.deleteForward(a);a.preventDefault();a=this.selectedRange();var d=this._nextWordBreakAfterIndex(a.start+a.length);this.setSelectedRange({start:a.start,length:d-a.start});this.clearSelection()},enumerable:!1,writable:!0});e(b.prototype,"destroy",{value:function(){var a=this.element;a.removeEventListener("keydown",
this._keyDown);a.removeEventListener("keypress",this._keyPress);a.removeEventListener("keyup",this._keyUp);a.removeEventListener("click",this._click);a.removeEventListener("paste",this._paste);a.removeEventListener("focusin",this._focusin);a.removeEventListener("focusout",this._focusout);delete a["field-kit-text-field"];return null},enumerable:!1,writable:!0});e(b.prototype,"formatter",{value:function(){if(!this._formatter){this._formatter=new J;var a=this.element.getAttribute("maxlength");void 0!==
a&&null!==a&&(this._formatter.maximumLength=parseInt(a,10))}return this._formatter},enumerable:!1,writable:!0});e(b.prototype,"setFormatter",{value:function(a){var d=this.value();this._formatter=a;this.setValue(d)},enumerable:!1,writable:!0});e(b.prototype,"hasSelection",{value:function(){return 0!==this.selectedRange().length},enumerable:!1,writable:!0});e(b.prototype,"insertBackTab",{value:function(){},enumerable:!1,writable:!0});e(b.prototype,"insertTab",{value:function(){},enumerable:!1,writable:!0});
e(b.prototype,"insertText",{value:function(a){this.hasSelection()&&this.clearSelection();this._isDirty||(this._valueOnFocus=this.element.value||"",this._isDirty=!0);this.replaceSelection(a);a=this.selectedRange();a.start+=a.length;a.length=0;return this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"insertNewline",{value:function(){this._textFieldDidEndEditing();this._didEndEditingButKeptFocus=!0},enumerable:!1,writable:!0});e(b.prototype,"inspect",{value:function(){return'#<TextField text="'+
this.text()+'">'},enumerable:!1,writable:!0});e(b.prototype,"moveUp",{value:function(a){a.preventDefault();this.setSelectedRange({start:0,length:0})},enumerable:!1,writable:!0});e(b.prototype,"moveToBeginningOfParagraph",{value:function(a){this.moveUp(a)},enumerable:!1,writable:!0});e(b.prototype,"moveUpAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 0:case m:a.length+=a.start;a.start=0;break;case 1:a.length=a.start,a.start=0}this.setSelectedRangeWithAffinity(a,
0)},enumerable:!1,writable:!0});e(b.prototype,"moveParagraphBackwardAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 0:case m:a.length+=a.start;a.start=0;break;case 1:a.length=0}this.setSelectedRangeWithAffinity(a,0)},enumerable:!1,writable:!0});e(b.prototype,"moveToBeginningOfDocument",{value:function(a){this.moveToBeginningOfLine(a)},enumerable:!1,writable:!0});e(b.prototype,"moveToBeginningOfDocumentAndModifySelection",{value:function(a){a.preventDefault();
a=this.selectedRange();a.length+=a.start;a.start=0;return this.setSelectedRangeWithAffinity(a,0)},enumerable:!1,writable:!0});e(b.prototype,"moveDown",{value:function(a){a.preventDefault();a={start:this.text().length,length:0};this.setSelectedRangeWithAffinity(a,m)},enumerable:!1,writable:!0});e(b.prototype,"moveToEndOfParagraph",{value:function(a){this.moveDown(a)},enumerable:!1,writable:!0});e(b.prototype,"moveDownAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();
var d=this.text().length;0===this.selectionAffinity&&(a.start+=a.length);a.length=d-a.start;this.setSelectedRangeWithAffinity(a,1)},enumerable:!1,writable:!0});e(b.prototype,"moveParagraphForwardAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 1:case m:a.length=this.text().length-a.start;break;case 0:a.start+=a.length,a.length=0}this.setSelectedRangeWithAffinity(a,1)},enumerable:!1,writable:!0});e(b.prototype,"moveToEndOfDocument",
{value:function(a){this.moveToEndOfLine(a)},enumerable:!1,writable:!0});e(b.prototype,"moveToEndOfDocumentAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();a.length=this.text().length-a.start;this.setSelectedRangeWithAffinity(a,1)},enumerable:!1,writable:!0});e(b.prototype,"moveLeft",{value:function(a){a.preventDefault();a=this.selectedRange();0!==a.length?a.length=0:a.start--;this.setSelectedRangeWithAffinity(a,m)},enumerable:!1,writable:!0});e(b.prototype,"moveLeftAndModifySelection",
{value:function(a){a.preventDefault();a=this.selectedRange();switch(this.selectionAffinity){case 0:case m:this.selectionAffinity=0;a.start--;a.length++;break;case 1:a.length--}this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"moveWordLeft",{value:function(a){a.preventDefault();a=this._lastWordBreakBeforeIndex(this.selectedRange().start-1);this.setSelectedRange({start:a,length:0})},enumerable:!1,writable:!0});e(b.prototype,"moveWordLeftAndModifySelection",{value:function(a){a.preventDefault();
a=this.selectedRange();switch(this.selectionAffinity){case 0:case m:this.selectionAffinity=0;var d=this._lastWordBreakBeforeIndex(a.start-1);a.length+=a.start-d;a.start=d;break;case 1:d=this._lastWordBreakBeforeIndex(a.start+a.length),d<a.start&&(d=a.start),a.length-=a.start+a.length-d}this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"moveToBeginningOfLine",{value:function(a){a.preventDefault();this.setSelectedRange({start:0,length:0})},enumerable:!1,writable:!0});e(b.prototype,
"moveToBeginningOfLineAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();a.length+=a.start;a.start=0;this.setSelectedRangeWithAffinity(a,0)},enumerable:!1,writable:!0});e(b.prototype,"moveRight",{value:function(a){a.preventDefault();a=this.selectedRange();0!==a.length?(a.start+=a.length,a.length=0):a.start++;this.setSelectedRangeWithAffinity(a,m)},enumerable:!1,writable:!0});e(b.prototype,"moveRightAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();
switch(this.selectionAffinity){case 0:a.start++;a.length--;break;case 1:case m:this.selectionAffinity=1,a.length++}this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"moveWordRight",{value:function(a){a.preventDefault();a=this.selectedRange();a=this._nextWordBreakAfterIndex(a.start+a.length);this.setSelectedRange({start:a,length:0})},enumerable:!1,writable:!0});e(b.prototype,"moveWordRightAndModifySelection",{value:function(a){a.preventDefault();a=this.selectedRange();var d=a.start,
b=a.start+a.length;switch(this.selectionAffinity){case 0:d=Math.min(this._nextWordBreakAfterIndex(d),b);break;case 1:case m:this.selectionAffinity=1,b=this._nextWordBreakAfterIndex(a.start+a.length)}this.setSelectedRange({start:d,length:b-d})},enumerable:!1,writable:!0});e(b.prototype,"moveToEndOfLine",{value:function(a){a.preventDefault();this.setSelectedRange({start:this.text().length,length:0})},enumerable:!1,writable:!0});e(b.prototype,"moveToEndOfLineAndModifySelection",{value:function(a){a.preventDefault();
a=this.selectedRange();a.length=this.text().length-a.start;this.setSelectedRangeWithAffinity(a,1)},enumerable:!1,writable:!0});e(b.prototype,"readSelectionFromPasteboard",{value:function(a){a=a.getData("Text");this.replaceSelection(a);a=this.selectedRange();a.start+=a.length;a.length=0;this.setSelectedRange(a)},enumerable:!1,writable:!0});e(b.prototype,"replaceSelection",{value:function(a){var d=this.selectedRange(),b=d.start+d.length,c=this.text(),c=c.substring(0,d.start)+a+c.substring(b);d.length=
a.length;this.setText(c);this.setSelectedRangeWithAffinity(d,m)},enumerable:!1,writable:!0});e(b.prototype,"rightWordBreakIndexes",{value:function(){for(var a=[],d=this.text(),b=0,c=d.length;b<=c;b++){var f;f=d;var e=b;f=e===f.length?!0:H(f[e])&&!H(f[e+1]);f&&a.push(b+1)}return a},enumerable:!1,writable:!0});e(b.prototype,"rollbackInvalidChanges",{value:function(a){var d=null,b=null,c=ya.build(this,function(){d=a()}),f=function(a){b=a};if(c.hasChanges()){var e=this.formatter();if(e&&"function"===
typeof e.isChangeValid)if(e.isChangeValid(c,f))c.recomputeDiff(),this.setText(c.proposed.text),this.setSelectedRange(c.proposed.selectedRange);else return(f=this.delegate())&&"function"===typeof f.textFieldDidFailToValidateChange&&f.textFieldDidFailToValidateChange(this,c,b),this.setText(c.current.text),this.setSelectedRange(c.current.selectedRange),d;if(c.inserted.text.length||c.deleted.text.length)this.undoManager().proxyFor(this)._applyChangeFromUndoManager(c),this._textDidChange()}return d},enumerable:!1,
writable:!0});e(b.prototype,"selectAll",{value:function(a){a.preventDefault();this.setSelectedRangeWithAffinity({start:0,length:this.text().length},m)},enumerable:!1,writable:!0});e(b.prototype,"text",{value:function(){return this.element.value},enumerable:!1,writable:!0});e(b.prototype,"setText",{value:function(a){this.element.value=a},enumerable:!1,writable:!0});e(b.prototype,"value",{value:function(){var a=this.text(),d=this.delegate(),b=this.formatter();return b?b.parse(a,function(b){d&&"function"===
typeof d.textFieldDidFailToParseString&&d.textFieldDidFailToParseString(this,a,b)}.bind(this)):value},enumerable:!1,writable:!0});e(b.prototype,"setValue",{value:function(a){this._formatter&&(a=this._formatter.format(a));this.setText(""+a)},enumerable:!1,writable:!0});e(b.prototype,"selectedRange",{value:function(){var a=this._needsManualCaret?this._manualCaret:$.get(this.element);return{start:a.start,length:a.end-a.start}},enumerable:!1,writable:!0});e(b.prototype,"setSelectedRange",{value:function(a){return this.setSelectedRangeWithAffinity(a,
this.selectionAffinity)},enumerable:!1,writable:!0});e(b.prototype,"setSelectedRangeWithAffinity",{value:function(a,d){var b=this.text().length;this._manualCaret=b={start:Math.max(0,Math.min(b,a.start)),end:Math.max(0,Math.min(b,a.start+a.length))};$.set(this.element,b.start,b.end);this.selectionAffinity=0===a.length?m:d},enumerable:!1,writable:!0});e(b.prototype,"selectionAnchor",{value:function(){var a=this.selectedRange();switch(this.selectionAffinity){case 0:return a.start+a.length;case 1:return a.start;
default:return null}},enumerable:!1,writable:!0});e(b.prototype,"allowsUndo",{value:function(){return this._allowsUndo},enumerable:!1,writable:!0});e(b.prototype,"setAllowsUndo",{value:function(a){this._allowsUndo=a},enumerable:!1,writable:!0});e(b.prototype,"redo",{value:function(a){this.undoManager().canRedo()&&this.undoManager().redo();a.preventDefault()},enumerable:!1,writable:!0});e(b.prototype,"undo",{value:function(a){this.undoManager().canUndo()&&this.undoManager().undo();a.preventDefault()},
enumerable:!1,writable:!0});e(b.prototype,"undoManager",{value:function(){return this._undoManager||(this._undoManager=new va)},enumerable:!1,writable:!0});e(b.prototype,"becomeFirstResponder",{value:function(){this.element.focus();this.rollbackInvalidChanges(function(){this.element.select();this._syncPlaceholder()}.bind(this))},enumerable:!1,writable:!0});e(b.prototype,"hasFocus",{value:function(){return this.element.ownerDocument.activeElement===this.element},enumerable:!1,writable:!0});e(b.prototype,
"isEnabled",{value:function(){return this._enabled},enumerable:!1,writable:!0});e(b.prototype,"setEnabled",{value:function(a){this._enabled=a;this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"resignFirstResponder",{value:function(a){void 0!==a&&null!==a&&a.preventDefault();this.element.blur();this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"disabledPlaceholder",{value:function(){return this._disabledPlaceholder},enumerable:!1,writable:!0});e(b.prototype,"setDisabledPlaceholder",
{value:function(a){this._disabledPlaceholder=a;this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"focusedPlaceholder",{value:function(){return this._focusedPlaceholder},enumerable:!1,writable:!0});e(b.prototype,"setFocusedPlaceholder",{value:function(a){this._focusedPlaceholder=a;this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"placeholder",{value:function(){return this._placeholder},enumerable:!1,writable:!0});e(b.prototype,"setPlaceholder",{value:function(a){this._placeholder=
a;this.element.setAttribute("placeholder",this._placeholder)},enumerable:!1,writable:!0});e(b.prototype,"unfocusedPlaceholder",{value:function(){return this._unfocusedPlaceholder},enumerable:!1,writable:!0});e(b.prototype,"setUnfocusedPlaceholder",{value:function(a){this._unfocusedPlaceholder=a;this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"_applyChangeFromUndoManager",{value:function(a){this.undoManager().proxyFor(this)._applyChangeFromUndoManager(a);this.undoManager().isUndoing()?
(this.setText(a.current.text),this.setSelectedRange(a.current.selectedRange)):(this.setText(a.proposed.text),this.setSelectedRange(a.proposed.selectedRange));this._textDidChange()},enumerable:!1,writable:!0});e(b.prototype,"_buildKeybindings",{value:function(){var a=this.element.ownerDocument,a=/^Mozilla\/[\d\.]+ \(Macintosh/.test((a.defaultView||a.parentWindow).navigator.userAgent);this._bindings=Ia(a?"OSX":"Default")},enumerable:!1,writable:!0});e(b.prototype,"_click",{value:function(){this._needsManualCaret&&
(this._manualCaret=$.get(this.element));this.selectionAffinity=m},enumerable:!1,writable:!0});e(b.prototype,"_fireEvent",{value:function(a){if("undefined"===typeof CustomEvent){var d=document.createEvent("Event");d.initEvent(a,!1,!1);this.element.dispatchEvent(d)}else this.element.dispatchEvent(new CustomEvent(a,{}))},enumerable:!1,writable:!0});e(b.prototype,"_focusin",{value:function(){this._textFieldDidBeginEditing();return this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"_focusout",
{value:function(){this._textFieldDidEndEditing();return this._syncPlaceholder()},enumerable:!1,writable:!0});e(b.prototype,"_keyDown",{value:function(a){this._didEndEditingButKeptFocus&&(this._textFieldDidBeginEditing(),this._didEndEditingButKeptFocus=!1);var d=this._bindings.actionForEvent(a);if(d)switch(d){case "undo":case "redo":this[d](a);break;default:this.rollbackInvalidChanges(function(){return this[d](a)}.bind(this))}},enumerable:!1,writable:!0});e(b.prototype,"_keyPress",{value:function(a){var d=
a.keyCode;if(!a.metaKey&&(!a.ctrlKey&&d!==ab&&d!==xa&&d!==$a)&&(a.preventDefault(),0!==a.charCode)){var b=a.charCode||a.keyCode;this.rollbackInvalidChanges(function(){return this.insertText(String.fromCharCode(b))}.bind(this))}},enumerable:!1,writable:!0});e(b.prototype,"_keyUp",{value:function(a){this.rollbackInvalidChanges(function(){a.keyCode===xa&&this.selectAll(a)}.bind(this))},enumerable:!1,writable:!0});e(b.prototype,"_lastWordBreakBeforeIndex",{value:function(a){for(var d=this._leftWordBreakIndexes(),
b=d[0],c=0,f=d.length;c<f;c++){var e=d[c];if(a>e)b=e;else break}return b},enumerable:!1,writable:!0});e(b.prototype,"_leftWordBreakIndexes",{value:function(){for(var a=[],d=this.text(),b=0,c=d.length;b<c;b++){var f;f=d;var e=b;f=0===e?!0:!H(f[e-1])&&H(f[e]);f&&a.push(b)}return a},enumerable:!1,writable:!0});e(b.prototype,"_nextWordBreakAfterIndex",{value:function(a){for(var d=this.rightWordBreakIndexes().reverse(),b=d[0],c=0,f=d.length;c<f;c++){var e=d[c];if(a<e)b=e;else break}return b},enumerable:!1,
writable:!0});e(b.prototype,"_paste",{value:function(a){a.preventDefault();this.rollbackInvalidChanges(function(){this.readSelectionFromPasteboard(a.originalEvent.clipboardData)}.bind(this))},enumerable:!1,writable:!0});e(b.prototype,"_syncPlaceholder",{value:function(){var a=this._enabled?this.hasFocus()?this._focusedPlaceholder:this._unfocusedPlaceholder:this._disabledPlaceholder;void 0!==a&&null!==a&&this.setPlaceholder(a)},enumerable:!1,writable:!0});return b}(),ya=function(){function b(a){this.field=
a}e(b.prototype,"hasChanges",{value:function(){this.recomputeDiff();return this.current.text!==this.proposed.text||this.current.selectedRange.start!==this.proposed.selectedRange.start||this.current.selectedRange.length!==this.proposed.selectedRange.length},enumerable:!1,writable:!0});e(b.prototype,"recomputeDiff",{value:function(){if(this.proposed.text!==this.current.text){var a=this.current.text,d=this.proposed.text,b=0,c=0,f=Math.min(a.length,d.length),e;for(e=0;e<f;e++)if(d[e]===a[e])b=e+1;else break;
for(e=0;e<f-b;e++)if(d[d.length-1-e]===a[a.length-1-e])c=e+1;else break;f={start:b,end:d.length-c};b={start:b,end:a.length-c};f.text=d.substring(f.start,f.end);b.text=a.substring(b.start,b.end);this.inserted=f;this.deleted=b}else this.inserted={start:this.proposed.selectedRange.start,end:this.proposed.selectedRange.start+this.proposed.selectedRange.length,text:""},this.deleted={start:this.current.selectedRange.start,end:this.current.selectedRange.start+this.current.selectedRange.length,text:""};return null},
enumerable:!1,writable:!0});return b}();ya.build=function(b,a){var d=new this(b);d.current={text:b.text(),selectedRange:b.selectedRange()};a();d.proposed={text:b.text(),selectedRange:b.selectedRange()};d.recomputeDiff();return d};var ba=Object.getPrototypeOf,n=Object.defineProperty,bb=Object.create,ca={None:"None",DoneEditing:"DoneEditing"},za=function(b){function a(d){ba(a.prototype).constructor.call(this,d,new ta);this.setCardMaskStrategy(ca.None);this._editing=this._masked=!1}a.__proto__=null!==
b?b:Function.prototype;a.prototype=bb(null!==b?b.prototype:null);n(a.prototype,"constructor",{value:a});n(a.prototype,"cardType",{value:function(){return F(this.value())},enumerable:!1,writable:!0});n(a.prototype,"cardMaskStrategy",{value:function(){return this._cardMaskStrategy},enumerable:!1,writable:!0});n(a.prototype,"setCardMaskStrategy",{value:function(a){a!==this._cardMaskStrategy&&(this._cardMaskStrategy=a,this._syncMask());return null},enumerable:!1,writable:!0});n(a.prototype,"cardMask",
{value:function(){var a=this.text(),b=a.slice(0,-4),a=a.slice(-4);return b.replace(/\d/g,"\u2022")+a},enumerable:!1,writable:!0});n(a.prototype,"text",{value:function(){return this._masked?this._unmaskedText:ba(a.prototype).text.call(this)},enumerable:!1,writable:!0});n(a.prototype,"setText",{value:function(d){this._masked&&(this._unmaskedText=d,d=this.cardMask());ba(a.prototype).setText.call(this,d)},enumerable:!1,writable:!0});n(a.prototype,"textFieldDidEndEditing",{value:function(){this._editing=
!1;this._syncMask()},enumerable:!1,writable:!0});n(a.prototype,"textFieldDidBeginEditing",{value:function(){this._editing=!0;this._syncMask()},enumerable:!1,writable:!0});n(a.prototype,"_enableMasking",{value:function(){this._masked||(this._unmaskedText=this.text(),this._masked=!0,this.setText(this._unmaskedText))},enumerable:!1,writable:!0});n(a.prototype,"_disableMasking",{value:function(){this._masked&&(this._masked=!1,this.setText(this._unmaskedText),this._unmaskedText=null)},enumerable:!1,writable:!0});
n(a.prototype,"_syncMask",{value:function(){this.cardMaskStrategy()===ca.DoneEditing&&(this._editing?this._disableMasking():this._enableMasking())},enumerable:!1,writable:!0});return a}(aa);za.CardMaskStrategy=ca;var Aa=Object.getPrototypeOf,E=Object.defineProperty,cb=Object.create,Ba=function(b){function a(){Aa(a.prototype).constructor.call(this,"/");this.maximumLength=5}a.__proto__=null!==b?b:Function.prototype;a.prototype=cb(null!==b?b.prototype:null);E(a.prototype,"constructor",{value:a});E(a.prototype,
"hasDelimiterAtIndex",{value:function(a){return 2===a},enumerable:!1,writable:!0});E(a.prototype,"format",{value:function(d){if(!d)return"";var b=d.month;d=d.year;d%=100;return Aa(a.prototype).format.call(this,ka(2,b)+ka(2,d))},enumerable:!1,writable:!0});E(a.prototype,"parse",{value:function(a,b){var c=a.split(this.delimiter),f=c[0],c=c[1];if(f&&f.match(/^(0?[1-9]|1\d)$/)&&c&&c.match(/^\d\d?$/))return f=Number(f),c=Oa(Number(c)),{month:f,year:c};"function"===typeof b&&b("expiry-date-formatter.invalid-date");
return null},enumerable:!1,writable:!0});E(a.prototype,"isChangeValid",{value:function(a,b){b||(b=function(){});var c=a.proposed.text;if(a.proposed.text.length<a.current.text.length)a.deleted.text===this.delimiter&&(c=c[0]),"0"===c&&(c="");else if(a.inserted.text===this.delimiter&&"1"===a.current.text)c="01"+this.delimiter;else{if(0<a.inserted.text.length&&!/^\d$/.test(a.inserted.text))return b("expiry-date-formatter.only-digits-allowed"),!1;/^[2-9]$/.test(c)&&(c="0"+c);if(/^1[3-9]$/.test(c)||"00"===
c)return b("expiry-date-formatter.invalid-month"),!1;/^(0[1-9]|1[0-2])$/.test(c)&&(c+=this.delimiter);var f=c.match(/^(\d\d)(.)(\d\d?).*$/);f&&f[2]===this.delimiter&&(c=f[1]+this.delimiter+f[3])}a.proposed.text=c;a.proposed.selectedRange={start:c.length,length:0};return!0},enumerable:!1,writable:!0});return a}(D),db=Object.getPrototypeOf,Ca=Object.defineProperty,eb=Object.create,fb=function(b){function a(b){db(a.prototype).constructor.call(this,b,new Ba)}a.__proto__=null!==b?b:Function.prototype;
a.prototype=eb(null!==b?b.prototype:null);Ca(a.prototype,"constructor",{value:a});Ca(a.prototype,"textFieldDidEndEditing",{value:function(){var a=this.value();if(a)return this.setText(this.formatter().format(a))},enumerable:!1,writable:!0});return a}(aa),r={CEILING:0,FLOOR:1,DOWN:2,UP:3,HALF_EVEN:4,HALF_DOWN:5,HALF_UP:6},Qa=/^(-)?(\d*)(?:\.(\d*))?$/,Sa=Array.prototype.slice,gb=Object.getPrototypeOf,g=Object.defineProperty,hb=Object.create,da=0,k=function(b){function a(){gb(a.prototype).constructor.call(this);
this._locale="en";this.setNumberStyle(da)}a.__proto__=null!==b?b:Function.prototype;a.prototype=hb(null!==b?b.prototype:null);g(a.prototype,"constructor",{value:a});g(a.prototype,"allowsFloats",{value:function(){return this._get("allowsFloats")},enumerable:!1,writable:!0});g(a.prototype,"setAllowsFloats",{value:function(a){this._allowsFloats=a;return this},enumerable:!1,writable:!0});g(a.prototype,"alwaysShowsDecimalSeparator",{value:function(){return this._get("alwaysShowsDecimalSeparator")},enumerable:!1,
writable:!0});g(a.prototype,"setAlwaysShowsDecimalSeparator",{value:function(a){this._alwaysShowsDecimalSeparator=a;return this},enumerable:!1,writable:!0});g(a.prototype,"countryCode",{value:function(){return this._countryCode||"US"},enumerable:!1,writable:!0});g(a.prototype,"setCountryCode",{value:function(a){this._countryCode=a;return this},enumerable:!1,writable:!0});g(a.prototype,"currencyCode",{value:function(){return this._get("currencyCode")},enumerable:!1,writable:!0});g(a.prototype,"setCurrencyCode",
{value:function(a){this._currencyCode=a;return this},enumerable:!1,writable:!0});g(a.prototype,"currencySymbol",{value:function(){return this._shouldShowNativeCurrencySymbol()?this._get("currencySymbol"):this._get("internationalCurrencySymbol")},enumerable:!1,writable:!0});g(a.prototype,"setCurrencySymbol",{value:function(a){this._currencySymbol=a;return this},enumerable:!1,writable:!0});g(a.prototype,"_shouldShowNativeCurrencySymbol",{value:function(){var a=this._regionDefaults().currencyCode;"function"===
typeof a&&(a=a());return this.currencyCode()===a},enumerable:!1,writable:!0});g(a.prototype,"decimalSeparator",{value:function(){return this._get("decimalSeparator")},enumerable:!1,writable:!0});g(a.prototype,"setDecimalSeparator",{value:function(a){this._decimalSeparator=a;return this},enumerable:!1,writable:!0});g(a.prototype,"groupingSeparator",{value:function(){return this._get("groupingSeparator")},enumerable:!1,writable:!0});g(a.prototype,"setGroupingSeparator",{value:function(a){this._groupingSeparator=
a;return this},enumerable:!1,writable:!0});g(a.prototype,"groupingSize",{value:function(){return this._get("groupingSize")},enumerable:!1,writable:!0});g(a.prototype,"setGroupingSize",{value:function(a){this._groupingSize=a;return this},enumerable:!1,writable:!0});g(a.prototype,"internationalCurrencySymbol",{value:function(){return this._get("internationalCurrencySymbol")},enumerable:!1,writable:!0});g(a.prototype,"setInternationalCurrencySymbol",{value:function(a){this._internationalCurrencySymbol=
a;return this},enumerable:!1,writable:!0});g(a.prototype,"isLenient",{value:function(){return this._lenient},enumerable:!1,writable:!0});g(a.prototype,"setLenient",{value:function(a){this._lenient=a;return this},enumerable:!1,writable:!0});g(a.prototype,"locale",{value:function(){return this._locale||"en-US"},enumerable:!1,writable:!0});g(a.prototype,"setLocale",{value:function(a){this._locale=a;return this},enumerable:!1,writable:!0});g(a.prototype,"maximum",{value:function(){return this._maximum},
enumerable:!1,writable:!0});g(a.prototype,"setMaximum",{value:function(a){this._maximum=a;return this},enumerable:!1,writable:!0});g(a.prototype,"minimum",{value:function(){return this._minimum},enumerable:!1,writable:!0});g(a.prototype,"setMinimum",{value:function(a){this._minimum=a;return this},enumerable:!1,writable:!0});g(a.prototype,"maximumFractionDigits",{value:function(){var a=this._get("maximumFractionDigits"),b=this._minimumFractionDigits;null!==a&&(void 0!==a&&null!==b&&void 0!==b&&b>a)&&
(a=b);return a},enumerable:!1,writable:!0});g(a.prototype,"setMaximumFractionDigits",{value:function(a){this._maximumFractionDigits=a;return this},enumerable:!1,writable:!0});g(a.prototype,"minimumFractionDigits",{value:function(){var a=this._get("minimumFractionDigits"),b=this._maximumFractionDigits;null!==a&&(void 0!==a&&null!==b&&void 0!==b&&b<a)&&(a=b);return a},enumerable:!1,writable:!0});g(a.prototype,"setMinimumFractionDigits",{value:function(a){this._minimumFractionDigits=a;return this},enumerable:!1,
writable:!0});g(a.prototype,"maximumIntegerDigits",{value:function(){var a=this._get("maximumIntegerDigits"),b=this._minimumIntegerDigits;null!==a&&(void 0!==a&&null!==b&&void 0!==b&&b>a)&&(a=b);return a},enumerable:!1,writable:!0});g(a.prototype,"setMaximumIntegerDigits",{value:function(a){this._maximumIntegerDigits=a;return this},enumerable:!1,writable:!0});g(a.prototype,"minimumIntegerDigits",{value:function(){var a=this._get("minimumIntegerDigits"),b=this._maximumIntegerDigits;null!==a&&(void 0!==
a&&null!==b&&void 0!==b&&b<a)&&(a=b);return a},enumerable:!1,writable:!0});g(a.prototype,"setMinimumIntegerDigits",{value:function(a){this._minimumIntegerDigits=a;return this},enumerable:!1,writable:!0});g(a.prototype,"exponent",{value:function(){return this._get("exponent")},enumerable:!1,writable:!0});g(a.prototype,"setExponent",{value:function(a){this._exponent=a;return this},enumerable:!1,writable:!0});g(a.prototype,"negativeInfinitySymbol",{value:function(){return this._get("negativeInfinitySymbol")},
enumerable:!1,writable:!0});g(a.prototype,"setNegativeInfinitySymbol",{value:function(a){this._negativeInfinitySymbol=a;return this},enumerable:!1,writable:!0});g(a.prototype,"negativePrefix",{value:function(){return this._get("negativePrefix")},enumerable:!1,writable:!0});g(a.prototype,"setNegativePrefix",{value:function(a){this._negativePrefix=a;return this},enumerable:!1,writable:!0});g(a.prototype,"negativeSuffix",{value:function(){return this._get("negativeSuffix")},enumerable:!1,writable:!0});
g(a.prototype,"setNegativeSuffix",{value:function(a){this._negativeSuffix=a;return this},enumerable:!1,writable:!0});g(a.prototype,"notANumberSymbol",{value:function(){return this._get("notANumberSymbol")},enumerable:!1,writable:!0});g(a.prototype,"setNotANumberSymbol",{value:function(a){this._notANumberSymbol=a;return this},enumerable:!1,writable:!0});g(a.prototype,"nullSymbol",{value:function(){return this._get("nullSymbol")},enumerable:!1,writable:!0});g(a.prototype,"setNullSymbol",{value:function(a){this._nullSymbol=
a;return this},enumerable:!1,writable:!0});g(a.prototype,"numberStyle",{value:function(){return this._numberStyle},enumerable:!1,writable:!0});g(a.prototype,"setNumberStyle",{value:function(a){this._numberStyle=a;switch(this._numberStyle){case da:this._styleDefaults=ea.NONE;break;case 2:this._styleDefaults=ea.PERCENT;break;case 1:this._styleDefaults=ea.CURRENCY;break;default:this._styleDefaults=null}return this},enumerable:!1,writable:!0});g(a.prototype,"percentSymbol",{value:function(){return this._get("percentSymbol")},
enumerable:!1,writable:!0});g(a.prototype,"setPercentSymbol",{value:function(a){this._percentSymbol=a;return this},enumerable:!1,writable:!0});g(a.prototype,"positiveInfinitySymbol",{value:function(){return this._get("positiveInfinitySymbol")},enumerable:!1,writable:!0});g(a.prototype,"setPositiveInfinitySymbol",{value:function(a){this._positiveInfinitySymbol=a;return this},enumerable:!1,writable:!0});g(a.prototype,"positivePrefix",{value:function(){return this._get("positivePrefix")},enumerable:!1,
writable:!0});g(a.prototype,"setPositivePrefix",{value:function(a){this._positivePrefix=a;return this},enumerable:!1,writable:!0});g(a.prototype,"positiveSuffix",{value:function(){return this._get("positiveSuffix")},enumerable:!1,writable:!0});g(a.prototype,"setPositiveSuffix",{value:function(a){this._positiveSuffix=a;return this},enumerable:!1,writable:!0});g(a.prototype,"roundingMode",{value:function(){return this._get("roundingMode")},enumerable:!1,writable:!0});g(a.prototype,"setRoundingMode",
{value:function(a){this._roundingMode=a;return this},enumerable:!1,writable:!0});g(a.prototype,"usesGroupingSeparator",{value:function(){return this._get("usesGroupingSeparator")},enumerable:!1,writable:!0});g(a.prototype,"setUsesGroupingSeparator",{value:function(a){this._usesGroupingSeparator=a;return this},enumerable:!1,writable:!0});g(a.prototype,"zeroSymbol",{value:function(){return this._get("zeroSymbol")},enumerable:!1,writable:!0});g(a.prototype,"setZeroSymbol",{value:function(a){this._zeroSymbol=
a;return this},enumerable:!1,writable:!0});g(a.prototype,"_get",{value:function(a){var b=this["_"+a];if(null!==b&&void 0!==b)return b;var c=this._styleDefaults,f=this._localeDefaults(),e=this._regionDefaults(),b=v(c,a,this,f);if(null!==b&&void 0!==b)return b;b=v(f,a,this,c);if(null!==b&&void 0!==b)return b;b=v(e,a,this,c);if(null!==b&&void 0!==b)return b;b=v(this._currencyDefaults(),a,this,f);return null!==b&&void 0!==b?b:null},enumerable:!1,writable:!0});g(a.prototype,"format",{value:function(a){if(""===
a)return"";var b=this.zeroSymbol();if(void 0!==b&&null!==b&&0===a)return b;b=this.nullSymbol();if(void 0!==b&&null!==b&&null===a)return b;b=this.notANumberSymbol();if(void 0!==b&&null!==b&&isNaN(a))return b;b=this.positiveInfinitySymbol();if(void 0!==b&&null!==b&&Infinity===a)return b;b=this.negativeInfinitySymbol();if(void 0!==b&&null!==b&&-Infinity===a)return b;var b=0>a,c=(""+Math.abs(a)).split(".");a=c[0];var c=c[1]||"",f=this.exponent();if(void 0!==f&&null!==f)for(c=I([b,a,c],f),b=c[0],a=c[1],
c=c[2];"0"===a[0];)a=a.slice(1);f=this.maximumFractionDigits();c.length>f&&(a=""+a+"."+c+"",a=this._round(b?"-"+a+"":a),"-"===a[0]&&(a=a.slice(1)),c=a.split("."),a=c[0],c=c[1]||"");for(f=this.minimumFractionDigits();c.length<f;)c+="0";for(var e=this.minimumIntegerDigits();a.length<e;)a="0"+a;for(;c.length>f&&"0"===c.slice(-1);)c=c.slice(0,-1);f=this.maximumIntegerDigits();void 0!==f&&(null!==f&&a.length>f)&&(a=a.slice(-f));if(0<c.length||this.alwaysShowsDecimalSeparator())c=this.decimalSeparator()+
c;if(this.usesGroupingSeparator()){for(var f="",e=0,g=a.length-1;0<=g;g--)0<e&&0===e%this.groupingSize()&&(f=this.groupingSeparator()+f),f=a[g]+f,e++;a=f}a+=c;return a=b?this.negativePrefix()+a+this.negativeSuffix():this.positivePrefix()+a+this.positiveSuffix()},enumerable:!1,writable:!0});g(a.prototype,"_round",{value:function(a){return Pa(a,this.maximumFractionDigits(),this.roundingMode())},enumerable:!1,writable:!0});g(a.prototype,"parse",{value:function(a,b){var c;c=this.positivePrefix();var f=
this.negativePrefix(),e=this.positiveSuffix(),g=this.negativeSuffix();this.isLenient()&&(a=a.replace(/\s/g,""),c=M(c),f=M(f),e=M(e),g=M(g));var k,l,m,n,p;if(void 0!==(k=this.zeroSymbol())&&null!==k&&a===k)c=0;else if(void 0!==(l=this.nullSymbol())&&null!==l&&a===l)c=null;else if(void 0!==(m=this.notANumberSymbol())&&null!==m&&a===m)c=NaN;else if(void 0!==(n=this.positiveInfinitySymbol())&&null!==n&&a===n)c=Infinity;else if(void 0!==(p=this.negativeInfinitySymbol())&&null!==p&&a===p)c=-Infinity;else if(l=
a.slice(0,f.length)===f,k=a.slice(a.length-g.length)===g,l&&(this.isLenient()||k))f=a.slice(f.length),k&&(f=f.slice(0,f.length-g.length)),c=this._parseAbsoluteValue(f,b),void 0!==c&&null!==c&&(c*=-1);else if(g=a.slice(0,c.length)===c,k=a.slice(a.length-e.length)===e,this.isLenient()||g&&k)f=a,g&&(f=f.slice(c.length)),k&&(f=f.slice(0,f.length-e.length)),c=this._parseAbsoluteValue(f,b);else return"function"===typeof b&&b("number-formatter.invalid-format"),null;if(void 0!==c&&null!==c){e=this.minimum();
if(void 0!==e&&null!==e&&c<e)return"function"===typeof b&&b("number-formatter.out-of-bounds.below-minimum"),null;e=this.maximum();if(void 0!==e&&null!==e&&c>e)return"function"===typeof b&&b("number-formatter.out-of-bounds.above-maximum"),null}return c},enumerable:!1,writable:!0});g(a.prototype,"_parseAbsoluteValue",{value:function(a,b){var c;if(0===a.length)return"function"===typeof b&&b("number-formatter.invalid-format"),null;c=a.split(this.decimalSeparator());if(2<c.length)return"function"===typeof b&&
b("number-formatter.invalid-format"),null;var f=c[0];c=c[1]||"";if(this.usesGroupingSeparator()){var e=this.groupingSize(),f=f.split(this.groupingSeparator());if(!this.isLenient()&&1<f.length){if(f[0].length>e)return"function"===typeof b&&b("number-formatter.invalid-format.grouping-size"),null;for(var g=f.slice(1),k=0,l=g.length;k<l;k++)if(g[k].length!==e)return"function"===typeof b&&b("number-formatter.invalid-format.grouping-size"),null}f=f.join("")}if(!ua.test(f)||!ua.test(c))return"function"===
typeof b&&b("number-formatter.invalid-format"),null;e=this.exponent();void 0!==e&&null!==e&&(c=I([!1,f,c],-e),f=c[1],c=c[2]);c=Number(f)+Number("."+(c||"0"));return this.allowsFloats()||c===~~c?c:("function"===typeof b&&b("number-formatter.floats-not-allowed"),null)},enumerable:!1,writable:!0});g(a.prototype,"_currencyDefaults",{value:function(){var a={};x(Da["default"],function(b,c){a[c]=b});x(Da[this.currencyCode()],function(b,c){a[c]=b});return a},enumerable:!1,writable:!0});g(a.prototype,"_regionDefaults",
{value:function(){var a={};x(N.default,function(b,c){a[c]=b});x(N[this.countryCode()],function(b,c){a[c]=b});return a},enumerable:!1,writable:!0});g(a.prototype,"_localeDefaults",{value:function(){var a=this.locale(),b=this.countryCode(),c=Ra(a).lang,f={};x([N.default,fa.default,N[b],fa[c],fa[a]],function(a){x(a,function(a,b){f[b]=a})});return f},enumerable:!1,writable:!0});return a}(J);k.prototype._allowsFloats=null;k.prototype._alwaysShowsDecimalSeparator=null;k.prototype._countryCode=null;k.prototype._currencyCode=
null;k.prototype._exponent=null;k.prototype._groupingSeparator=null;k.prototype._groupingSize=null;k.prototype._lenient=!1;k.prototype._locale=null;k.prototype._internationalCurrencySymbol=null;k.prototype._maximumFractionDigits=null;k.prototype._minimumFractionDigits=null;k.prototype._maximumIntegerDigits=null;k.prototype._minimumIntegerDigits=null;k.prototype._maximum=null;k.prototype._minimum=null;k.prototype._notANumberSymbol=null;k.prototype._nullSymbol=null;k.prototype._numberStyle=null;k.prototype._roundingMode=
null;k.prototype._usesGroupingSeparator=null;k.prototype._zeroSymbol=null;k.prototype.stringFromNumber=k.prototype.format;k.prototype.numberFromString=k.prototype.parse;k.prototype.minusSign=k.prototype.negativePrefix;k.prototype.setMinusSign=k.prototype.setNegativePrefix;k.prototype.plusSign=k.prototype.positivePrefix;k.prototype.setPlusSign=k.prototype.setPositivePrefix;k.Rounding=r;k.Style={NONE:da,CURRENCY:1,PERCENT:2};var ea={NONE:{usesGroupingSeparator:!1,minimumFractionDigits:0,maximumFractionDigits:0,
minimumIntegerDigits:0},PERCENT:{usesGroupingSeparator:!1,exponent:2,minimumFractionDigits:0,maximumFractionDigits:0,minimumIntegerDigits:1,positiveSuffix:function(b){return b.percentSymbol()},negativeSuffix:function(b){return b.percentSymbol()}},CURRENCY:{positivePrefix:function(b,a){return v(a,"positiveCurrencyPrefix",b,this)},positiveSuffix:function(b,a){return v(a,"positiveCurrencySuffix",b,this)},negativePrefix:function(b,a){return v(a,"negativeCurrencyPrefix",b,this)},negativeSuffix:function(b,
a){return v(a,"negativeCurrencySuffix",b,this)}}},fa={"default":{allowsFloats:!0,alwaysShowsDecimalSeparator:!1,decimalSeparator:".",groupingSeparator:",",groupingSize:3,negativeInfinitySymbol:"-\u221e",negativePrefix:"-",negativeSuffix:"",notANumberSymbol:"NaN",nullSymbol:"",percentSymbol:"%",positiveInfinitySymbol:"+\u221e",positivePrefix:"",positiveSuffix:"",roundingMode:k.Rounding.HALF_EVEN,positiveCurrencyPrefix:function(b){return b.currencySymbol()},positiveCurrencySuffix:"",negativeCurrencyPrefix:function(b){return"("+
b.currencySymbol()},negativeCurrencySuffix:function(){return")"}},fr:{decimalSeparator:",",groupingSeparator:" ",percentSymbol:" %",positiveCurrencyPrefix:"",positiveCurrencySuffix:function(b){return" "+b.currencySymbol()},negativeCurrencyPrefix:function(){return"("},negativeCurrencySuffix:function(b){return" "+b.currencySymbol()+")"}},ja:{negativeCurrencyPrefix:function(b){return"-"+b.currencySymbol()},negativeCurrencySuffix:""},"en-GB":{negativeCurrencyPrefix:function(b){return"-"+b.currencySymbol()},
negativeCurrencySuffix:""}},N={CA:{currencyCode:"CAD"},DE:{currencyCode:"EUR"},ES:{currencyCode:"EUR"},FR:{currencyCode:"EUR"},GB:{currencyCode:"GBP"},JP:{currencyCode:"JPY"},US:{currencyCode:"USD"}},Da={"default":{currencySymbol:function(b){return b.currencyCode()},internationalCurrencySymbol:function(b){return b.currencyCode()},minimumFractionDigits:2,maximumFractionDigits:2,minimumIntegerDigits:1,usesGroupingSeparator:!0},CAD:{currencySymbol:"$",internationalCurrencySymbol:"CA$"},EUR:{currencySymbol:"\u20ac"},
GBP:{currencySymbol:"\u00a3",internationalCurrencySymbol:"GB\u00a3"},JPY:{currencySymbol:"\u00a5",internationalCurrencySymbol:"JP\u00a5",minimumFractionDigits:0,maximumFractionDigits:0},USD:{currencySymbol:"$",internationalCurrencySymbol:"US$"}},O=Object.getPrototypeOf,t=Object.defineProperty,ib=Object.create,jb={0:"(",4:")",5:" ",9:"-"},kb={1:" ",2:"(",6:")",7:" ",11:"-"},lb={2:" ",3:"(",7:")",8:" ",12:"-"},mb=/[-\(\) ]/g,nb=function(b){function a(){var a=[].slice.call(arguments,0);if(0!==a.length)throw Error("were you trying to set a delimiter ("+
a[0]+")?");}a.__proto__=null!==b?b:Function.prototype;a.prototype=ib(null!==b?b.prototype:null);t(a.prototype,"constructor",{value:a});t(a.prototype,"isDelimiter",{value:function(a){var b=this.delimiterMap,c;for(c in b)if(b.hasOwnProperty(c)&&b[c]===a)return!0;return!1},enumerable:!1,writable:!0});t(a.prototype,"delimiterAt",{value:function(a){return this.delimiterMap[a]},enumerable:!1,writable:!0});t(a.prototype,"hasDelimiterAtIndex",{value:function(a){a=this.delimiterAt(a);return void 0!==a&&null!==
a},enumerable:!1,writable:!0});t(a.prototype,"parse",{value:function(b,e){e||(e=function(){});var c=this.digitsWithoutCountryCode(b);10>b.length&&e("phone-formatter.number-too-short");"0"===c[0]&&e("phone-formatter.area-code-zero");"1"===c[0]&&e("phone-formatter.area-code-one");"9"===c[1]&&e("phone-formatter.area-code-n9n");"1"===c[3]&&e("phone-formatter.central-office-one");"11"===c.slice(4,6)&&e("phone-formatter.central-office-n11");return O(a.prototype).parse.call(this,b,e)},enumerable:!1,writable:!0});
t(a.prototype,"format",{value:function(b){this.guessFormatFromText(b);return O(a.prototype).format.call(this,this.removeDelimiterMapChars(b))},enumerable:!1,writable:!0});t(a.prototype,"isChangeValid",{value:function(b,e){this.guessFormatFromText(b.proposed.text);if(1<b.inserted.text.length){var c=b.current.text,f=b.current.selectedRange,g=b.inserted.text,g=this.format((c.slice(0,f.start)+g+c.slice(f.start+f.length)).replace(/[^\d]/g,""));b.proposed={text:g,selectedRange:{start:g.length-(c.length-
(f.start+f.length)),length:0}};return O(a.prototype).isChangeValid.call(this,b,e)}return/^\d*$/.test(b.inserted.text)||0===b.proposed.text.indexOf("+")?O(a.prototype).isChangeValid.call(this,b,e):!1},enumerable:!1,writable:!0});t(a.prototype,"guessFormatFromText",{value:function(a){a&&"+"===a[0]?(this.delimiterMap=lb,this.maximumLength=17):a&&"1"===a[0]?(this.delimiterMap=kb,this.maximumLength=16):(this.delimiterMap=jb,this.maximumLength=14)},enumerable:!1,writable:!0});t(a.prototype,"digitsWithoutCountryCode",
{value:function(a){a=(a||"").replace(/[^\d]/g,"");var b=a.length-10;0<b&&(a=a.substr(b));return a},enumerable:!1,writable:!0});t(a.prototype,"removeDelimiterMapChars",{value:function(a){return(a||"").replace(mb,"")},enumerable:!1,writable:!0});return a}(D),Ea=Object.getPrototypeOf,ga=Object.defineProperty,ob=Object.create,pb=/^\d*$/,qb=function(b){function a(){Ea(a.prototype).constructor.call(this,"-");this.maximumLength=11}a.__proto__=null!==b?b:Function.prototype;a.prototype=ob(null!==b?b.prototype:
null);ga(a.prototype,"constructor",{value:a});ga(a.prototype,"hasDelimiterAtIndex",{value:function(a){return 3===a||6===a},enumerable:!1,writable:!0});ga(a.prototype,"isChangeValid",{value:function(b){return pb.test(b.inserted.text)?Ea(a.prototype).isChangeValid.call(this,b):!1},enumerable:!1,writable:!0});return a}(D),P={AdaptiveCardFormatter:ta,AmexCardFormatter:sa,CardTextField:za,CardUtils:{AMEX:G,DISCOVER:R,VISA:Q,MASTERCARD:S,determineCardType:F,luhnCheck:ia,validCardLength:ja},DefaultCardFormatter:Y,
DelimitedTextFormatter:D,ExpiryDateField:fb,ExpiryDateFormatter:Ba,Formatter:J,NumberFormatter:k,PhoneFormatter:nb,SocialSecurityNumberFormatter:qb,TextField:aa,UndoManager:va};"function"===typeof define&&define.amd?define(function(){return P}):"undefined"!==typeof module&&module.exports?module.exports=P:"undefined"!==typeof window?window.FieldKit=P:this.FieldKit=P}).call(this);
